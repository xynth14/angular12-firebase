(self.webpackChunkempleados=self.webpackChunkempleados||[]).push([[179],{8255:Je=>{function be(L){return Promise.resolve().then(()=>{var p=new Error("Cannot find module '"+L+"'");throw p.code="MODULE_NOT_FOUND",p})}be.keys=()=>[],be.resolve=be,be.id=8255,Je.exports=be},3018:(Je,be,L)=>{"use strict";L.d(be,{deG:()=>ct,tb:()=>gT,AFp:()=>wc,ip1:()=>I_,CZH:()=>zf,hGG:()=>yR,z2F:()=>em,sBO:()=>ZC,Sil:()=>xt,_Vd:()=>fc,EJc:()=>yT,SBq:()=>ai,qLn:()=>Nu,vpe:()=>$a,gxx:()=>_f,tBr:()=>Ol,XFs:()=>Ae,OlP:()=>Qt,zs3:()=>An,ZZ4:()=>Jy,aQg:()=>Xy,soG:()=>xi,YKP:()=>JC,v3s:()=>oR,h0i:()=>Pf,PXZ:()=>Qg,R0b:()=>Os,FiY:()=>as,Lbi:()=>T_,g9A:()=>Wf,Qsj:()=>xg,FYo:()=>Rg,JOm:()=>N,Tiy:()=>Qy,q3G:()=>Xt,tp0:()=>eo,EAV:()=>VT,Rgc:()=>Pg,dDg:()=>DT,DyG:()=>Rl,q4F:()=>rw,GfV:()=>qC,s_b:()=>kg,ifc:()=>bt,eFA:()=>Jg,G48:()=>xT,Gpc:()=>pe,X6Q:()=>A_,_c5:()=>fR,VLi:()=>NT,c2e:()=>mT,zSh:()=>vf,wAp:()=>it,vHH:()=>ge,EiD:()=>Wh,mCW:()=>$o,qzn:()=>us,JVY:()=>Zc,pB0:()=>ri,eBb:()=>Yc,L6k:()=>Rm,LAX:()=>xm,cg1:()=>bg,Tjo:()=>qT,kL8:()=>mC,yhl:()=>xp,dqk:()=>H,sIi:()=>Lu,CqO:()=>vy,QGY:()=>Rd,F4k:()=>_y,RDi:()=>vs,AaK:()=>Z,z3N:()=>jo,qOj:()=>ay,TTD:()=>il,_Bn:()=>XE,xp6:()=>en,uIk:()=>ly,Tol:()=>Ty,ekj:()=>_g,Suo:()=>kw,Xpm:()=>_o,lG2:()=>ah,Yz7:()=>St,cJS:()=>Pr,oAB:()=>sa,Yjl:()=>Bs,Y36:()=>lc,_UZ:()=>$0,BQk:()=>uE,ynx:()=>aE,qZA:()=>yy,TgZ:()=>fg,EpF:()=>pg,n5z:()=>Nr,Ikx:()=>kE,LFG:()=>kn,$8M:()=>Po,NdJ:()=>lE,CRH:()=>DN,oxw:()=>Ey,ALo:()=>UI,lcZ:()=>jI,Q6J:()=>Af,VKq:()=>Aw,iGM:()=>Pw,CHM:()=>su,oJD:()=>Op,LSH:()=>Ds,kYT:()=>Eo,Udp:()=>yg,d8E:()=>wg,YNc:()=>A0,_uU:()=>TE,Oqu:()=>Sy,hij:()=>Ny});var p=L(9765),X=L(5319),k=L(7574),ce=L(6682),re=L(2441);var le=L(1307);function te(){return new p.xQ}function V(i){for(let s in i)if(i[s]===V)return s;throw Error("Could not find renamed property on target object.")}function Q(i,s){for(const o in s)s.hasOwnProperty(o)&&!i.hasOwnProperty(o)&&(i[o]=s[o])}function Z(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(Z).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const s=i.toString();if(null==s)return""+s;const o=s.indexOf("\n");return-1===o?s:s.substring(0,o)}function ue(i,s){return null==i||""===i?null===s?"":s:null==s||""===s?i:i+" "+s}const Ce=V({__forward_ref__:V});function pe(i){return i.__forward_ref__=pe,i.toString=function(){return Z(this())},i}function K(i){return _e(i)?i():i}function _e(i){return"function"==typeof i&&i.hasOwnProperty(Ce)&&i.__forward_ref__===pe}class ge extends Error{constructor(s,o){super(function(i,s){return`${i?`NG0${i}: `:""}${s}`}(s,o)),this.code=s}}function ke(i){return"string"==typeof i?i:null==i?"":String(i)}function Pt(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ke(i)}function It(i,s){const o=s?` in ${s}`:"";throw new ge("201",`No provider for ${Pt(i)} found${o}`)}function hn(i,s){null==i&&function(i,s,o,u){throw new Error(`ASSERTION ERROR: ${i}`+(null==u?"":` [Expected=> ${o} ${u} ${s} <=Actual]`))}(s,i,null,"!=")}function St(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Pr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Dr(i){return De(i,Lt)||De(i,mo)}function De(i,s){return i.hasOwnProperty(s)?i[s]:null}function Oi(i){return i&&(i.hasOwnProperty(Yr)||i.hasOwnProperty(nt))?i[Yr]:null}const Lt=V({\u0275prov:V}),Yr=V({\u0275inj:V}),mo=V({ngInjectableDef:V}),nt=V({ngInjectorDef:V});var Ae=(()=>((Ae=Ae||{})[Ae.Default=0]="Default",Ae[Ae.Host=1]="Host",Ae[Ae.Self=2]="Self",Ae[Ae.SkipSelf=4]="SkipSelf",Ae[Ae.Optional=8]="Optional",Ae))();let Ht;function vn(i){const s=Ht;return Ht=i,s}function Vt(i,s,o){const u=Dr(i);return u&&"root"==u.providedIn?void 0===u.value?u.value=u.factory():u.value:o&Ae.Optional?null:void 0!==s?s:void It(Z(i),"Injector")}function qe(i){return{toString:i}.toString()}var kr=(()=>((kr=kr||{})[kr.OnPush=0]="OnPush",kr[kr.Default=1]="Default",kr))(),bt=(()=>((bt=bt||{})[bt.Emulated=0]="Emulated",bt[bt.None=2]="None",bt[bt.ShadowDom=3]="ShadowDom",bt))();const Ar="undefined"!=typeof globalThis&&globalThis,nl="undefined"!=typeof window&&window,z="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H=Ar||"undefined"!=typeof global&&global||nl||z,Ue={},Ve=[],Yt=V({\u0275cmp:V}),Zn=V({\u0275dir:V}),fn=V({\u0275pipe:V}),Fr=V({\u0275mod:V}),Ft=V({\u0275loc:V}),ln=V({\u0275fac:V}),Wi=V({__NG_ELEMENT_ID__:V});let Sc=0;function _o(i){return qe(()=>{const o={},u={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:o,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===kr.OnPush,directiveDefs:null,pipeDefs:null,selectors:i.selectors||Ve,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||bt.Emulated,id:"c",styles:i.styles||Ve,_:null,setInput:null,schemas:i.schemas||null,tView:null},c=i.directives,d=i.features,m=i.pipes;return u.id+=Sc++,u.inputs=oa(i.inputs,o),u.outputs=oa(i.outputs),d&&d.forEach(v=>v(u)),u.directiveDefs=c?()=>("function"==typeof c?c():c).map(vo):null,u.pipeDefs=m?()=>("function"==typeof m?m():m).map(Rc):null,u})}function vo(i){return Yn(i)||function(i){return i[Zn]||null}(i)}function Rc(i){return function(i){return i[fn]||null}(i)}const di={};function sa(i){return qe(()=>{const s={type:i.type,bootstrap:i.bootstrap||Ve,declarations:i.declarations||Ve,imports:i.imports||Ve,exports:i.exports||Ve,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null};return null!=i.id&&(di[i.id]=i.type),s})}function Eo(i,s){return qe(()=>{const o=mr(i,!0);o.declarations=s.declarations||Ve,o.imports=s.imports||Ve,o.exports=s.exports||Ve})}function oa(i,s){if(null==i)return Ue;const o={};for(const u in i)if(i.hasOwnProperty(u)){let c=i[u],d=c;Array.isArray(c)&&(d=c[1],c=c[0]),o[c]=u,s&&(s[c]=d)}return o}const ah=_o;function Bs(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,onDestroy:i.type.prototype.ngOnDestroy||null}}function Yn(i){return i[Yt]||null}function mr(i,s){const o=i[Fr]||null;if(!o&&!0===s)throw new Error(`Type ${Z(i)} does not have '\u0275mod' property.`);return o}function Yi(i){return Array.isArray(i)&&"object"==typeof i[1]}function wn(i){return Array.isArray(i)&&!0===i[1]}function Hs(i){return 0!=(8&i.flags)}function Ya(i){return 2==(2&i.flags)}function ca(i){return 1==(1&i.flags)}function pi(i){return null!==i.template}function xc(i){return 0!=(512&i[2])}function bn(i,s){return i.hasOwnProperty(ln)?i[ln]:null}class Qi{constructor(s,o,u){this.previousValue=s,this.currentValue=o,this.firstChange=u}isFirstChange(){return this.firstChange}}function il(){return Xa}function Xa(i){return i.type.prototype.ngOnChanges&&(i.setInput=lp),_h}function _h(){const i=eu(this),s=null==i?void 0:i.current;if(s){const o=i.previous;if(o===Ue)i.previous=s;else for(let u in s)o[u]=s[u];i.current=null,this.ngOnChanges(s)}}function lp(i,s,o,u){const c=eu(i)||function(i,s){return i[kc]=s}(i,{previous:Ue,current:null}),d=c.current||(c.current={}),m=c.previous,v=this.declaredInputs[o],b=m[v];d[v]=new Qi(b&&b.currentValue,s,m===Ue),i[u]=s}il.ngInherit=!0;const kc="__ngSimpleChanges__";function eu(i){return i[kc]||null}let tu;function vs(i){tu=i}function Qr(){return void 0!==tu?tu:"undefined"!=typeof document?document:void 0}function rn(i){return!!i.listen}const nu={createRenderer:(i,s)=>Qr()};function Nt(i){for(;Array.isArray(i);)i=i[0];return i}function To(i,s){return Nt(s[i])}function Lr(i,s){return Nt(s[i.index])}function Xi(i,s){return i.data[s]}function yr(i,s){const o=s[i];return Yi(o)?o:o[0]}function al(i){return 4==(4&i[2])}function ga(i){return 128==(128&i[2])}function Es(i,s){return null==s?null:i[s]}function iu(i){i[18]=0}function ul(i,s){i[5]+=s;let o=i,u=i[3];for(;null!==u&&(1===s&&1===o[5]||-1===s&&0===o[5]);)u[5]+=s,o=u,u=u[3]}const rt={lFrame:ml(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ll(){return rt.bindingsEnabled}function Ie(){return rt.lFrame.lView}function Tt(){return rt.lFrame.tView}function su(i){return rt.lFrame.contextLView=i,i[8]}function Cn(){let i=cl();for(;null!==i&&64===i.type;)i=i.parent;return i}function cl(){return rt.lFrame.currentTNode}function gi(i,s){const o=rt.lFrame;o.currentTNode=i,o.isParent=s}function ou(){return rt.lFrame.isParent}function zs(){rt.lFrame.isParent=!1}function es(){return rt.isInCheckNoChangesMode}function ts(i){rt.isInCheckNoChangesMode=i}function or(){const i=rt.lFrame;let s=i.bindingRootIndex;return-1===s&&(s=i.bindingRootIndex=i.tView.bindingStartIndex),s}function Ws(){return rt.lFrame.bindingIndex++}function Fi(i){const s=rt.lFrame,o=s.bindingIndex;return s.bindingIndex=s.bindingIndex+i,o}function fl(i,s){const o=rt.lFrame;o.bindingIndex=o.bindingRootIndex=i,pl(s)}function pl(i){rt.lFrame.currentDirectiveIndex=i}function _a(i){const s=rt.lFrame.currentDirectiveIndex;return-1===s?null:i[s]}function Ih(){return rt.lFrame.currentQueryIndex}function gl(i){rt.lFrame.currentQueryIndex=i}function dp(i){const s=i[1];return 2===s.type?s.declTNode:1===s.type?i[6]:null}function Th(i,s,o){if(o&Ae.SkipSelf){let c=s,d=i;for(;!(c=c.parent,null!==c||o&Ae.Host||(c=dp(d),null===c||(d=d[15],10&c.type))););if(null===c)return!1;s=c,i=d}const u=rt.lFrame=Dh();return u.currentTNode=s,u.lView=i,!0}function Cs(i){const s=Dh(),o=i[1];rt.lFrame=s,s.currentTNode=o.firstChild,s.lView=i,s.tView=o,s.contextLView=i,s.bindingIndex=o.bindingStartIndex,s.inI18n=!1}function Dh(){const i=rt.lFrame,s=null===i?null:i.child;return null===s?ml(i):s}function ml(i){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=s),s}function au(){const i=rt.lFrame;return rt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const wm=au;function yl(){const i=au();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function Vr(){return rt.lFrame.selectedIndex}function Jr(i){rt.lFrame.selectedIndex=i}function pn(){const i=rt.lFrame;return Xi(i.tView,i.selectedIndex)}function _l(i,s){for(let o=s.directiveStart,u=s.directiveEnd;o<u;o++){const d=i.data[o].type.prototype,{ngAfterContentInit:m,ngAfterContentChecked:v,ngAfterViewInit:b,ngAfterViewChecked:I,ngOnDestroy:S}=d;m&&(i.contentHooks||(i.contentHooks=[])).push(-o,m),v&&((i.contentHooks||(i.contentHooks=[])).push(o,v),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(o,v)),b&&(i.viewHooks||(i.viewHooks=[])).push(-o,b),I&&((i.viewHooks||(i.viewHooks=[])).push(o,I),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(o,I)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(o,S)}}function lu(i,s,o){No(i,s,3,o)}function cu(i,s,o,u){(3&i[2])===o&&No(i,s,o,u)}function vl(i,s){let o=i[2];(3&o)===s&&(o&=2047,o+=1,i[2]=o)}function No(i,s,o,u){const d=null!=u?u:-1,m=s.length-1;let v=0;for(let b=void 0!==u?65535&i[18]:0;b<m;b++)if("number"==typeof s[b+1]){if(v=s[b],null!=u&&v>=u)break}else s[b]<0&&(i[18]+=65536),(v<d||-1==d)&&(El(i,o,s,b),i[18]=(4294901760&i[18])+b+2),b++}function El(i,s,o,u){const c=o[u]<0,d=o[u+1],v=i[c?-o[u]:o[u]];if(c){if(i[2]>>11<i[18]>>16&&(3&i[2])===s){i[2]+=2048;try{d.call(v)}finally{}}}else try{d.call(v)}finally{}}class Ro{constructor(s,o,u){this.factory=s,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=u}}function du(i,s,o){const u=rn(i);let c=0;for(;c<o.length;){const d=o[c];if("number"==typeof d){if(0!==d)break;c++;const m=o[c++],v=o[c++],b=o[c++];u?i.setAttribute(s,v,b,m):s.setAttributeNS(m,v,b)}else{const m=d,v=o[++c];bl(m)?u&&i.setProperty(s,m,v):u?i.setAttribute(s,m,v):s.setAttribute(m,v),c++}}return c}function wl(i){return 3===i||4===i||6===i}function bl(i){return 64===i.charCodeAt(0)}function Li(i,s){if(null!==s&&0!==s.length)if(null===i||0===i.length)i=s.slice();else{let o=-1;for(let u=0;u<s.length;u++){const c=s[u];"number"==typeof c?o=c:0===o||Cl(i,o,c,null,-1===o||2===o?s[++u]:null)}}return i}function Cl(i,s,o,u,c){let d=0,m=i.length;if(-1===s)m=-1;else for(;d<i.length;){const v=i[d++];if("number"==typeof v){if(v===s){m=-1;break}if(v>s){m=d-1;break}}}for(;d<i.length;){const v=i[d];if("number"==typeof v)break;if(v===o){if(null===u)return void(null!==c&&(i[d+1]=c));if(u===i[d+1])return void(i[d+2]=c)}d++,null!==u&&d++,null!==c&&d++}-1!==m&&(i.splice(m,0,s),d=m+1),i.splice(d++,0,o),null!==u&&i.splice(d++,0,u),null!==c&&i.splice(d++,0,c)}function Il(i){return-1!==i}function hu(i){return 32767&i}function fu(i,s){let o=function(i){return i>>16}(i),u=s;for(;o>0;)u=u[15],o--;return u}let Tl=!0;function Mo(i){const s=Tl;return Tl=i,s}let $n=0;function tt(i,s){const o=ns(i,s);if(-1!==o)return o;const u=s[1];u.firstCreatePass&&(i.injectorIndex=s.length,In(u.data,i),In(s,null),In(u.blueprint,null));const c=Dl(i,s),d=i.injectorIndex;if(Il(c)){const m=hu(c),v=fu(c,s),b=v[1].data;for(let I=0;I<8;I++)s[d+I]=v[m+I]|b[m+I]}return s[d+8]=c,d}function In(i,s){i.push(0,0,0,0,0,0,0,0,s)}function ns(i,s){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===s[i.injectorIndex+8]?-1:i.injectorIndex}function Dl(i,s){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let o=0,u=null,c=s;for(;null!==c;){const d=c[1],m=d.type;if(u=2===m?d.declTNode:1===m?c[6]:null,null===u)return-1;if(o++,c=c[15],-1!==u.injectorIndex)return u.injectorIndex|o<<16}return-1}function ar(i,s,o){!function(i,s,o){let u;"string"==typeof o?u=o.charCodeAt(0)||0:o.hasOwnProperty(Wi)&&(u=o[Wi]),null==u&&(u=o[Wi]=$n++);const c=255&u;s.data[i+(c>>5)]|=1<<c}(i,s,o)}function Sl(i,s,o){if(o&Ae.Optional)return i;It(s,"NodeInjector")}function vr(i,s,o,u){if(o&Ae.Optional&&void 0===u&&(u=null),0==(o&(Ae.Self|Ae.Host))){const c=i[9],d=vn(void 0);try{return c?c.get(s,u,o&Ae.Optional):Vt(s,u,o&Ae.Optional)}finally{vn(d)}}return Sl(u,s,o)}function Nl(i,s,o,u=Ae.Default,c){if(null!==i){const d=function(i){if("string"==typeof i)return i.charCodeAt(0)||0;const s=i.hasOwnProperty(Wi)?i[Wi]:void 0;return"number"==typeof s?s>=0?255&s:Uc:s}(o);if("function"==typeof d){if(!Th(s,i,u))return u&Ae.Host?Sl(c,o,u):vr(s,o,u,c);try{const m=d(u);if(null!=m||u&Ae.Optional)return m;It(o)}finally{wm()}}else if("number"==typeof d){let m=null,v=ns(i,s),b=-1,I=u&Ae.Host?s[16][6]:null;for((-1===v||u&Ae.SkipSelf)&&(b=-1===v?Dl(i,s):s[v+8],-1!==b&&pu(u,!1)?(m=s[1],v=hu(b),s=fu(b,s)):v=-1);-1!==v;){const S=s[1];if(Rh(d,v,S.data)){const O=Et(v,s,o,m,u,I);if(O!==xn)return O}b=s[v+8],-1!==b&&pu(u,s[1].data[v+8]===I)&&Rh(d,v,s)?(m=S,v=hu(b),s=fu(b,s)):v=-1}}}return vr(s,o,u,c)}const xn={};function Uc(){return new Ea(Cn(),Ie())}function Et(i,s,o,u,c,d){const m=s[1],v=m.data[i+8],S=rs(v,m,o,null==u?Ya(v)&&Tl:u!=m&&0!=(3&v.type),c&Ae.Host&&d===v);return null!==S?Oo(s,m,S,v):xn}function rs(i,s,o,u,c){const d=i.providerIndexes,m=s.data,v=1048575&d,b=i.directiveStart,S=d>>20,P=c?v+S:i.directiveEnd;for(let B=u?v:v+S;B<P;B++){const W=m[B];if(B<b&&o===W||B>=b&&W.type===o)return B}if(c){const B=m[b];if(B&&pi(B)&&B.type===o)return b}return null}function Oo(i,s,o,u){let c=i[o];const d=s.data;if(function(i){return i instanceof Ro}(c)){const m=c;m.resolving&&function(i,s){throw new ge("200",`Circular dependency in DI detected for ${i}`)}(Pt(d[o]));const v=Mo(m.canSeeViewProviders);m.resolving=!0;const b=m.injectImpl?vn(m.injectImpl):null;Th(i,u,Ae.Default);try{c=i[o]=m.factory(void 0,d,i,u),s.firstCreatePass&&o>=u.directiveStart&&function(i,s,o){const{ngOnChanges:u,ngOnInit:c,ngDoCheck:d}=s.type.prototype;if(u){const m=Xa(s);(o.preOrderHooks||(o.preOrderHooks=[])).push(i,m),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,m)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-i,c),d&&((o.preOrderHooks||(o.preOrderHooks=[])).push(i,d),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(i,d))}(o,d[o],s)}finally{null!==b&&vn(b),Mo(v),m.resolving=!1,wm()}}return c}function Rh(i,s,o){return!!(o[s+(i>>5)]&1<<i)}function pu(i,s){return!(i&Ae.Self||i&Ae.Host&&s)}class Ea{constructor(s,o){this._tNode=s,this._lView=o}get(s,o){return Nl(this._tNode,this._lView,s,void 0,o)}}function Nr(i){return qe(()=>{const s=i.prototype.constructor,o=s[ln]||jc(s),u=Object.prototype;let c=Object.getPrototypeOf(i.prototype).constructor;for(;c&&c!==u;){const d=c[ln]||jc(c);if(d&&d!==o)return d;c=Object.getPrototypeOf(c)}return d=>new d})}function jc(i){return _e(i)?()=>{const s=jc(K(i));return s&&s()}:bn(i)}function Po(i){return function(i,s){if("class"===s)return i.classes;if("style"===s)return i.styles;const o=i.attrs;if(o){const u=o.length;let c=0;for(;c<u;){const d=o[c];if(wl(d))break;if(0===d)c+=2;else if("number"==typeof d)for(c++;c<u&&"string"==typeof o[c];)c++;else{if(d===s)return o[c+1];c+=2}}}return null}(Cn(),i)}const ko="__parameters__";function Is(i,s,o){return qe(()=>{const u=function(i){return function(...o){if(i){const u=i(...o);for(const c in u)this[c]=u[c]}}}(s);function c(...d){if(this instanceof c)return u.apply(this,d),this;const m=new c(...d);return v.annotation=m,v;function v(b,I,S){const O=b.hasOwnProperty(ko)?b[ko]:Object.defineProperty(b,ko,{value:[]})[ko];for(;O.length<=S;)O.push(null);return(O[S]=O[S]||[]).push(m),b}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=i,c.annotationCls=c,c})}class Qt{constructor(s,o){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=St({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}toString(){return`InjectionToken ${this._desc}`}}const ct=new Qt("AnalyzeForEntryComponents"),Rl=Function;function Xr(i,s){void 0===s&&(s=i);for(let o=0;o<i.length;o++){let u=i[o];Array.isArray(u)?(s===i&&(s=i.slice(0,o)),Xr(u,s)):s!==i&&s.push(u)}return s}function ei(i,s){i.forEach(o=>Array.isArray(o)?ei(o,s):s(o))}function ti(i,s,o){s>=i.length?i.push(o):i.splice(s,0,o)}function Ys(i,s){return s>=i.length-1?i.pop():i.splice(s,1)[0]}function C(i,s,o){let u=x(i,s);return u>=0?i[1|u]=o:(u=~u,function(i,s,o,u){let c=i.length;if(c==s)i.push(o,u);else if(1===c)i.push(u,i[0]),i[0]=o;else{for(c--,i.push(i[c-1],i[c]);c>s;)i[c]=i[c-2],c--;i[s]=o,i[s+1]=u}}(i,u,s,o)),u}function A(i,s){const o=x(i,s);if(o>=0)return i[1|o]}function x(i,s){return function(i,s,o){let u=0,c=i.length>>o;for(;c!==u;){const d=u+(c-u>>1),m=i[d<<o];if(s===m)return d<<o;m>s?c=d:u=d+1}return~(c<<o)}(i,s,1)}const ss={},Lo="__NG_DI_FLAG__",os="ngTempTokenPath",Vo=/\n/gm,$c="__source",Qs=V({provide:String,useValue:V});let Hc;function Js(i){const s=Hc;return Hc=i,s}function Ep(i,s=Ae.Default){if(void 0===Hc)throw new Error("inject() must be called from an injection context");return null===Hc?Vt(i,void 0,s):Hc.get(i,s&Ae.Optional?null:void 0,s)}function kn(i,s=Ae.Default){return(Ht||Ep)(K(i),s)}function Xs(i){const s=[];for(let o=0;o<i.length;o++){const u=K(i[o]);if(Array.isArray(u)){if(0===u.length)throw new Error("Arguments array must have arguments.");let c,d=Ae.Default;for(let m=0;m<u.length;m++){const v=u[m],b=bp(v);"number"==typeof b?-1===b?c=v.token:d|=b:c=v}s.push(kn(c,d))}else s.push(kn(u))}return s}function Ia(i,s){return i[Lo]=s,i.prototype[Lo]=s,i}function bp(i){return i[Lo]}function Lh(i,s,o,u){const c=i[os];throw s[$c]&&c.unshift(s[$c]),i.message=function(i,s,o,u=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.substr(2):i;let c=Z(s);if(Array.isArray(s))c=s.map(Z).join(" -> ");else if("object"==typeof s){let d=[];for(let m in s)if(s.hasOwnProperty(m)){let v=s[m];d.push(m+":"+("string"==typeof v?JSON.stringify(v):Z(v)))}c=`{${d.join(", ")}}`}return`${o}${u?"("+u+")":""}[${c}]: ${i.replace(Vo,"\n  ")}`}("\n"+i.message,c,o,u),i.ngTokenPath=c,i[os]=null,i}const Ol=Ia(Is("Inject",i=>({token:i})),-1),as=Ia(Is("Optional"),8),eo=Ia(Is("SkipSelf"),4);let Da,Kc;function kl(i){var s;return(null===(s=function(){if(void 0===Da&&(Da=null,H.trustedTypes))try{Da=H.trustedTypes.createPolicy("angular",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Da}())||void 0===s?void 0:s.createHTML(i))||i}function Fl(i){var s;return(null===(s=function(){if(void 0===Kc&&(Kc=null,H.trustedTypes))try{Kc=H.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch(i){}return Kc}())||void 0===s?void 0:s.createHTML(i))||i}class Aa{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Bh extends Aa{getTypeName(){return"HTML"}}class lv extends Aa{getTypeName(){return"Style"}}class Rp extends Aa{getTypeName(){return"Script"}}class Ll extends Aa{getTypeName(){return"URL"}}class cv extends Aa{getTypeName(){return"ResourceURL"}}function jo(i){return i instanceof Aa?i.changingThisBreaksApplicationSecurity:i}function us(i,s){const o=xp(i);if(null!=o&&o!==s){if("ResourceURL"===o&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===s}function xp(i){return i instanceof Aa&&i.getTypeName()||null}function Zc(i){return new Bh(i)}function Rm(i){return new lv(i)}function Yc(i){return new Rp(i)}function xm(i){return new Ll(i)}function ri(i){return new cv(i)}class Jc{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const o=(new window.DOMParser).parseFromString(kl(s),"text/html").body;return null===o?this.inertDocumentHelper.getInertBodyElement(s):(o.removeChild(o.firstChild),o)}catch(o){return null}}}class Vl{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const o=this.inertDocument.createElement("html");this.inertDocument.appendChild(o);const u=this.inertDocument.createElement("body");o.appendChild(u)}}getInertBodyElement(s){const o=this.inertDocument.createElement("template");if("content"in o)return o.innerHTML=kl(s),o;const u=this.inertDocument.createElement("body");return u.innerHTML=kl(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(u),u}stripCustomNsAttrs(s){const o=s.attributes;for(let c=o.length-1;0<c;c--){const m=o.item(c).name;("xmlns:ns1"===m||0===m.indexOf("ns1:"))&&s.removeAttribute(m)}let u=s.firstChild;for(;u;)u.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(u),u=u.nextSibling}}const jh=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,$h=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function $o(i){return(i=String(i)).match(jh)||i.match($h)?i:"unsafe:"+i}function Ui(i){const s={};for(const o of i.split(","))s[o]=!0;return s}function Cu(...i){const s={};for(const o of i)for(const u in o)o.hasOwnProperty(u)&&(s[u]=!0);return s}const ed=Ui("area,br,col,hr,img,wbr"),Ul=Ui("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Om=Ui("rp,rt"),Iu=Cu(ed,Cu(Ul,Ui("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cu(Om,Ui("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Cu(Om,Ul)),Hh=Ui("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),jl=Ui("srcset"),Sa=Cu(Hh,jl,Ui("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ui("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),km=Ui("script,style,template");class Gh{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let o=s.firstChild,u=!0;for(;o;)if(o.nodeType===Node.ELEMENT_NODE?u=this.startElement(o):o.nodeType===Node.TEXT_NODE?this.chars(o.nodeValue):this.sanitizedSomething=!0,u&&o.firstChild)o=o.firstChild;else for(;o;){o.nodeType===Node.ELEMENT_NODE&&this.endElement(o);let c=this.checkClobberedElement(o,o.nextSibling);if(c){o=c;break}o=this.checkClobberedElement(o,o.parentNode)}return this.buf.join("")}startElement(s){const o=s.nodeName.toLowerCase();if(!Iu.hasOwnProperty(o))return this.sanitizedSomething=!0,!km.hasOwnProperty(o);this.buf.push("<"),this.buf.push(o);const u=s.attributes;for(let c=0;c<u.length;c++){const d=u.item(c),m=d.name,v=m.toLowerCase();if(!Sa.hasOwnProperty(v)){this.sanitizedSomething=!0;continue}let b=d.value;Hh[v]&&(b=$o(b)),jl[v]&&(i=b,b=(i=String(i)).split(",").map(s=>$o(s.trim())).join(", ")),this.buf.push(" ",m,'="',qh(b),'"')}var i;return this.buf.push(">"),!0}endElement(s){const o=s.nodeName.toLowerCase();Iu.hasOwnProperty(o)&&!ed.hasOwnProperty(o)&&(this.buf.push("</"),this.buf.push(o),this.buf.push(">"))}chars(s){this.buf.push(qh(s))}checkClobberedElement(s,o){if(o&&(s.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return o}}const Tu=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Du=/([^\#-~ |!])/g;function qh(i){return i.replace(/&/g,"&amp;").replace(Tu,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Du,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let zh;function Wh(i,s){let o=null;try{zh=zh||function(i){const s=new Vl(i);return function(){try{return!!(new window.DOMParser).parseFromString(kl(""),"text/html")}catch(i){return!1}}()?new Jc(s):s}(i);let u=s?String(s):"";o=zh.getInertBodyElement(u);let c=5,d=u;do{if(0===c)throw new Error("Failed to sanitize html because the input is unstable");c--,u=d,d=o.innerHTML,o=zh.getInertBodyElement(u)}while(u!==d);return kl((new Gh).sanitizeChildren(Na(o)||o))}finally{if(o){const u=Na(o)||o;for(;u.firstChild;)u.removeChild(u.firstChild)}}}function Na(i){return"content"in i&&function(i){return i.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===i.nodeName}(i)?i.content:null}var Xt=(()=>((Xt=Xt||{})[Xt.NONE=0]="NONE",Xt[Xt.HTML=1]="HTML",Xt[Xt.STYLE=2]="STYLE",Xt[Xt.SCRIPT=3]="SCRIPT",Xt[Xt.URL=4]="URL",Xt[Xt.RESOURCE_URL=5]="RESOURCE_URL",Xt))();function Op(i){const s=td();return s?Fl(s.sanitize(Xt.HTML,i)||""):us(i,"HTML")?Fl(jo(i)):Wh(Qr(),ke(i))}function Ds(i){const s=td();return s?s.sanitize(Xt.URL,i)||"":us(i,"URL")?jo(i):$o(ke(i))}function td(){const i=Ie();return i&&i[12]}const $l="__ngContext__";function Br(i,s){i[$l]=s}function kp(i){const s=function(i){return i[$l]||null}(i);return s?Array.isArray(s)?s:s.lView:null}function ql(i){return i.ngOriginalError}function xa(i,...s){i.error(...s)}class Nu{constructor(){this._console=console}handleError(s){const o=this._findOriginalError(s),u=this._findContext(s),c=(i=s)&&i.ngErrorLogger||xa;var i;c(this._console,"ERROR",s),o&&c(this._console,"ORIGINAL ERROR",o),u&&c(this._console,"ERROR CONTEXT",u)}_findContext(s){return s?s.ngDebugContext||this._findContext(ql(s)):null}_findOriginalError(s){let o=s&&ql(s);for(;o&&ql(o);)o=ql(o);return o||null}}const tf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(H))();function _(i){return i instanceof Function?i():i}var N=(()=>((N=N||{})[N.Important=1]="Important",N[N.DashCase=2]="DashCase",N))();function ne(i,s){return undefined(i,s)}function $e(i){const s=i[3];return wn(s)?s[3]:s}function Dn(i){return Wl(i[13])}function to(i){return Wl(i[4])}function Wl(i){for(;null!==i&&!wn(i);)i=i[4];return i}function Ma(i,s,o,u,c){if(null!=u){let d,m=!1;wn(u)?d=u:Yi(u)&&(m=!0,u=u[0]);const v=Nt(u);0===i&&null!==o?null==c?$m(s,o,v):dd(s,o,v,c||null,!0):1===i&&null!==o?dd(s,o,v,c||null,!0):2===i?function(i,s,o){const u=Hp(i,s);u&&function(i,s,o,u){rn(i)?i.removeChild(s,o,u):s.removeChild(o)}(i,u,s,o)}(s,v,m):3===i&&s.destroyNode(v),null!=d&&function(i,s,o,u,c){const d=o[7];d!==Nt(o)&&Ma(s,i,u,d,c);for(let v=10;v<o.length;v++){const b=o[v];pd(b[1],b,i,s,u,d)}}(s,i,d,o,c)}}function ld(i,s,o){return rn(i)?i.createElement(s,o):null===o?i.createElement(s):i.createElementNS(o,s)}function wv(i,s){const o=i[9],u=o.indexOf(s),c=s[3];1024&s[2]&&(s[2]&=-1025,ul(c,-1)),o.splice(u,1)}function jm(i,s){if(i.length<=10)return;const o=10+s,u=i[o];if(u){const c=u[17];null!==c&&c!==i&&wv(c,u),s>0&&(i[o-1][4]=u[4]);const d=Ys(i,10+s);!function(i,s){pd(i,s,s[11],2,null,null),s[0]=null,s[6]=null}(u[1],u);const m=d[19];null!==m&&m.detachView(d[1]),u[3]=null,u[4]=null,u[2]&=-129}return u}function $p(i,s){if(!(256&s[2])){const o=s[11];rn(o)&&o.destroyNode&&pd(i,s,o,3,null,null),function(i){let s=i[13];if(!s)return Bi(i[1],i);for(;s;){let o=null;if(Yi(s))o=s[13];else{const u=s[10];u&&(o=u)}if(!o){for(;s&&!s[4]&&s!==i;)Yi(s)&&Bi(s[1],s),s=s[3];null===s&&(s=i),Yi(s)&&Bi(s[1],s),o=s&&s[4]}s=o}}(s)}}function Bi(i,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function(i,s){let o;if(null!=i&&null!=(o=i.destroyHooks))for(let u=0;u<o.length;u+=2){const c=s[o[u]];if(!(c instanceof Ro)){const d=o[u+1];if(Array.isArray(d))for(let m=0;m<d.length;m+=2){const v=c[d[m]],b=d[m+1];try{b.call(v)}finally{}}else try{d.call(c)}finally{}}}}(i,s),function(i,s){const o=i.cleanup,u=s[7];let c=-1;if(null!==o)for(let d=0;d<o.length-1;d+=2)if("string"==typeof o[d]){const m=o[d+1],v="function"==typeof m?m(s):Nt(s[m]),b=u[c=o[d+2]],I=o[d+3];"boolean"==typeof I?v.removeEventListener(o[d],b,I):I>=0?u[c=I]():u[c=-I].unsubscribe(),d+=2}else{const m=u[c=o[d+1]];o[d].call(m)}if(null!==u){for(let d=c+1;d<u.length;d++)u[d]();s[7]=null}}(i,s),1===s[1].type&&rn(s[11])&&s[11].destroy();const o=s[17];if(null!==o&&wn(s[3])){o!==s[3]&&wv(o,s);const u=s[19];null!==u&&u.detachView(i)}}}function cd(i,s,o){return function(i,s,o){let u=s;for(;null!==u&&40&u.type;)u=(s=u).parent;if(null===u)return o[0];if(2&u.flags){const c=i.data[u.directiveStart].encapsulation;if(c===bt.None||c===bt.Emulated)return null}return Lr(u,o)}(i,s.parent,o)}function dd(i,s,o,u,c){rn(i)?i.insertBefore(s,o,u,c):s.insertBefore(o,u,c)}function $m(i,s,o){rn(i)?i.appendChild(s,o):s.appendChild(o)}function Rb(i,s,o,u,c){null!==u?dd(i,s,o,u,c):$m(i,s,o)}function Hp(i,s){return rn(i)?i.parentNode(s):s.parentNode}let bv=function(i,s,o){return 40&i.type?Lr(i,o):null};function zo(i,s,o,u){const c=cd(i,u,s),d=s[11],v=function(i,s,o){return bv(i,s,o)}(u.parent||s[6],u,s);if(null!=c)if(Array.isArray(o))for(let b=0;b<o.length;b++)Rb(d,c,o[b],v,!1);else Rb(d,c,o,v,!1)}function rf(i,s){if(null!==s){const o=s.type;if(3&o)return Lr(s,i);if(4&o)return Pe(-1,i[s.index]);if(8&o){const u=s.child;if(null!==u)return rf(i,u);{const c=i[s.index];return wn(c)?Pe(-1,c):Nt(c)}}if(32&o)return ne(s,i)()||Nt(i[s.index]);{const u=Mb(i,s);return null!==u?Array.isArray(u)?u[0]:rf($e(i[16]),u):rf(i,s.next)}}return null}function Mb(i,s){return null!==s?i[16][6].projection[s.projection]:null}function Pe(i,s){const o=10+i+1;if(o<s.length){const u=s[o],c=u[1].firstChild;if(null!==c)return rf(u,c)}return s[7]}function fd(i,s,o,u,c,d,m){for(;null!=o;){const v=u[o.index],b=o.type;if(m&&0===s&&(v&&Br(Nt(v),u),o.flags|=4),64!=(64&o.flags))if(8&b)fd(i,s,o.child,u,c,d,!1),Ma(s,i,c,v,d);else if(32&b){const I=ne(o,u);let S;for(;S=I();)Ma(s,i,c,S,d);Ma(s,i,c,v,d)}else 16&b?dt(i,s,u,o,c,d):Ma(s,i,c,v,d);o=m?o.projectionNext:o.next}}function pd(i,s,o,u,c,d){fd(o,u,i.firstChild,s,c,d,!1)}function dt(i,s,o,u,c,d){const m=o[16],b=m[6].projection[u.projection];if(Array.isArray(b))for(let I=0;I<b.length;I++)Ma(s,i,c,b[I],d);else fd(i,s,b,m[3],c,d,!0)}function de(i,s,o){rn(i)?i.setAttribute(s,"style",o):s.style.cssText=o}function Se(i,s,o){rn(i)?""===o?i.removeAttribute(s,"class"):i.setAttribute(s,"class",o):s.className=o}function xr(i,s,o){let u=i.length;for(;;){const c=i.indexOf(s,o);if(-1===c)return c;if(0===c||i.charCodeAt(c-1)<=32){const d=s.length;if(c+d===u||i.charCodeAt(c+d)<=32)return c}o=c+1}}const Ob="ng-template";function JD(i,s,o){let u=0;for(;u<i.length;){let c=i[u++];if(o&&"class"===c){if(c=i[u],-1!==xr(c.toLowerCase(),s,0))return!0}else if(1===c){for(;u<i.length&&"string"==typeof(c=i[u++]);)if(c.toLowerCase()===s)return!0;return!1}}return!1}function Pb(i){return 4===i.type&&i.value!==Ob}function XD(i,s,o){return s===(4!==i.type||o?i.value:Ob)}function eA(i,s,o){let u=4;const c=i.attrs||[],d=function(i){for(let s=0;s<i.length;s++)if(wl(i[s]))return s;return i.length}(c);let m=!1;for(let v=0;v<s.length;v++){const b=s[v];if("number"!=typeof b){if(!m)if(4&u){if(u=2|1&u,""!==b&&!XD(i,b,o)||""===b&&1===s.length){if(Gn(u))return!1;m=!0}}else{const I=8&u?b:s[++v];if(8&u&&null!==i.attrs){if(!JD(i.attrs,I,o)){if(Gn(u))return!1;m=!0}continue}const O=tA(8&u?"class":b,c,Pb(i),o);if(-1===O){if(Gn(u))return!1;m=!0;continue}if(""!==I){let P;P=O>d?"":c[O+1].toLowerCase();const B=8&u?P:null;if(B&&-1!==xr(B,I,0)||2&u&&I!==P){if(Gn(u))return!1;m=!0}}}}else{if(!m&&!Gn(u)&&!Gn(b))return!1;if(m&&Gn(b))continue;m=!1,u=b|1&u}}return Gn(u)||m}function Gn(i){return 0==(1&i)}function tA(i,s,o,u){if(null===s)return-1;let c=0;if(u||!o){let d=!1;for(;c<s.length;){const m=s[c];if(m===i)return c;if(3===m||6===m)d=!0;else{if(1===m||2===m){let v=s[++c];for(;"string"==typeof v;)v=s[++c];continue}if(4===m)break;if(0===m){c+=4;continue}}c+=d?1:2}return-1}return function(i,s){let o=i.indexOf(4);if(o>-1)for(o++;o<i.length;){const u=i[o];if("number"==typeof u)return-1;if(u===s)return o;o++}return-1}(s,i)}function Cv(i,s,o=!1){for(let u=0;u<s.length;u++)if(eA(i,s[u],o))return!0;return!1}function Dt(i,s){return i?":not("+s.trim()+")":s}function Fb(i){let s=i[0],o=1,u=2,c="",d=!1;for(;o<i.length;){let m=i[o];if("string"==typeof m)if(2&u){const v=i[++o];c+="["+m+(v.length>0?'="'+v+'"':"")+"]"}else 8&u?c+="."+m:4&u&&(c+=" "+m);else""!==c&&!Gn(m)&&(s+=Dt(d,c),c=""),u=m,d=d||!Gn(u);o++}return""!==c&&(s+=Dt(d,c)),s}const ht={};function en(i){Vb(Tt(),Ie(),Vr()+i,es())}function Vb(i,s,o,u){if(!u)if(3==(3&s[2])){const d=i.preOrderCheckHooks;null!==d&&lu(s,d,o)}else{const d=i.preOrderHooks;null!==d&&cu(s,d,0,o)}Jr(o)}function wr(i,s){return i<<17|s<<2}function _i(i){return i>>17&32767}function Iv(i){return 2|i}function vi(i){return(131068&i)>>2}function er(i,s){return-131069&i|s<<2}function qp(i){return 1|i}function Gb(i,s){const o=i.contentQueries;if(null!==o)for(let u=0;u<o.length;u+=2){const c=o[u],d=o[u+1];if(-1!==d){const m=i.data[d];gl(c),m.contentQueries(2,s[d],d)}}}function As(i,s,o,u,c,d,m,v,b,I){const S=s.blueprint.slice();return S[0]=c,S[2]=140|u,iu(S),S[3]=S[15]=i,S[8]=o,S[10]=m||i&&i[10],S[11]=v||i&&i[11],S[12]=b||i&&i[12]||null,S[9]=I||i&&i[9]||null,S[6]=d,S[16]=2==s.type?i[16]:S,S}function _d(i,s,o,u,c){let d=i.data[s];if(null===d)d=function(i,s,o,u,c){const d=cl(),m=ou(),b=i.data[s]=function(i,s,o,u,c,d){return{type:o,index:u,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,m?d:d&&d.parent,o,s,u,c);return null===i.firstChild&&(i.firstChild=b),null!==d&&(m?null==d.child&&null!==b.parent&&(d.child=b):null===d.next&&(d.next=b)),b}(i,s,o,u,c),rt.lFrame.inI18n&&(d.flags|=64);else if(64&d.type){d.type=o,d.value=u,d.attrs=c;const m=function(){const i=rt.lFrame,s=i.currentTNode;return i.isParent?s:s.parent}();d.injectorIndex=null===m?-1:m.injectorIndex}return gi(d,!0),d}function Pu(i,s,o,u){if(0===o)return-1;const c=s.length;for(let d=0;d<o;d++)s.push(u),i.blueprint.push(u),i.data.push(null);return c}function Xl(i,s,o){Cs(s);try{const u=i.viewQuery;null!==u&&Jp(1,u,o);const c=i.template;null!==c&&Zm(i,s,c,1,o),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&Gb(i,s),i.staticViewQueries&&Jp(2,i.viewQuery,o);const d=i.components;null!==d&&function(i,s){for(let o=0;o<s.length;o++)e0(i,s[o])}(s,d)}catch(u){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),u}finally{s[2]&=-5,yl()}}function ec(i,s,o,u){const c=s[2];if(256==(256&c))return;Cs(s);const d=es();try{iu(s),function(i){rt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==o&&Zm(i,s,o,2,u);const m=3==(3&c);if(!d)if(m){const I=i.preOrderCheckHooks;null!==I&&lu(s,I,null)}else{const I=i.preOrderHooks;null!==I&&cu(s,I,0,null),vl(s,0)}if(function(i){for(let s=Dn(i);null!==s;s=to(s)){if(!s[2])continue;const o=s[9];for(let u=0;u<o.length;u++){const c=o[u],d=c[3];0==(1024&c[2])&&ul(d,1),c[2]|=1024}}}(s),function(i){for(let s=Dn(i);null!==s;s=to(s))for(let o=10;o<s.length;o++){const u=s[o],c=u[1];ga(u)&&ec(c,u,c.template,u[8])}}(s),null!==i.contentQueries&&Gb(i,s),!d)if(m){const I=i.contentCheckHooks;null!==I&&lu(s,I)}else{const I=i.contentHooks;null!==I&&cu(s,I,1),vl(s,1)}!function(i,s){const o=i.hostBindingOpCodes;if(null!==o)try{for(let u=0;u<o.length;u++){const c=o[u];if(c<0)Jr(~c);else{const d=c,m=o[++u],v=o[++u];fl(m,d),v(2,s[d])}}}finally{Jr(-1)}}(i,s);const v=i.components;null!==v&&function(i,s){for(let o=0;o<s.length;o++)br(i,s[o])}(s,v);const b=i.viewQuery;if(null!==b&&Jp(2,b,u),!d)if(m){const I=i.viewCheckHooks;null!==I&&lu(s,I)}else{const I=i.viewHooks;null!==I&&cu(s,I,2),vl(s,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),d||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,ul(s[3],-1))}finally{yl()}}function Rv(i,s,o,u){const c=s[10],d=!es(),m=al(s);try{d&&!m&&c.begin&&c.begin(),m&&Xl(i,s,u),ec(i,s,o,u)}finally{d&&!m&&c.end&&c.end()}}function Zm(i,s,o,u,c){const d=Vr(),m=2&u;try{Jr(-1),m&&s.length>20&&Vb(i,s,20,es()),o(u,c)}finally{Jr(d)}}function vd(i,s,o){if(Hs(s)){const c=s.directiveEnd;for(let d=s.directiveStart;d<c;d++){const m=i.data[d];m.contentQueries&&m.contentQueries(1,o[d],d)}}}function cs(i,s,o){!ll()||(function(i,s,o,u){const c=o.directiveStart,d=o.directiveEnd;i.firstCreatePass||tt(o,s),Br(u,s);const m=o.initialInputs;for(let v=c;v<d;v++){const b=i.data[v],I=pi(b);I&&Qb(s,o,b);const S=Oo(s,i,v,o);Br(S,s),null!==m&&Jb(0,v-c,S,b,0,m),I&&(yr(o.index,s)[8]=S)}}(i,s,o,Lr(o,s)),128==(128&o.flags)&&function(i,s,o){const u=o.directiveStart,c=o.directiveEnd,m=o.index,v=rt.lFrame.currentDirectiveIndex;try{Jr(m);for(let b=u;b<c;b++){const I=i.data[b],S=s[b];pl(b),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&hr(I,S)}}finally{Jr(-1),pl(v)}}(i,s,o))}function Ym(i,s,o=Lr){const u=s.localNames;if(null!==u){let c=s.index+1;for(let d=0;d<u.length;d+=2){const m=u[d+1],v=-1===m?o(s,i):i[m];i[c++]=v}}}function cf(i){const s=i.tView;return null===s||s.incompleteFirstPass?i.tView=Zp(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):s}function Zp(i,s,o,u,c,d,m,v,b,I){const S=20+u,O=S+c,P=function(i,s){const o=[];for(let u=0;u<s;u++)o.push(u<i?null:ht);return o}(S,O),B="function"==typeof I?I():I;return P[1]={type:i,blueprint:P,template:o,queries:null,viewQuery:v,declTNode:s,data:P.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof m?m():m,firstChild:null,schemas:b,consts:B,incompleteFirstPass:!1}}function Mv(i,s,o,u){const c=s0(s);null===o?c.push(u):(c.push(o),i.firstCreatePass&&on(i).push(u,c.length-1))}function Ov(i,s,o){for(let u in i)if(i.hasOwnProperty(u)){const c=i[u];(o=null===o?{}:o).hasOwnProperty(u)?o[u].push(s,c):o[u]=[s,c]}return o}function Ss(i,s,o,u,c,d,m,v){const b=Lr(s,o);let S,I=s.inputs;!v&&null!=I&&(S=I[u])?(yf(i,o,S,u,c),Ya(s)&&function(i,s){const o=yr(s,i);16&o[2]||(o[2]|=64)}(o,s.index)):3&s.type&&(u=function(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(u),c=null!=m?m(c,s.value||"",u):c,rn(d)?d.setProperty(b,u,c):bl(u)||(b.setProperty?b.setProperty(u,c):b[u]=c))}function Jm(i,s,o,u){let c=!1;if(ll()){const d=function(i,s,o){const u=i.directiveRegistry;let c=null;if(u)for(let d=0;d<u.length;d++){const m=u[d];Cv(o,m.selectors,!1)&&(c||(c=[]),ar(tt(o,s),i,m.type),pi(m)?(Qp(i,o),c.unshift(m)):c.push(m))}return c}(i,s,o),m=null===u?null:{"":-1};if(null!==d){c=!0,Yb(o,i.data.length,d.length);for(let S=0;S<d.length;S++){const O=d[S];O.providersResolver&&O.providersResolver(O)}let v=!1,b=!1,I=Pu(i,s,d.length,null);for(let S=0;S<d.length;S++){const O=d[S];o.mergedAttrs=Li(o.mergedAttrs,O.hostAttrs),Fv(i,o,s,I,O),kv(I,O,m),null!==O.contentQueries&&(o.flags|=8),(null!==O.hostBindings||null!==O.hostAttrs||0!==O.hostVars)&&(o.flags|=128);const P=O.type.prototype;!v&&(P.ngOnChanges||P.ngOnInit||P.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(o.index),v=!0),!b&&(P.ngOnChanges||P.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(o.index),b=!0),I++}!function(i,s){const u=s.directiveEnd,c=i.data,d=s.attrs,m=[];let v=null,b=null;for(let I=s.directiveStart;I<u;I++){const S=c[I],O=S.inputs,P=null===d||Pb(s)?null:Xb(O,d);m.push(P),v=Ov(O,I,v),b=Ov(S.outputs,I,b)}null!==v&&(v.hasOwnProperty("class")&&(s.flags|=16),v.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=m,s.inputs=v,s.outputs=b}(i,o)}m&&function(i,s,o){if(s){const u=i.localNames=[];for(let c=0;c<s.length;c+=2){const d=o[s[c+1]];if(null==d)throw new ge("301",`Export of name '${s[c+1]}' not found!`);u.push(s[c],d)}}}(o,u,m)}return o.mergedAttrs=Li(o.mergedAttrs,o.attrs),c}function Pv(i,s,o,u,c,d){const m=d.hostBindings;if(m){let v=i.hostBindingOpCodes;null===v&&(v=i.hostBindingOpCodes=[]);const b=~s.index;(function(i){let s=i.length;for(;s>0;){const o=i[--s];if("number"==typeof o&&o<0)return o}return 0})(v)!=b&&v.push(b),v.push(u,c,m)}}function hr(i,s){null!==i.hostBindings&&i.hostBindings(1,s)}function Qp(i,s){s.flags|=2,(i.components||(i.components=[])).push(s.index)}function kv(i,s,o){if(o){if(s.exportAs)for(let u=0;u<s.exportAs.length;u++)o[s.exportAs[u]]=i;pi(s)&&(o[""]=i)}}function Yb(i,s,o){i.flags|=1,i.directiveStart=s,i.directiveEnd=s+o,i.providerIndexes=s}function Fv(i,s,o,u,c){i.data[u]=c;const d=c.factory||(c.factory=bn(c.type)),m=new Ro(d,pi(c),null);i.blueprint[u]=m,o[u]=m,Pv(i,s,0,u,Pu(i,o,c.hostVars,ht),c)}function Qb(i,s,o){const u=Lr(s,i),c=cf(o),d=i[10],m=tr(i,As(i,c,null,o.onPush?64:16,u,s,d,d.createRenderer(u,o),null,null));i[s.index]=m}function ds(i,s,o,u,c,d){const m=Lr(i,s);!function(i,s,o,u,c,d,m){if(null==d)rn(i)?i.removeAttribute(s,c,o):s.removeAttribute(c);else{const v=null==m?ke(d):m(d,u||"",c);rn(i)?i.setAttribute(s,c,v,o):o?s.setAttributeNS(o,c,v):s.setAttribute(c,v)}}(s[11],m,d,i.value,o,u,c)}function Jb(i,s,o,u,c,d){const m=d[s];if(null!==m){const v=u.setInput;for(let b=0;b<m.length;){const I=m[b++],S=m[b++],O=m[b++];null!==v?u.setInput(o,O,I,S):o[S]=O}}}function Xb(i,s){let o=null,u=0;for(;u<s.length;){const c=s[u];if(0!==c)if(5!==c){if("number"==typeof c)break;i.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,i[c],s[u+1])),u+=2}else u+=2;else u+=4}return o}function gf(i,s,o,u){return new Array(i,!0,!1,s,null,0,u,o,null,null)}function br(i,s){const o=yr(s,i);if(ga(o)){const u=o[1];80&o[2]?ec(u,o,u.template,o[8]):o[5]>0&&jt(o)}}function jt(i){for(let u=Dn(i);null!==u;u=to(u))for(let c=10;c<u.length;c++){const d=u[c];if(1024&d[2]){const m=d[1];ec(m,d,m.template,d[8])}else d[5]>0&&jt(d)}const o=i[1].components;if(null!==o)for(let u=0;u<o.length;u++){const c=yr(o[u],i);ga(c)&&c[5]>0&&jt(c)}}function e0(i,s){const o=yr(s,i),u=o[1];(function(i,s){for(let o=s.length;o<i.blueprint.length;o++)s.push(i.blueprint[o])})(u,o),Xl(u,o,o[8])}function tr(i,s){return i[13]?i[14][4]=s:i[13]=s,i[14]=s,s}function mf(i){for(;i;){i[2]|=64;const s=$e(i);if(xc(i)&&!s)return i;i=s}return null}function ey(i,s,o){const u=s[10];u.begin&&u.begin();try{ec(i,s,i.template,o)}catch(c){throw Xp(s,c),c}finally{u.end&&u.end()}}function n0(i){!function(i){for(let s=0;s<i.components.length;s++){const o=i.components[s],u=kp(o),c=u[1];Rv(c,u,c.template,o)}}(i[8])}function Jp(i,s,o){gl(0),s(i,o)}const r0=(()=>Promise.resolve(null))();function s0(i){return i[7]||(i[7]=[])}function on(i){return i.cleanup||(i.cleanup=[])}function Xp(i,s){const o=i[9],u=o?o.get(Nu,null):null;u&&u.handleError(s)}function yf(i,s,o,u,c){for(let d=0;d<o.length;){const m=o[d++],v=o[d++],b=s[m],I=i.data[m];null!==I.setInput?I.setInput(b,c,u,v):b[v]=c}}function Ns(i,s,o){const u=To(s,i);!function(i,s,o){rn(i)?i.setValue(s,o):s.textContent=o}(i[11],u,o)}function Ed(i,s,o){let u=o?i.styles:null,c=o?i.classes:null,d=0;if(null!==s)for(let m=0;m<s.length;m++){const v=s[m];"number"==typeof v?d=v:1==d?c=ue(c,v):2==d&&(u=ue(u,v+": "+s[++m]+";"))}o?i.styles=u:i.stylesWithoutHost=u,o?i.classes=c:i.classesWithoutHost=c}const _f=new Qt("INJECTOR",-1);class Vv{get(s,o=ss){if(o===ss){const u=new Error(`NullInjectorError: No provider for ${Z(s)}!`);throw u.name="NullInjectorError",u}return o}}const vf=new Qt("Set Injector scope."),eg={},wA={};let Uv;function Ef(){return void 0===Uv&&(Uv=new Vv),Uv}function c0(i,s=null,o=null,u){return new Gr(i,o,s||Ef(),u)}class Gr{constructor(s,o,u,c=null){this.parent=u,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];o&&ei(o,v=>this.processProvider(v,s,o)),ei([s],v=>this.processInjectorType(v,[],d)),this.records.set(_f,nc(void 0,this));const m=this.records.get(vf);this.scope=null!=m?m.value:null,this.source=c||("object"==typeof s?null:Z(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,o=ss,u=Ae.Default){this.assertNotDestroyed();const c=Js(this),d=vn(void 0);try{if(!(u&Ae.SkipSelf)){let v=this.records.get(s);if(void 0===v){const b=("function"==typeof(i=s)||"object"==typeof i&&i instanceof Qt)&&Dr(s);v=b&&this.injectableDefInScope(b)?nc(tg(s),eg):null,this.records.set(s,v)}if(null!=v)return this.hydrate(s,v)}return(u&Ae.Self?Ef():this.parent).get(s,o=u&Ae.Optional&&o===ss?null:o)}catch(m){if("NullInjectorError"===m.name){if((m[os]=m[os]||[]).unshift(Z(s)),c)throw m;return Lh(m,s,"R3InjectorError",this.source)}throw m}finally{vn(d),Js(c)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((u,c)=>s.push(Z(c))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(s,o,u){if(!(s=K(s)))return!1;let c=Oi(s);const d=null==c&&s.ngModule||void 0,m=void 0===d?s:d,v=-1!==u.indexOf(m);if(void 0!==d&&(c=Oi(d)),null==c)return!1;if(null!=c.imports&&!v){let S;u.push(m);try{ei(c.imports,O=>{this.processInjectorType(O,o,u)&&(void 0===S&&(S=[]),S.push(O))})}finally{}if(void 0!==S)for(let O=0;O<S.length;O++){const{ngModule:P,providers:B}=S[O];ei(B,W=>this.processProvider(W,P,B||Ve))}}this.injectorDefTypes.add(m);const b=bn(m)||(()=>new m);this.records.set(m,nc(b,eg));const I=c.providers;if(null!=I&&!v){const S=s;ei(I,O=>this.processProvider(O,S,I))}return void 0!==d&&void 0!==s.providers}processProvider(s,o,u){let c=wd(s=K(s))?s:K(s&&s.provide);const d=Bv(i=s)?nc(void 0,i.useValue):nc(Ko(i),eg);var i;if(wd(s)||!0!==s.multi)this.records.get(c);else{let m=this.records.get(c);m||(m=nc(void 0,eg,!0),m.factory=()=>Xs(m.multi),this.records.set(c,m)),c=s,m.multi.push(s)}this.records.set(c,d)}hydrate(s,o){return o.value===eg&&(o.value=wA,o.value=o.factory()),"object"==typeof o.value&&o.value&&null!==(i=o.value)&&"object"==typeof i&&"function"==typeof i.ngOnDestroy&&this.onDestroy.add(o.value),o.value;var i}injectableDefInScope(s){if(!s.providedIn)return!1;const o=K(s.providedIn);return"string"==typeof o?"any"===o||o===this.scope:this.injectorDefTypes.has(o)}}function tg(i){const s=Dr(i),o=null!==s?s.factory:bn(i);if(null!==o)return o;if(i instanceof Qt)throw new Error(`Token ${Z(i)} is missing a \u0275prov definition.`);if(i instanceof Function)return function(i){const s=i.length;if(s>0){const u=function(i,s){const o=[];for(let u=0;u<i;u++)o.push(s);return o}(s,"?");throw new Error(`Can't resolve all parameters for ${Z(i)}: (${u.join(", ")}).`)}const o=function(i){const s=i&&(i[Lt]||i[mo]);if(s){const o=function(i){if(i.hasOwnProperty("name"))return i.name;const s=(""+i).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),s}return null}(i);return null!==o?()=>o.factory(i):()=>new i}(i);throw new Error("unreachable")}function Ko(i,s,o){let u;if(wd(i)){const c=K(i);return bn(c)||tg(c)}if(Bv(i))u=()=>K(i.useValue);else if(function(i){return!(!i||!i.useFactory)}(i))u=()=>i.useFactory(...Xs(i.deps||[]));else if(function(i){return!(!i||!i.useExisting)}(i))u=()=>kn(K(i.useExisting));else{const c=K(i&&(i.useClass||i.provide));if(!function(i){return!!i.deps}(i))return bn(c)||tg(c);u=()=>new c(...Xs(i.deps))}return u}function nc(i,s,o=!1){return{factory:i,value:s,multi:o?[]:void 0}}function Bv(i){return null!==i&&"object"==typeof i&&Qs in i}function wd(i){return"function"==typeof i}const jv=function(i,s,o){return function(i,s=null,o=null,u){const c=c0(i,s,o,u);return c._resolveInjectorDefTypes(),c}({name:o},s,i,o)};let An=(()=>{class i{static create(o,u){return Array.isArray(o)?jv(o,u,""):jv(o.providers,o.parent,o.name||"")}}return i.THROW_IF_NOT_FOUND=ss,i.NULL=new Vv,i.\u0275prov=St({token:i,providedIn:"any",factory:()=>kn(_f)}),i.__NG_ELEMENT_ID__=-1,i})();function Cd(i,s){_l(kp(i)[1],Cn())}function ay(i){let s=function(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),o=!0;const u=[i];for(;s;){let c;if(pi(i))c=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Error("Directives cannot inherit Components");c=s.\u0275dir}if(c){if(o){u.push(c);const m=i;m.inputs=sg(i.inputs),m.declaredInputs=sg(i.declaredInputs),m.outputs=sg(i.outputs);const v=c.hostBindings;v&&w0(i,v);const b=c.viewQuery,I=c.contentQueries;if(b&&Gv(i,b),I&&oc(i,I),Q(i.inputs,c.inputs),Q(i.declaredInputs,c.declaredInputs),Q(i.outputs,c.outputs),pi(c)&&c.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(c.data.animation)}}const d=c.features;if(d)for(let m=0;m<d.length;m++){const v=d[m];v&&v.ngInherit&&v(i),v===ay&&(o=!1)}}s=Object.getPrototypeOf(s)}!function(i){let s=0,o=null;for(let u=i.length-1;u>=0;u--){const c=i[u];c.hostVars=s+=c.hostVars,c.hostAttrs=Li(c.hostAttrs,o=Li(o,c.hostAttrs))}}(u)}function sg(i){return i===Ue?{}:i===Ve?[]:i}function Gv(i,s){const o=i.viewQuery;i.viewQuery=o?(u,c)=>{s(u,c),o(u,c)}:s}function oc(i,s){const o=i.contentQueries;i.contentQueries=o?(u,c,d)=>{s(u,c,d),o(u,c,d)}:s}function w0(i,s){const o=i.hostBindings;i.hostBindings=o?(u,c)=>{s(u,c),o(u,c)}:s}let og=null;function Yo(){if(!og){const i=H.Symbol;if(i&&i.iterator)og=i.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<s.length;++o){const u=s[o];"entries"!==u&&"size"!==u&&Map.prototype[u]===Map.prototype.entries&&(og=u)}}}return og}class wi{constructor(s){this.wrapped=s}static wrap(s){return new wi(s)}static unwrap(s){return wi.isWrapped(s)?s.wrapped:s}static isWrapped(s){return s instanceof wi}}function Lu(i){return!!Kv(i)&&(Array.isArray(i)||!(i instanceof Map)&&Yo()in i)}function Kv(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function bi(i,s,o){return!Object.is(i[s],o)&&(i[s]=o,!0)}function ly(i,s,o,u){const c=Ie();return bi(c,Ws(),s)&&(Tt(),ds(pn(),c,i,s,o,u)),ly}function A0(i,s,o,u,c,d,m,v){const b=Ie(),I=Tt(),S=i+20,O=I.firstCreatePass?function(i,s,o,u,c,d,m,v,b){const I=s.consts,S=_d(s,i,4,m||null,Es(I,v));Jm(s,o,S,Es(I,b)),_l(s,S);const O=S.tViews=Zp(2,S,u,c,d,s.directiveRegistry,s.pipeRegistry,null,s.schemas,I);return null!==s.queries&&(s.queries.template(s,S),O.queries=s.queries.embeddedTView(S)),S}(S,I,b,s,o,u,c,d,m):I.data[S];gi(O,!1);const P=b[11].createComment("");zo(I,b,P,O),Br(P,b),tr(b,b[S]=gf(P,b,P,O)),ca(O)&&cs(I,b,O),null!=m&&Ym(b,O,v)}function lc(i,s=Ae.Default){const o=Ie();return null===o?kn(i,s):Nl(Cn(),o,K(i),s)}function Af(i,s,o){const u=Ie();return bi(u,Ws(),s)&&Ss(Tt(),pn(),u,i,s,u[11],o,!1),Af}function hg(i,s,o,u,c){const m=c?"class":"style";yf(i,o,s.inputs[m],m,u)}function fg(i,s,o,u){const c=Ie(),d=Tt(),m=20+i,v=c[11],b=c[m]=ld(v,s,rt.lFrame.currentNamespace),I=d.firstCreatePass?function(i,s,o,u,c,d,m){const v=s.consts,I=_d(s,i,2,c,Es(v,d));return Jm(s,o,I,Es(v,m)),null!==I.attrs&&Ed(I,I.attrs,!1),null!==I.mergedAttrs&&Ed(I,I.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,I),I}(m,d,c,0,s,o,u):d.data[m];gi(I,!0);const S=I.mergedAttrs;null!==S&&du(v,b,S);const O=I.classes;null!==O&&Se(v,b,O);const P=I.styles;null!==P&&de(v,b,P),64!=(64&I.flags)&&zo(d,c,b,I),0===rt.lFrame.elementDepthCount&&Br(b,c),rt.lFrame.elementDepthCount++,ca(I)&&(cs(d,c,I),vd(d,I,c)),null!==u&&Ym(c,I)}function yy(){let i=Cn();ou()?zs():(i=i.parent,gi(i,!1));const s=i;rt.lFrame.elementDepthCount--;const o=Tt();o.firstCreatePass&&(_l(o,i),Hs(i)&&o.queries.elementEnd(i)),null!=s.classesWithoutHost&&function(i){return 0!=(16&i.flags)}(s)&&hg(o,s,Ie(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function(i){return 0!=(32&i.flags)}(s)&&hg(o,s,Ie(),s.stylesWithoutHost,!1)}function $0(i,s,o,u){fg(i,s,o,u),yy()}function aE(i,s,o){const u=Ie(),c=Tt(),d=i+20,m=c.firstCreatePass?function(i,s,o,u,c){const d=s.consts,m=Es(d,u),v=_d(s,i,8,"ng-container",m);return null!==m&&Ed(v,m,!0),Jm(s,o,v,Es(d,c)),null!==s.queries&&s.queries.elementStart(s,v),v}(d,c,u,s,o):c.data[d];gi(m,!0);const v=u[d]=u[11].createComment("");zo(c,u,v,m),Br(v,u),ca(m)&&(cs(c,u,m),vd(c,m,u)),null!=o&&Ym(u,m)}function uE(){let i=Cn();const s=Tt();ou()?zs():(i=i.parent,gi(i,!1)),s.firstCreatePass&&(_l(s,i),Hs(i)&&s.queries.elementEnd(i))}function pg(){return Ie()}function Rd(i){return!!i&&"function"==typeof i.then}function _y(i){return!!i&&"function"==typeof i.subscribe}const vy=_y;function lE(i,s,o,u){const c=Ie(),d=Tt(),m=Cn();return function(i,s,o,u,c,d,m,v){const b=ca(u),S=i.firstCreatePass&&on(i),O=s[8],P=s0(s);let B=!0;if(3&u.type||v){const J=Lr(u,s),Me=v?v(J):J,ve=P.length,We=v?lt=>v(Nt(lt[u.index])):u.index;if(rn(o)){let lt=null;if(!v&&b&&(lt=function(i,s,o,u){const c=i.cleanup;if(null!=c)for(let d=0;d<c.length-1;d+=2){const m=c[d];if(m===o&&c[d+1]===u){const v=s[7],b=c[d+2];return v.length>b?v[b]:null}"string"==typeof m&&(d+=2)}return null}(i,s,c,u.index)),null!==lt)(lt.__ngLastListenerFn__||lt).__ngNextListenerFn__=d,lt.__ngLastListenerFn__=d,B=!1;else{d=xd(u,s,O,d,!1);const st=o.listen(Me,c,d);P.push(d,st),S&&S.push(c,We,ve,ve+1)}}else d=xd(u,s,O,d,!0),Me.addEventListener(c,d,m),P.push(d),S&&S.push(c,We,ve,m)}else d=xd(u,s,O,d,!1);const W=u.outputs;let ae;if(B&&null!==W&&(ae=W[c])){const J=ae.length;if(J)for(let Me=0;Me<J;Me+=2){const yn=s[ae[Me]][ae[Me+1]].subscribe(d),po=P.length;P.push(d,yn),S&&S.push(c,u.index,po,-(po+1))}}}(d,c,c[11],m,i,s,!!o,u),lE}function z0(i,s,o,u){try{return!1!==o(u)}catch(c){return Xp(i,c),!1}}function xd(i,s,o,u,c){return function d(m){if(m===Function)return u;const v=2&i.flags?yr(i.index,s):s;0==(32&s[2])&&mf(v);let b=z0(s,0,u,m),I=d.__ngNextListenerFn__;for(;I;)b=z0(s,0,I,m)&&b,I=I.__ngNextListenerFn__;return c&&!1===b&&(m.preventDefault(),m.returnValue=!1),b}}function Ey(i=1){return function(i){return(rt.lFrame.contextLView=function(i,s){for(;i>0;)s=s[15],i--;return s}(i,rt.lFrame.contextLView))[8]}(i)}function mg(i,s,o,u,c){const d=i[o+1],m=null===s;let v=u?_i(d):vi(d),b=!1;for(;0!==v&&(!1===b||m);){const S=i[v+1];pE(i[v],s)&&(b=!0,i[v+1]=u?qp(S):Iv(S)),v=u?_i(S):vi(S)}b&&(i[o+1]=u?Iv(d):qp(d))}function pE(i,s){return null===i||null==s||(Array.isArray(i)?i[1]:i)===s||!(!Array.isArray(i)||"string"!=typeof s)&&x(i,s)>=0}const Cr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Md(i){return i.substring(Cr.key,Cr.keyEnd)}function Y0(i,s){const o=Cr.textEnd;return o===s?-1:(s=Cr.keyEnd=function(i,s,o){for(;s<o&&i.charCodeAt(s)>32;)s++;return s}(i,Cr.key=s,o),cc(i,s,o))}function cc(i,s,o){for(;s<o&&i.charCodeAt(s)<=32;)s++;return s}function yg(i,s,o){return Ci(i,s,o,!1),yg}function _g(i,s){return Ci(i,s,null,!0),_g}function Ty(i){!function(i,s,o,u){const c=Tt(),d=Fi(2);c.firstUpdatePass&&nC(c,null,d,u);const m=Ie();if(o!==ht&&bi(m,d,o)){const v=c.data[Vr()];if(IE(v,u)&&!Od(c,d)){let b=u?v.classesWithoutHost:v.stylesWithoutHost;null!==b&&(o=ue(b,o||"")),hg(c,v,m,o,u)}else!function(i,s,o,u,c,d,m,v){c===ht&&(c=Ve);let b=0,I=0,S=0<c.length?c[0]:null,O=0<d.length?d[0]:null;for(;null!==S||null!==O;){const P=b<c.length?c[b+1]:void 0,B=I<d.length?d[I+1]:void 0;let ae,W=null;S===O?(b+=2,I+=2,P!==B&&(W=O,ae=B)):null===O||null!==S&&S<O?(b+=2,W=S):(I+=2,W=O,ae=B),null!==W&&rC(i,s,o,u,W,ae,m,v),S=b<c.length?c[b]:null,O=I<d.length?d[I]:null}}(c,v,m,m[11],m[d+1],m[d+1]=function(i,s,o){if(null==o||""===o)return Ve;const u=[],c=jo(o);if(Array.isArray(c))for(let d=0;d<c.length;d++)i(u,c[d],!0);else if("object"==typeof c)for(const d in c)c.hasOwnProperty(d)&&i(u,d,c[d]);else"string"==typeof c&&s(u,c);return u}(i,s,o),u,d)}}(C,Gi,i,!0)}function Gi(i,s){for(let o=function(i){return function(i){Cr.key=0,Cr.keyEnd=0,Cr.value=0,Cr.valueEnd=0,Cr.textEnd=i.length}(i),Y0(i,cc(i,0,Cr.textEnd))}(s);o>=0;o=Y0(s,o))C(i,Md(s),!0)}function Ci(i,s,o,u){const c=Ie(),d=Tt(),m=Fi(2);d.firstUpdatePass&&nC(d,i,m,u),s!==ht&&bi(c,m,s)&&rC(d,d.data[Vr()],c,c[11],i,c[m+1]=function(i,s){return null==i||("string"==typeof s?i+=s:"object"==typeof i&&(i=Z(jo(i)))),i}(s,o),u,m)}function Od(i,s){return s>=i.expandoStartIndex}function nC(i,s,o,u){const c=i.data;if(null===c[o+1]){const d=c[Vr()],m=Od(i,o);IE(d,u)&&null===s&&!m&&(s=!1),s=function(i,s,o,u){const c=_a(i);let d=u?s.residualClasses:s.residualStyles;if(null===c)0===(u?s.classBindings:s.styleBindings)&&(o=Eg(o=vg(null,i,s,o,u),s.attrs,u),d=null);else{const m=s.directiveStylingLast;if(-1===m||i[m]!==c)if(o=vg(c,i,s,o,u),null===d){let b=function(i,s,o){const u=o?s.classBindings:s.styleBindings;if(0!==vi(u))return i[_i(u)]}(i,s,u);void 0!==b&&Array.isArray(b)&&(b=vg(null,i,s,b[1],u),b=Eg(b,s.attrs,u),function(i,s,o,u){i[_i(o?s.classBindings:s.styleBindings)]=u}(i,s,u,b))}else d=function(i,s,o){let u;const c=s.directiveEnd;for(let d=1+s.directiveStylingLast;d<c;d++)u=Eg(u,i[d].hostAttrs,o);return Eg(u,s.attrs,o)}(i,s,u)}return void 0!==d&&(u?s.residualClasses=d:s.residualStyles=d),o}(c,d,s,u),function(i,s,o,u,c,d){let m=d?s.classBindings:s.styleBindings,v=_i(m),b=vi(m);i[u]=o;let S,I=!1;if(Array.isArray(o)){const O=o;S=O[1],(null===S||x(O,S)>0)&&(I=!0)}else S=o;if(c)if(0!==b){const P=_i(i[v+1]);i[u+1]=wr(P,v),0!==P&&(i[P+1]=er(i[P+1],u)),i[v+1]=function(i,s){return 131071&i|s<<17}(i[v+1],u)}else i[u+1]=wr(v,0),0!==v&&(i[v+1]=er(i[v+1],u)),v=u;else i[u+1]=wr(b,0),0===v?v=u:i[b+1]=er(i[b+1],u),b=u;I&&(i[u+1]=Iv(i[u+1])),mg(i,S,u,!0),mg(i,S,u,!1),function(i,s,o,u,c){const d=c?i.residualClasses:i.residualStyles;null!=d&&"string"==typeof s&&x(d,s)>=0&&(o[u+1]=qp(o[u+1]))}(s,S,i,u,d),m=wr(v,b),d?s.classBindings=m:s.styleBindings=m}(c,d,s,o,m,u)}}function vg(i,s,o,u,c){let d=null;const m=o.directiveEnd;let v=o.directiveStylingLast;for(-1===v?v=o.directiveStart:v++;v<m&&(d=s[v],u=Eg(u,d.hostAttrs,c),d!==i);)v++;return null!==i&&(o.directiveStylingLast=v),u}function Eg(i,s,o){const u=o?1:2;let c=-1;if(null!==s)for(let d=0;d<s.length;d++){const m=s[d];"number"==typeof m?c=m:c===u&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),C(i,m,!!o||s[++d]))}return void 0===i?null:i}function rC(i,s,o,u,c,d,m,v){if(!(3&s.type))return;const b=i.data,I=b[v+1];Ay(function(i){return 1==(1&i)}(I)?CE(b,s,o,c,vi(I),m):void 0)||(Ay(d)||function(i){return 2==(2&i)}(I)&&(d=CE(b,null,o,c,v,m)),function(i,s,o,u,c){const d=rn(i);if(s)c?d?i.addClass(o,u):o.classList.add(u):d?i.removeClass(o,u):o.classList.remove(u);else{let m=-1===u.indexOf("-")?void 0:N.DashCase;if(null==c)d?i.removeStyle(o,u,m):o.style.removeProperty(u);else{const v="string"==typeof c&&c.endsWith("!important");v&&(c=c.slice(0,-10),m|=N.Important),d?i.setStyle(o,u,c,m):o.style.setProperty(u,c,v?"important":"")}}}(u,m,To(Vr(),o),c,d))}function CE(i,s,o,u,c,d){const m=null===s;let v;for(;c>0;){const b=i[c],I=Array.isArray(b),S=I?b[1]:b,O=null===S;let P=o[c+1];P===ht&&(P=O?Ve:void 0);let B=O?A(P,u):S===u?P:void 0;if(I&&!Ay(B)&&(B=A(b,u)),Ay(B)&&(v=B,m))return v;const W=i[c+1];c=m?_i(W):vi(W)}if(null!==s){let b=d?s.residualClasses:s.residualStyles;null!=b&&(v=A(b,u))}return v}function Ay(i){return void 0!==i}function IE(i,s){return 0!=(i.flags&(s?16:32))}function TE(i,s=""){const o=Ie(),u=Tt(),c=i+20,d=u.firstCreatePass?_d(u,c,1,s,null):u.data[c],m=o[c]=function(i,s){return rn(i)?i.createText(s):i.createTextNode(s)}(o[11],s);zo(u,o,m,d),gi(d,!1)}function Sy(i){return Ny("",i,""),Sy}function Ny(i,s,o){const u=Ie(),c=function(i,s,o,u){return bi(i,Ws(),o)?s+ke(o)+u:ht}(u,i,s,o);return c!==ht&&Ns(u,Vr(),c),Ny}function kE(i,s,o){const u=Ie();return bi(u,Ws(),s)&&Ss(Tt(),pn(),u,i,s,u[11],o,!0),kE}function wg(i,s,o){const u=Ie();if(bi(u,Ws(),s)){const d=Tt(),m=pn();Ss(d,m,u,i,s,function(i,s,o){return(null===i||pi(i))&&(o=function(i){for(;Array.isArray(i);){if("object"==typeof i[1])return i;i=i[0]}return null}(o[s.index])),o[11]}(_a(d.data),m,u),o,!0)}return wg}const Pd=void 0;var rS=["en",[["a","p"],["AM","PM"],Pd],[["AM","PM"],Pd,Pd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pd,"{1} 'at' {0}",Pd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(i){const s=Math.floor(Math.abs(i)),o=i.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===o?1:5}];let hc={};function bg(i){const s=function(i){return i.toLowerCase().replace(/_/g,"-")}(i);let o=yC(s);if(o)return o;const u=s.split("-")[0];if(o=yC(u),o)return o;if("en"===u)return rS;throw new Error(`Missing locale data for the locale "${i}".`)}function mC(i){return bg(i)[it.PluralCase]}function yC(i){return i in hc||(hc[i]=H.ng&&H.ng.common&&H.ng.common.locales&&H.ng.common.locales[i]),hc[i]}var it=(()=>((it=it||{})[it.LocaleId=0]="LocaleId",it[it.DayPeriodsFormat=1]="DayPeriodsFormat",it[it.DayPeriodsStandalone=2]="DayPeriodsStandalone",it[it.DaysFormat=3]="DaysFormat",it[it.DaysStandalone=4]="DaysStandalone",it[it.MonthsFormat=5]="MonthsFormat",it[it.MonthsStandalone=6]="MonthsStandalone",it[it.Eras=7]="Eras",it[it.FirstDayOfWeek=8]="FirstDayOfWeek",it[it.WeekendRange=9]="WeekendRange",it[it.DateFormat=10]="DateFormat",it[it.TimeFormat=11]="TimeFormat",it[it.DateTimeFormat=12]="DateTimeFormat",it[it.NumberSymbols=13]="NumberSymbols",it[it.NumberFormats=14]="NumberFormats",it[it.CurrencyCode=15]="CurrencyCode",it[it.CurrencySymbol=16]="CurrencySymbol",it[it.CurrencyName=17]="CurrencyName",it[it.Currencies=18]="Currencies",it[it.Directionality=19]="Directionality",it[it.PluralCase=20]="PluralCase",it[it.ExtraData=21]="ExtraData",it))();const Vy="en-US";let Ig=Vy;function BE(i){hn(i,"Expected localeId to be defined"),"string"==typeof i&&(Ig=i.toLowerCase().replace(/_/g,"-"))}function jd(i,s,o,u,c){if(i=K(i),Array.isArray(i))for(let d=0;d<i.length;d++)jd(i[d],s,o,u,c);else{const d=Tt(),m=Ie();let v=wd(i)?i:K(i.provide),b=Ko(i);const I=Cn(),S=1048575&I.providerIndexes,O=I.directiveStart,P=I.providerIndexes>>20;if(wd(i)||!i.multi){const B=new Ro(b,c,lc),W=QE(v,s,c?S:S+P,O);-1===W?(ar(tt(I,m),d,v),Wy(d,i,s.length),s.push(v),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(B),m.push(B)):(o[W]=B,m[W]=B)}else{const B=QE(v,s,S+P,O),W=QE(v,s,S,S+P),ae=B>=0&&o[B],J=W>=0&&o[W];if(c&&!J||!c&&!ae){ar(tt(I,m),d,v);const Me=function(i,s,o,u,c){const d=new Ro(i,o,lc);return d.multi=[],d.index=s,d.componentProviders=0,Ky(d,c,u&&!o),d}(c?AS:DS,o.length,c,u,b);!c&&J&&(o[W].providerFactory=Me),Wy(d,i,s.length,0),s.push(v),I.directiveStart++,I.directiveEnd++,c&&(I.providerIndexes+=1048576),o.push(Me),m.push(Me)}else Wy(d,i,B>-1?B:W,Ky(o[c?W:B],b,!c&&u));!c&&u&&J&&o[W].componentProviders++}}}function Wy(i,s,o,u){const c=wd(s);if(c||function(i){return!!i.useClass}(s)){const m=(s.useClass||s).prototype.ngOnDestroy;if(m){const v=i.destroyHooks||(i.destroyHooks=[]);if(!c&&s.multi){const b=v.indexOf(o);-1===b?v.push(o,[u,m]):v[b+1].push(u,m)}else v.push(o,m)}}}function Ky(i,s,o){return o&&i.componentProviders++,i.multi.push(s)-1}function QE(i,s,o,u){for(let c=o;c<u;c++)if(s[c]===i)return c;return-1}function DS(i,s,o,u){return Sg(this.multi,[])}function AS(i,s,o,u){const c=this.multi;let d;if(this.providerFactory){const m=this.providerFactory.componentProviders,v=Oo(o,o[1],this.providerFactory.index,u);d=v.slice(0,m),Sg(c,d);for(let b=m;b<v.length;b++)d.push(v[b])}else d=[],Sg(c,d);return d}function Sg(i,s){for(let o=0;o<i.length;o++)s.push((0,i[o])());return s}function XE(i,s=[]){return o=>{o.providersResolver=(u,c)=>function(i,s,o){const u=Tt();if(u.firstCreatePass){const c=pi(i);jd(o,u.data,u.blueprint,c,!0),jd(s,u.data,u.blueprint,c,!1)}}(u,c?c(i):i,s)}}class ew{}const Zy="ngComponent";class SS{resolveComponentFactory(s){throw function(i){const s=Error(`No component factory found for ${Z(i)}. Did you add it to @NgModule.entryComponents?`);return s[Zy]=i,s}(s)}}let fc=(()=>{class i{}return i.NULL=new SS,i})();function pc(...i){}function zu(i,s){return new ai(Lr(i,s))}const Ng=function(){return zu(Cn(),Ie())};let ai=(()=>{class i{constructor(o){this.nativeElement=o}}return i.__NG_ELEMENT_ID__=Ng,i})();function GC(i){return i instanceof ai?i.nativeElement:i}class Rg{}let xg=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>xS(),i})();const xS=function(){const i=Ie(),o=yr(Cn().index,i);return function(i){return i[11]}(Yi(o)?o:i)};let Qy=(()=>{class i{}return i.\u0275prov=St({token:i,providedIn:"root",factory:()=>null}),i})();class qC{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const rw=new qC("12.2.12");class iw{constructor(){}supports(s){return Lu(s)}create(s){return new zC(s)}}const PS=(i,s)=>s;class zC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||PS}forEachItem(s){let o;for(o=this._itHead;null!==o;o=o._next)s(o)}forEachOperation(s){let o=this._itHead,u=this._removalsHead,c=0,d=null;for(;o||u;){const m=!u||o&&o.currentIndex<ow(u,c,d)?o:u,v=ow(m,c,d),b=m.currentIndex;if(m===u)c--,u=u._nextRemoved;else if(o=o._next,null==m.previousIndex)c++;else{d||(d=[]);const I=v-c,S=b-c;if(I!=S){for(let P=0;P<I;P++){const B=P<d.length?d[P]:d[P]=0,W=B+P;S<=W&&W<I&&(d[P]=B+1)}d[m.previousIndex]=S-I}}v!==b&&s(m,v,b)}}forEachPreviousItem(s){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachMovedItem(s){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}forEachIdentityChange(s){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)s(o)}diff(s){if(null==s&&(s=[]),!Lu(s))throw new Error(`Error trying to diff '${Z(s)}'. Only arrays and iterables are allowed`);return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let c,d,m,o=this._itHead,u=!1;if(Array.isArray(s)){this.length=s.length;for(let v=0;v<this.length;v++)d=s[v],m=this._trackByFn(v,d),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,d,m,v)),Object.is(o.item,d)||this._addIdentityChange(o,d)):(o=this._mismatch(o,d,m,v),u=!0),o=o._next}else c=0,function(i,s){if(Array.isArray(i))for(let o=0;o<i.length;o++)s(i[o]);else{const o=i[Yo()]();let u;for(;!(u=o.next()).done;)s(u.value)}}(s,v=>{m=this._trackByFn(c,v),null!==o&&Object.is(o.trackById,m)?(u&&(o=this._verifyReinsertion(o,v,m,c)),Object.is(o.item,v)||this._addIdentityChange(o,v)):(o=this._mismatch(o,v,m,c),u=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,o,u,c){let d;return null===s?d=this._itTail:(d=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._reinsertAfter(s,d,c)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(u,c))?(Object.is(s.item,o)||this._addIdentityChange(s,o),this._moveAfter(s,d,c)):s=this._addAfter(new kS(o,u),d,c),s}_verifyReinsertion(s,o,u,c){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(u,null);return null!==d?s=this._reinsertAfter(d,s._prev,c):s.currentIndex!=c&&(s.currentIndex=c,this._addToMoves(s,c)),s}_truncate(s){for(;null!==s;){const o=s._next;this._addToRemovals(this._unlink(s)),s=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,o,u){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const c=s._prevRemoved,d=s._nextRemoved;return null===c?this._removalsHead=d:c._nextRemoved=d,null===d?this._removalsTail=c:d._prevRemoved=c,this._insertAfter(s,o,u),this._addToMoves(s,u),s}_moveAfter(s,o,u){return this._unlink(s),this._insertAfter(s,o,u),this._addToMoves(s,u),s}_addAfter(s,o,u){return this._insertAfter(s,o,u),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,o,u){const c=null===o?this._itHead:o._next;return s._next=c,s._prev=o,null===c?this._itTail=s:c._prev=s,null===o?this._itHead=s:o._next=s,null===this._linkedRecords&&(this._linkedRecords=new sw),this._linkedRecords.put(s),s.currentIndex=u,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const o=s._prev,u=s._next;return null===o?this._itHead=u:o._next=u,null===u?this._itTail=o:u._prev=o,s}_addToMoves(s,o){return s.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sw),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,o){return s.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class kS{constructor(s,o){this.item=s,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class FS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,o){let u;for(u=this._head;null!==u;u=u._nextDup)if((null===o||o<=u.currentIndex)&&Object.is(u.trackById,s))return u;return null}remove(s){const o=s._prevDup,u=s._nextDup;return null===o?this._head=u:o._nextDup=u,null===u?this._tail=o:u._prevDup=o,null===this._head}}class sw{constructor(){this.map=new Map}put(s){const o=s.trackById;let u=this.map.get(o);u||(u=new FS,this.map.set(o,u)),u.add(s)}get(s,o){const c=this.map.get(s);return c?c.get(s,o):null}remove(s){const o=s.trackById;return this.map.get(o).remove(s)&&this.map.delete(o),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ow(i,s,o){const u=i.previousIndex;if(null===u)return u;let c=0;return o&&u<o.length&&(c=o[u]),u+s+c}class aw{constructor(){}supports(s){return s instanceof Map||Kv(s)}create(){return new WC}}class WC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let o;for(o=this._mapHead;null!==o;o=o._next)s(o)}forEachPreviousItem(s){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)s(o)}forEachChangedItem(s){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)s(o)}forEachAddedItem(s){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)s(o)}forEachRemovedItem(s){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)s(o)}diff(s){if(s){if(!(s instanceof Map||Kv(s)))throw new Error(`Error trying to diff '${Z(s)}'. Only maps and objects are allowed`)}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(s,(u,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,u),this._appendAfter=o,o=o._next;else{const d=this._getOrCreateRecordForKey(c,u);o=this._insertBeforeOrAppend(o,d)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let u=o;null!==u;u=u._nextRemoved)u===this._mapHead&&(this._mapHead=null),this._records.delete(u.key),u._nextRemoved=u._next,u.previousValue=u.currentValue,u.currentValue=null,u._prev=null,u._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,o){if(s){const u=s._prev;return o._next=s,o._prev=u,s._prev=o,u&&(u._next=o),s===this._mapHead&&(this._mapHead=o),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(s,o){if(this._records.has(s)){const c=this._records.get(s);this._maybeAddToChanges(c,o);const d=c._prev,m=c._next;return d&&(d._next=m),m&&(m._prev=d),c._next=null,c._prev=null,c}const u=new uw(s);return this._records.set(s,u),u.currentValue=o,this._addToAdditions(u),u}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,o){Object.is(o,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=o,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,o){s instanceof Map?s.forEach(o):Object.keys(s).forEach(u=>o(s[u],u))}}class uw{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Mg(){return new Jy([new iw])}let Jy=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(null!=u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Mg()),deps:[[i,new eo,new as]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(null!=u)return u;throw new Error(`Cannot find a differ supporting object '${o}' of type '${function(i){return i.name||typeof i}(o)}'`)}}return i.\u0275prov=St({token:i,providedIn:"root",factory:Mg}),i})();function Wu(){return new Xy([new aw])}let Xy=(()=>{class i{constructor(o){this.factories=o}static create(o,u){if(u){const c=u.factories.slice();o=o.concat(c)}return new i(o)}static extend(o){return{provide:i,useFactory:u=>i.create(o,u||Wu()),deps:[[i,new eo,new as]]}}find(o){const u=this.factories.find(c=>c.supports(o));if(u)return u;throw new Error(`Cannot find a differ supporting object '${o}'`)}}return i.\u0275prov=St({token:i,providedIn:"root",factory:Wu}),i})();function Ba(i,s,o,u,c=!1){for(;null!==o;){const d=s[o.index];if(null!==d&&u.push(Nt(d)),wn(d))for(let v=10;v<d.length;v++){const b=d[v],I=b[1].firstChild;null!==I&&Ba(b[1],b,I,u)}const m=o.type;if(8&m)Ba(i,s,o.child,u);else if(32&m){const v=ne(o,s);let b;for(;b=v();)u.push(b)}else if(16&m){const v=Mb(s,o);if(Array.isArray(v))u.push(...v);else{const b=$e(s[16]);Ba(b[1],b,v,u,!0)}}o=c?o.projectionNext:o.next}return u}class Og{constructor(s,o){this._lView=s,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,o=s[1];return Ba(o,s,o.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(wn(s)){const o=s[8],u=o?o.indexOf(this):-1;u>-1&&(jm(s,u),Ys(o,u))}this._attachedToViewContainer=!1}$p(this._lView[1],this._lView)}onDestroy(s){Mv(this._lView[1],this._lView,null,s)}markForCheck(){mf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ey(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(i,s,o){ts(!0);try{ey(i,s,o)}finally{ts(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var s;this._appRef=null,pd(this._lView[1],s=this._lView,s[11],2,null,null)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=s}}class LS extends Og{constructor(s){super(s),this._view=s}detectChanges(){n0(this._view)}checkNoChanges(){!function(i){ts(!0);try{n0(i)}finally{ts(!1)}}(this._view)}get context(){return null}}const US=function(i){return function(i,s,o){if(Ya(i)&&!o){const u=yr(i.index,s);return new Og(u,u)}return 47&i.type?new Og(s[16],s):null}(Cn(),Ie(),16==(16&i))};let ZC=(()=>{class i{}return i.__NG_ELEMENT_ID__=US,i})();const jS=[new aw],$S=new Jy([new iw]),Of=new Xy(jS),HS=function(){return e_(Cn(),Ie())};let Pg=(()=>{class i{}return i.__NG_ELEMENT_ID__=HS,i})();const GS=Pg,qS=class extends GS{constructor(s,o,u){super(),this._declarationLView=s,this._declarationTContainer=o,this.elementRef=u}createEmbeddedView(s){const o=this._declarationTContainer.tViews,u=As(this._declarationLView,o,s,16,null,o.declTNode,null,null,null,null);u[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(u[19]=d.createEmbeddedView(o)),Xl(o,u,s),new Og(u)}};function e_(i,s){return 4&i.type?new qS(s,i,zu(i,s)):null}class Pf{}class JC{}const eI=function(){return Lg(Cn(),Ie())};let kg=(()=>{class i{}return i.__NG_ELEMENT_ID__=eI,i})();const cw=kg,tI=class extends cw{constructor(s,o,u){super(),this._lContainer=s,this._hostTNode=o,this._hostLView=u}get element(){return zu(this._hostTNode,this._hostLView)}get injector(){return new Ea(this._hostTNode,this._hostLView)}get parentInjector(){const s=Dl(this._hostTNode,this._hostLView);if(Il(s)){const o=fu(s,this._hostLView),u=hu(s);return new Ea(o[1].data[u+8],o)}return new Ea(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const o=nI(this._lContainer);return null!==o&&o[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,o,u){const c=s.createEmbeddedView(o||{});return this.insert(c,u),c}createComponent(s,o,u,c,d){const m=u||this.parentInjector;if(!d&&null==s.ngModule&&m){const b=m.get(Pf,null);b&&(d=b)}const v=s.create(m,c,void 0,d);return this.insert(v.hostView,o),v}insert(s,o){const u=s._lView,c=u[1];if(wn(u[3])){const S=this.indexOf(s);if(-1!==S)this.detach(S);else{const O=u[3],P=new tI(O,O[6],O[3]);P.detach(P.indexOf(s))}}const d=this._adjustIndex(o),m=this._lContainer;!function(i,s,o,u){const c=10+u,d=o.length;u>0&&(o[c-1][4]=s),u<d-10?(s[4]=o[c],ti(o,10+u,s)):(o.push(s),s[4]=null),s[3]=o;const m=s[17];null!==m&&o!==m&&function(i,s){const o=i[9];s[16]!==s[3][3][16]&&(i[2]=!0),null===o?i[9]=[s]:o.push(s)}(m,s);const v=s[19];null!==v&&v.insertView(i),s[2]|=128}(c,u,m,d);const v=Pe(d,m),b=u[11],I=Hp(b,m[7]);return null!==I&&function(i,s,o,u,c,d){u[0]=c,u[6]=s,pd(i,u,o,1,c,d)}(c,m[6],b,u,I,v),s.attachToViewContainerRef(),ti(t_(m),d,s),s}move(s,o){return this.insert(s,o)}indexOf(s){const o=nI(this._lContainer);return null!==o?o.indexOf(s):-1}remove(s){const o=this._adjustIndex(s,-1),u=jm(this._lContainer,o);u&&(Ys(t_(this._lContainer),o),$p(u[1],u))}detach(s){const o=this._adjustIndex(s,-1),u=jm(this._lContainer,o);return u&&null!=Ys(t_(this._lContainer),o)?new Og(u):null}_adjustIndex(s,o=0){return null==s?this.length+o:s}};function nI(i){return i[8]}function t_(i){return i[8]||(i[8]=[])}function Lg(i,s){let o;const u=s[i.index];if(wn(u))o=u;else{let c;if(8&i.type)c=Nt(u);else{const d=s[11];c=d.createComment("");const m=Lr(i,s);dd(d,Hp(d,m),c,function(i,s){return rn(i)?i.nextSibling(s):s.nextSibling}(d,m),!1)}s[i.index]=o=gf(u,s,c,i),tr(s,o)}return new tI(o,i,s)}const $f={};class SI extends fc{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const o=Yn(s);return new RI(o,this.ngModule)}}function qg(i){const s=[];for(let o in i)i.hasOwnProperty(o)&&s.push({propName:i[o],templateName:o});return s}const NI=new Qt("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>tf});class RI extends ew{constructor(s,o){super(),this.componentDef=s,this.ngModule=o,this.componentType=s.type,this.selector=s.selectors.map(Fb).join(","),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return qg(this.componentDef.inputs)}get outputs(){return qg(this.componentDef.outputs)}create(s,o,u,c){const d=(c=c||this.ngModule)?function(i,s){return{get:(o,u,c)=>{const d=i.get(o,$f,c);return d!==$f||u===$f?d:s.get(o,u,c)}}}(s,c.injector):s,m=d.get(Rg,nu),v=d.get(Qy,null),b=m.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",S=u?function(i,s,o){if(rn(i))return i.selectRootElement(s,o===bt.ShadowDom);let u="string"==typeof s?i.querySelector(s):s;return u.textContent="",u}(b,u,this.componentDef.encapsulation):ld(m.createRenderer(null,this.componentDef),I,function(i){const s=i.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(I)),O=this.componentDef.onPush?576:528,P=function(i,s){return{components:[],scheduler:i||tf,clean:r0,playerHandler:s||null,flags:0}}(),B=Zp(0,null,null,1,0,null,null,null,null,null),W=As(null,B,P,O,null,null,m,b,v,d);let ae,J;Cs(W);try{const Me=function(i,s,o,u,c,d){const m=o[1];o[20]=i;const b=_d(m,20,2,"#host",null),I=b.mergedAttrs=s.hostAttrs;null!==I&&(Ed(b,I,!0),null!==i&&(du(c,i,I),null!==b.classes&&Se(c,i,b.classes),null!==b.styles&&de(c,i,b.styles)));const S=u.createRenderer(i,s),O=As(o,cf(s),null,s.onPush?64:16,o[20],b,u,S,d||null,null);return m.firstCreatePass&&(ar(tt(b,o),m,s.type),Qp(m,b),Yb(b,o.length,1)),tr(o,O),o[20]=O}(S,this.componentDef,W,m,b);if(S)if(u)du(b,S,["ng-version",rw.full]);else{const{attrs:ve,classes:We}=function(i){const s=[],o=[];let u=1,c=2;for(;u<i.length;){let d=i[u];if("string"==typeof d)2===c?""!==d&&s.push(d,i[++u]):8===c&&o.push(d);else{if(!Gn(c))break;c=d}u++}return{attrs:s,classes:o}}(this.componentDef.selectors[0]);ve&&du(b,S,ve),We&&We.length>0&&Se(b,S,We.join(" "))}if(J=Xi(B,20),void 0!==o){const ve=J.projection=[];for(let We=0;We<this.ngContentSelectors.length;We++){const lt=o[We];ve.push(null!=lt?Array.from(lt):null)}}ae=function(i,s,o,u,c){const d=o[1],m=function(i,s,o){const u=Cn();i.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Fv(i,u,s,Pu(i,s,1,null),o));const c=Oo(s,i,u.directiveStart,u);Br(c,s);const d=Lr(u,s);return d&&Br(d,s),c}(d,o,s);if(u.components.push(m),i[8]=m,c&&c.forEach(b=>b(m,s)),s.contentQueries){const b=Cn();s.contentQueries(1,m,b.directiveStart)}const v=Cn();return!d.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(Jr(v.index),Pv(o[1],v,0,v.directiveStart,v.directiveEnd,s),hr(s,m)),m}(Me,this.componentDef,W,P,[Cd]),Xl(B,W,null)}finally{yl()}return new dN(this.componentType,ae,zu(J,W),W,J)}}class dN extends class{}{constructor(s,o,u,c,d){super(),this.location=u,this._rootLView=c,this._tNode=d,this.instance=o,this.hostView=this.changeDetectorRef=new LS(c),this.componentType=s}get injector(){return new Ea(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}const Hf=new Map;class pN extends Pf{constructor(s,o){super(),this._parent=o,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new SI(this);const u=mr(s),c=s[Ft]||null;c&&BE(c),this._bootstrapComponents=_(u.bootstrap),this._r3Injector=c0(s,o,[{provide:Pf,useValue:this},{provide:fc,useValue:this.componentFactoryResolver}],Z(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,o=An.THROW_IF_NOT_FOUND,u=Ae.Default){return s===An||s===Pf||s===_f?this:this._r3Injector.get(s,o,u)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class Dw extends JC{constructor(s){super(),this.moduleType=s,null!==mr(s)&&function(i){const s=new Set;!function o(u){const c=mr(u,!0),d=c.id;null!==d&&(function(i,s,o){if(s&&s!==o)throw new Error(`Duplicate module registered for ${i} - ${Z(s)} vs ${Z(s.name)}`)}(d,Hf.get(d),u),Hf.set(d,u));const m=_(c.imports);for(const v of m)s.has(v)||(s.add(v),o(v))}(i)}(s)}create(s){return new pN(this.moduleType,s)}}function Aw(i,s,o,u){return VI(Ie(),or(),i,s,o,u)}function VI(i,s,o,u,c,d){const m=s+o;return bi(i,m,c)?function(i,s,o){return i[s]=o}(i,m+1,d?u.call(d,c):u(c)):function(i,s){const o=i[s];return o===ht?void 0:o}(i,m+1)}function UI(i,s){const o=Tt();let u;const c=i+20;o.firstCreatePass?(u=function(i,s){if(s)for(let o=s.length-1;o>=0;o--){const u=s[o];if(i===u.name)return u}throw new ge("302",`The pipe '${i}' could not be found!`)}(s,o.pipeRegistry),o.data[c]=u,u.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,u.onDestroy)):u=o.data[c];const d=u.factory||(u.factory=bn(u.type)),m=vn(lc);try{const v=Mo(!1),b=d();return Mo(v),function(i,s,o,u){o>=i.data.length&&(i.data[o]=null,i.blueprint[o]=null),s[o]=u}(o,Ie(),c,b),b}finally{vn(m)}}function jI(i,s,o){const u=i+20,c=Ie(),d=function(i,s){return i[s]}(c,u);return function(i,s){wi.isWrapped(s)&&(s=wi.unwrap(s),i[rt.lFrame.bindingIndex]=ht);return s}(c,function(i,s){return i[1].data[s].pure}(c,u)?VI(c,or(),s,d.transform,o,d):d.transform(o))}function HI(i){return s=>{setTimeout(i,void 0,s)}}const $a=class extends p.xQ{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,o,u){var c,d,m;let v=s,b=o||(()=>null),I=u;if(s&&"object"==typeof s){const O=s;v=null===(c=O.next)||void 0===c?void 0:c.bind(O),b=null===(d=O.error)||void 0===d?void 0:d.bind(O),I=null===(m=O.complete)||void 0===m?void 0:m.bind(O)}this.__isAsync&&(b=HI(b),v&&(v=HI(v)),I&&(I=HI(I)));const S=super.subscribe({next:v,error:b,complete:I});return s instanceof X.w&&s.add(S),S}};function bN(){return this._results[Yo()]()}class xw{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=Yo(),u=xw.prototype;u[o]||(u[o]=bN)}get changes(){return this._changes||(this._changes=new $a)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,o){return this._results.reduce(s,o)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,o){const u=this;u.dirty=!1;const c=Xr(s);(this._changesDetected=!function(i,s,o){if(i.length!==s.length)return!1;for(let u=0;u<i.length;u++){let c=i[u],d=s[u];if(o&&(c=o(c),d=o(d)),d!==c)return!1}return!0}(u._results,c,o))&&(u._results=c,u.length=c.length,u.last=c[this.length-1],u.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class GI{constructor(s){this.queryList=s,this.matches=null}clone(){return new GI(this.queryList)}setDirty(){this.queryList.setDirty()}}class qI{constructor(s=[]){this.queries=s}createEmbeddedView(s){const o=s.queries;if(null!==o){const u=null!==s.contentQueries?s.contentQueries[0]:o.length,c=[];for(let d=0;d<u;d++){const m=o.getByIndex(d);c.push(this.queries[m.indexInDeclarationView].clone())}return new qI(c)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let o=0;o<this.queries.length;o++)null!==zg(s,o).matches&&this.queries[o].setDirty()}}class IN{constructor(s,o,u=null){this.predicate=s,this.flags=o,this.read=u}}class zI{constructor(s=[]){this.queries=s}elementStart(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementStart(s,o)}elementEnd(s){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(s)}embeddedTView(s){let o=null;for(let u=0;u<this.length;u++){const c=null!==o?o.length:0,d=this.getByIndex(u).embeddedTView(s,c);d&&(d.indexInDeclarationView=u,null!==o?o.push(d):o=[d])}return null!==o?new zI(o):null}template(s,o){for(let u=0;u<this.queries.length;u++)this.queries[u].template(s,o)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class Mw{constructor(s,o=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(s,o){this.isApplyingToNode(o)&&this.matchTNode(s,o)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,o){this.elementStart(s,o)}embeddedTView(s,o){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,o),new Mw(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let u=s.parent;for(;null!==u&&8&u.type&&u.index!==o;)u=u.parent;return o===(null!==u?u.index:-1)}return this._appliesToNextNode}matchTNode(s,o){const u=this.metadata.predicate;if(Array.isArray(u))for(let c=0;c<u.length;c++){const d=u[c];this.matchTNodeWithReadOption(s,o,TN(o,d)),this.matchTNodeWithReadOption(s,o,rs(o,s,d,!1,!1))}else u===Pg?4&o.type&&this.matchTNodeWithReadOption(s,o,-1):this.matchTNodeWithReadOption(s,o,rs(o,s,u,!1,!1))}matchTNodeWithReadOption(s,o,u){if(null!==u){const c=this.metadata.read;if(null!==c)if(c===ai||c===kg||c===Pg&&4&o.type)this.addMatch(o.index,-2);else{const d=rs(o,s,c,!1,!1);null!==d&&this.addMatch(o.index,d)}else this.addMatch(o.index,u)}}addMatch(s,o){null===this.matches?this.matches=[s,o]:this.matches.push(s,o)}}function TN(i,s){const o=i.localNames;if(null!==o)for(let u=0;u<o.length;u+=2)if(o[u]===s)return o[u+1];return null}function KI(i,s,o,u){return-1===o?function(i,s){return 11&i.type?zu(i,s):4&i.type?e_(i,s):null}(s,i):-2===o?function(i,s,o){return o===ai?zu(s,i):o===Pg?e_(s,i):o===kg?Lg(s,i):void 0}(i,s,u):Oo(i,i[1],o,s)}function Ow(i,s,o,u){const c=s[19].queries[u];if(null===c.matches){const d=i.data,m=o.matches,v=[];for(let b=0;b<m.length;b+=2){const I=m[b];v.push(I<0?null:KI(s,d[I],m[b+1],o.metadata.read))}c.matches=v}return c.matches}function y_(i,s,o,u){const c=i.queries.getByIndex(o),d=c.matches;if(null!==d){const m=Ow(i,s,c,o);for(let v=0;v<d.length;v+=2){const b=d[v];if(b>0)u.push(m[v/2]);else{const I=d[v+1],S=s[-b];for(let O=10;O<S.length;O++){const P=S[O];P[17]===P[3]&&y_(P[1],P,I,u)}if(null!==S[9]){const O=S[9];for(let P=0;P<O.length;P++){const B=O[P];y_(B[1],B,I,u)}}}}}return u}function Pw(i){const s=Ie(),o=Tt(),u=Ih();gl(u+1);const c=zg(o,u);if(i.dirty&&al(s)===(2==(2&c.metadata.flags))){if(null===c.matches)i.reset([]);else{const d=c.crossesNgTemplate?y_(o,s,u,[]):Ow(o,s,c,u);i.reset(d,GC),i.notifyOnChanges()}return!0}return!1}function kw(i,s,o,u){const c=Tt();if(c.firstCreatePass){const d=Cn();(function(i,s,o){null===i.queries&&(i.queries=new zI),i.queries.track(new Mw(s,o))})(c,new IN(s,o,u),d.index),function(i,s){const o=i.contentQueries||(i.contentQueries=[]);s!==(o.length?o[o.length-1]:-1)&&o.push(i.queries.length-1,s)}(c,i),2==(2&o)&&(c.staticContentQueries=!0)}!function(i,s,o){const u=new xw(4==(4&o));Mv(i,s,u,u.destroy),null===s[19]&&(s[19]=new qI),s[19].queries.push(new GI(u))}(c,Ie(),o)}function DN(){return i=Ie(),s=Ih(),i[19].queries[s].queryList;var i,s}function zg(i,s){return i.queries.getByIndex(s)}const I_=new Qt("Application Initializer");let zf=(()=>{class i{constructor(o){this.appInits=o,this.resolve=pc,this.reject=pc,this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],u=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const d=this.appInits[c]();if(Rd(d))o.push(d);else if(vy(d)){const m=new Promise((v,b)=>{d.subscribe({complete:v,error:b})});o.push(m)}}Promise.all(o).then(()=>{u()}).catch(c=>{this.reject(c)}),0===o.length&&u(),this.initialized=!0}}return i.\u0275fac=function(o){return new(o||i)(kn(I_,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const wc=new Qt("AppId"),zN={provide:wc,useFactory:function(){return`${li()}${li()}${li()}`},deps:[]};function li(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wf=new Qt("Platform Initializer"),T_=new Qt("Platform ID"),gT=new Qt("appBootstrapListener");let mT=(()=>{class i{log(o){console.log(o)}warn(o){console.warn(o)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const xi=new Qt("LocaleId"),yT=new Qt("DefaultCurrencyCode");class vT{constructor(s,o){this.ngModuleFactory=s,this.componentFactories=o}}const Kw=function(i){return new Dw(i)},WN=Kw,ET=function(i){return Promise.resolve(Kw(i))},wT=function(i){const s=Kw(i),u=_(mr(i).declarations).reduce((c,d)=>{const m=Yn(d);return m&&c.push(new RI(m)),c},[]);return new vT(s,u)},ZN=wT,bT=function(i){return Promise.resolve(wT(i))};let xt=(()=>{class i{constructor(){this.compileModuleSync=WN,this.compileModuleAsync=ET,this.compileModuleAndAllComponentsSync=ZN,this.compileModuleAndAllComponentsAsync=bT}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();const CT=(()=>Promise.resolve(0))();function Kg(i){"undefined"==typeof Zone?CT.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Os{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:u=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $a(!1),this.onMicrotaskEmpty=new $a(!1),this.onStable=new $a(!1),this.onError=new $a(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const c=this;c._nesting=0,c._outer=c._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!u&&o,c.shouldCoalesceRunChangeDetection=u,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function(){let i=H.requestAnimationFrame,s=H.cancelAnimationFrame;if("undefined"!=typeof Zone&&i&&s){const o=i[Zone.__symbol__("OriginalDelegate")];o&&(i=o);const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function(i){const s=()=>{!function(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(H,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,D_(i),i.isCheckStableRunning=!0,ho(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),D_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,u,c,d,m,v)=>{try{return XN(i),o.invokeTask(c,d,m,v)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||i.shouldCoalesceRunChangeDetection)&&s(),Kr(i)}},onInvoke:(o,u,c,d,m,v,b)=>{try{return XN(i),o.invoke(c,d,m,v,b)}finally{i.shouldCoalesceRunChangeDetection&&s(),Kr(i)}},onHasTask:(o,u,c,d)=>{o.hasTask(c,d),u===c&&("microTask"==d.change?(i._hasPendingMicrotasks=d.microTask,D_(i),ho(i)):"macroTask"==d.change&&(i.hasPendingMacrotasks=d.macroTask))},onHandleError:(o,u,c,d)=>(o.handleError(c,d),i.runOutsideAngular(()=>i.onError.emit(d)),!1)})}(c)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Os.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Os.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,o,u){return this._inner.run(s,o,u)}runTask(s,o,u,c){const d=this._inner,m=d.scheduleEventTask("NgZoneEvent: "+c,s,JN,pc,pc);try{return d.runTask(m,o,u)}finally{d.cancelTask(m)}}runGuarded(s,o,u){return this._inner.runGuarded(s,o,u)}runOutsideAngular(s){return this._outer.run(s)}}const JN={};function ho(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function D_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function XN(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function Kr(i){i._nesting--,ho(i)}class Ga{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $a,this.onMicrotaskEmpty=new $a,this.onStable=new $a,this.onError=new $a}run(s,o,u){return s.apply(o,u)}runGuarded(s,o,u){return s.apply(o,u)}runOutsideAngular(s){return s()}runTask(s,o,u,c){return s.apply(o,u)}}let DT=(()=>{class i{constructor(o){this._ngZone=o,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Os.assertNotInAngularZone(),Kg(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Kg(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(u=>!u.updateCb||!u.updateCb(o)||(clearTimeout(u.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,u,c){let d=-1;u&&u>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(m=>m.timeoutId!==d),o(this._didWork,this.getPendingTasks())},u)),this._callbacks.push({doneCb:o,timeoutId:d,updateCb:c})}whenStable(o,u,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,u,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(o,u,c){return[]}}return i.\u0275fac=function(o){return new(o||i)(kn(Os))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})(),AT=(()=>{class i{constructor(){this._applications=new Map,Zw.addToWindow(this)}registerApplication(o,u){this._applications.set(o,u)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,u=!0){return Zw.findTestabilityInTree(this,o,u)}}return i.\u0275fac=function(o){return new(o||i)},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();class ST{addToWindow(s){}findTestabilityInTree(s,o,u){return null}}function NT(i){Zw=i}let Zw=new ST,Yw=!0,RT=!1;function A_(){return RT=!0,Yw}function xT(){if(RT)throw new Error("Cannot enable prod mode after platform setup.");Yw=!1}let ps;const Yg=new Qt("AllowMultipleToken");class Qg{constructor(s,o){this.name=s,this.token=o}}function Jg(i,s,o=[]){const u=`Platform: ${s}`,c=new Qt(u);return(d=[])=>{let m=Xg();if(!m||m.injector.get(Yg,!1))if(i)i(o.concat(d).concat({provide:c,useValue:!0}));else{const v=o.concat(d).concat({provide:c,useValue:!0},{provide:vf,useValue:"platform"});!function(i){if(ps&&!ps.destroyed&&!ps.injector.get(Yg,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");ps=i.get(Jw);const s=i.get(Wf,null);s&&s.forEach(o=>o())}(An.create({providers:v,name:u}))}return function(i){const s=Xg();if(!s)throw new Error("No platform exists!");if(!s.injector.get(i,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return s}(c)}}function Xg(){return ps&&!ps.destroyed?ps:null}let Jw=(()=>{class i{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,u){const v=function(i,s){let o;return o="noop"===i?new Ga:("zone.js"===i?void 0:i)||new Os({enableLongStackTrace:A_(),shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),o}(u?u.ngZone:void 0,{ngZoneEventCoalescing:u&&u.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:u&&u.ngZoneRunCoalescing||!1}),b=[{provide:Os,useValue:v}];return v.run(()=>{const I=An.create({providers:b,parent:this.injector,name:o.moduleType.name}),S=o.create(I),O=S.injector.get(Nu,null);if(!O)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return v.runOutsideAngular(()=>{const P=v.onError.subscribe({next:B=>{O.handleError(B)}});S.onDestroy(()=>{Zf(this._modules,S),P.unsubscribe()})}),function(i,s,o){try{const u=o();return Rd(u)?u.catch(c=>{throw s.runOutsideAngular(()=>i.handleError(c)),c}):u}catch(u){throw s.runOutsideAngular(()=>i.handleError(u)),u}}(O,v,()=>{const P=S.injector.get(zf);return P.runInitializers(),P.donePromise.then(()=>(BE(S.injector.get(xi,Vy)||Vy),this._moduleDoBootstrap(S),S))})})}bootstrapModule(o,u=[]){const c=kT({},u);return function(i,s,o){const u=new Dw(o);return Promise.resolve(u)}(0,0,o).then(d=>this.bootstrapModuleFactory(d,c))}_moduleDoBootstrap(o){const u=o.injector.get(em);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>u.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new Error(`The module ${Z(o.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);o.instance.ngDoBootstrap(u)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(o=>o.destroy()),this._destroyListeners.forEach(o=>o()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(o){return new(o||i)(kn(An))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function kT(i,s){return Array.isArray(s)?s.reduce(kT,i):Object.assign(Object.assign({},i),s)}let em=(()=>{class i{constructor(o,u,c,d,m){this._zone=o,this._injector=u,this._exceptionHandler=c,this._componentFactoryResolver=d,this._initStatus=m,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const v=new k.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),b=new k.y(I=>{let S;this._zone.runOutsideAngular(()=>{S=this._zone.onStable.subscribe(()=>{Os.assertNotInAngularZone(),Kg(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const O=this._zone.onUnstable.subscribe(()=>{Os.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{S.unsubscribe(),O.unsubscribe()}});this.isStable=(0,ce.T)(v,b.pipe(i=>(0,le.x)()(function(i,s){return function(u){let c;c="function"==typeof i?i:function(){return i};const d=Object.create(u,re.N);return d.source=u,d.subjectFactory=c,d}}(te)(i))))}bootstrap(o,u){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let c;c=o instanceof ew?o:this._componentFactoryResolver.resolveComponentFactory(o),this.componentTypes.push(c.componentType);const d=function(i){return i.isBoundToModule}(c)?void 0:this._injector.get(Pf),v=c.create(An.NULL,[],u||c.selector,d),b=v.location.nativeElement,I=v.injector.get(DT,null),S=I&&v.injector.get(AT);return I&&S&&S.registerApplication(b,I),v.onDestroy(()=>{this.detachView(v.hostView),Zf(this.components,v),S&&S.unregisterApplication(b)}),this._loadComponent(v),v}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const u=o;this._views.push(u),u.attachToAppRef(this)}detachView(o){const u=o;Zf(this._views,u),u.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(gT,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return i.\u0275fac=function(o){return new(o||i)(kn(Os),kn(An),kn(Nu),kn(fc),kn(zf))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function Zf(i,s){const o=i.indexOf(s);o>-1&&i.splice(o,1)}class oR{}class tm{}const LT={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let VT=(()=>{class i{constructor(o,u){this._compiler=o,this._config=u||LT}load(o){return this.loadAndCompile(o)}loadAndCompile(o){let[u,c]=o.split("#");return void 0===c&&(c="default"),L(8255)(u).then(d=>d[c]).then(d=>UT(d,u,c)).then(d=>this._compiler.compileModuleAsync(d))}loadFactory(o){let[u,c]=o.split("#"),d="NgFactory";return void 0===c&&(c="default",d=""),L(8255)(this._config.factoryPathPrefix+u+this._config.factoryPathSuffix).then(m=>m[c+d]).then(m=>UT(m,u,c))}}return i.\u0275fac=function(o){return new(o||i)(kn(xt),kn(tm,8))},i.\u0275prov=St({token:i,factory:i.\u0275fac}),i})();function UT(i,s,o){if(!i)throw new Error(`Cannot find '${o}' in '${s}'`);return i}const qT=function(i){return null},fR=Jg(null,"core",[{provide:T_,useValue:"unknown"},{provide:Jw,deps:[An]},{provide:AT,deps:[]},{provide:mT,deps:[]}]),mR=[{provide:em,useClass:em,deps:[Os,An,Nu,fc,zf]},{provide:NI,deps:[Os],useFactory:function(i){let s=[];return i.onStable.subscribe(()=>{for(;s.length;)s.pop()()}),function(o){s.push(o)}}},{provide:zf,useClass:zf,deps:[[new as,I_]]},{provide:xt,useClass:xt,deps:[]},zN,{provide:Jy,useFactory:function(){return $S},deps:[]},{provide:Xy,useFactory:function(){return Of},deps:[]},{provide:xi,useFactory:function(i){return BE(i=i||"undefined"!=typeof $localize&&$localize.locale||Vy),i},deps:[[new Ol(xi),new as,new eo]]},{provide:yT,useValue:"USD"}];let yR=(()=>{class i{constructor(o){}}return i.\u0275fac=function(o){return new(o||i)(kn(em))},i.\u0275mod=sa({type:i}),i.\u0275inj=Pr({providers:mR}),i})()},8939:(Je,be,L)=>{"use strict";L.d(be,{hO:()=>Z,xv:()=>te,Dh:()=>le,GT:()=>ie,cc:()=>ue,on:()=>F,pX:()=>re});var p=L(3018),X=L(7841),k=L(1394);Je=L.hmd(Je);const ce=["ngOnDestroy"],re=(_e,me,ge,Ne={})=>new Proxy(_e,{get:(Ge,ke)=>ge.runOutsideAngular(()=>{var Pt;if(_e[ke])return(null===(Pt=null==Ne?void 0:Ne.spy)||void 0===Pt?void 0:Pt.get)&&Ne.spy.get(ke,_e[ke]),_e[ke];if(ce.indexOf(ke)>-1)return()=>{};const vt=me.toPromise().then(_n=>{const wt=_n&&_n[ke];return"function"==typeof wt?wt.bind(_n):wt&&wt.then?wt.then(It=>ge.run(()=>It)):ge.run(()=>wt)});return new Proxy(()=>{},{get:(_n,wt)=>vt[wt],apply:(_n,wt,It)=>vt.then(gt=>{var ft;const kt=gt&&gt(...It);return(null===(ft=null==Ne?void 0:Ne.spy)||void 0===ft?void 0:ft.apply)&&Ne.spy.apply(ke,It,kt),kt})})})}),ie=(_e,me)=>{me.forEach(ge=>{Object.getOwnPropertyNames(ge.prototype||ge).forEach(Ne=>{Object.defineProperty(_e.prototype,Ne,Object.getOwnPropertyDescriptor(ge.prototype||ge,Ne))})})};class fe{constructor(me){return me}}const le=new p.OlP("angularfire2.app.options"),te=new p.OlP("angularfire2.app.name");function F(_e,me,ge){const Ge="object"==typeof ge&&ge||{};Ge.name=Ge.name||"string"==typeof ge&&ge||"[DEFAULT]";const Pt=X.Z.apps.filter(vt=>vt&&vt.name===Ge.name)[0]||me.runOutsideAngular(()=>X.Z.initializeApp(_e,Ge));try{JSON.stringify(_e)!==JSON.stringify(Pt.options)&&V("error",`${Pt.name} Firebase App already initialized with different options${Je.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(vt){}return new fe(Pt)}const V=(_e,...me)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...me)},Q={provide:fe,useFactory:F,deps:[le,p.R0b,[new p.FiY,te]]};let Z=(()=>{class _e{constructor(ge){X.Z.registerVersion("angularfire",k.q4.full,"core"),X.Z.registerVersion("angularfire",k.q4.full,"app-compat"),X.Z.registerVersion("angular",p.q4F.full,ge.toString())}static initializeApp(ge,Ne){return{ngModule:_e,providers:[{provide:le,useValue:ge},{provide:te,useValue:Ne}]}}}return _e.\u0275fac=function(ge){return new(ge||_e)(p.LFG(p.Lbi))},_e.\u0275mod=p.oAB({type:_e}),_e.\u0275inj=p.cJS({providers:[Q]}),_e})();function ue(_e,me,ge,Ne,Ge){const[,ke,Pt]=globalThis.\u0275AngularfireInstanceCache.find(vt=>vt[0]===_e)||[];if(ke)return function(_e,me){try{return _e.toString()===me.toString()}catch(ge){return _e===me}}(Ge,Pt)||(K("error",`${me} was already initialized on the ${ge} Firebase App with different settings.${pe?" You may need to reload as Firebase is not HMR aware.":""}`),K("warn",{is:Ge,was:Pt})),ke;{const vt=Ne();return globalThis.\u0275AngularfireInstanceCache.push([_e,vt,Ge]),vt}}const pe=!!Je.hot,K=(_e,...me)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1394:(Je,be,L)=>{"use strict";L.d(be,{q4:()=>wa,iC:()=>Eu,HU:()=>ei,vb:()=>_u,JM:()=>Rl});var p=L(3018),X=L(2329),k=L(8239),ce=L(8026),re=L(3854),ie=L(3910),fe=L(5422),le=L(6676);const te="@firebase/installations",F="0.5.3",Q=`w:${F}`,Z="FIS_v2",me=new re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ge(C){return C instanceof re.ZR&&C.code.includes("request-failed")}function Ne({projectId:C}){return`https://firebaseinstallations.googleapis.com/v1/projects/${C}/installations`}function Ge(C){return{token:C.token,requestStatus:2,expiresIn:gt(C.expiresIn),creationTime:Date.now()}}function ke(C,A){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,k.Z)(function*(C,A){const U=(yield A.json()).error;return me.create("request-failed",{requestName:C,serverCode:U.code,serverMessage:U.message,serverStatus:U.status})})).apply(this,arguments)}function vt({apiKey:C}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C})}function _n(C,{refreshToken:A}){const x=vt(C);return x.append("Authorization",function(C){return`${Z} ${C}`}(A)),x}function wt(C){return It.apply(this,arguments)}function It(){return(It=(0,k.Z)(function*(C){const A=yield C();return A.status>=500&&A.status<600?C():A})).apply(this,arguments)}function gt(C){return Number(C.replace("s","000"))}function kt(C,A){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,k.Z)(function*(C,{fid:A}){const x=Ne(C),oe={method:"POST",headers:vt(C),body:JSON.stringify({fid:A,authVersion:Z,appId:C.appId,sdkVersion:Q})},Te=yield wt(()=>fetch(x,oe));if(Te.ok){const Be=yield Te.json();return{fid:Be.fid||A,registrationStatus:2,refreshToken:Be.refreshToken,authToken:Ge(Be.authToken)}}throw yield ke("Create Installation",Te)})).apply(this,arguments)}function ci(C){return new Promise(A=>{setTimeout(A,C)})}const go=/^[cdef][\w-]{21}$/;function Vn(){try{const C=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(C),C[0]=112+C[0]%16;const x=function(C){return function(C){return btoa(String.fromCharCode(...C)).replace(/\+/g,"-").replace(/\//g,"_")}(C).substr(0,22)}(C);return go.test(x)?x:""}catch(C){return""}}function gs(C){return`${C.appName}!${C.appId}`}const Vs=new Map;function ms(C,A){const x=gs(C);nr(x,A),function(C,A){const x=(!$t&&"BroadcastChannel"in self&&($t=new BroadcastChannel("[Firebase] FID Change"),$t.onmessage=C=>{nr(C.data.key,C.data.fid)}),$t);x&&x.postMessage({key:C,fid:A}),0===Vs.size&&$t&&($t.close(),$t=null)}(x,A)}function nr(C,A){const x=Vs.get(C);if(x)for(const U of x)U(A)}let $t=null;const De="firebase-installations-store";let gr=null;function Un(){return gr||(gr=(0,le.openDb)("firebase-installations-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(De)}})),gr}function Oi(C,A){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,k.Z)(function*(C,A){const x=gs(C),Y=(yield Un()).transaction(De,"readwrite"),oe=Y.objectStore(De),Te=yield oe.get(x);return yield oe.put(A,x),yield Y.complete,(!Te||Te.fid!==A.fid)&&ms(C,A.fid),A})).apply(this,arguments)}function Yr(C){return mo.apply(this,arguments)}function mo(){return(mo=(0,k.Z)(function*(C){const A=gs(C),U=(yield Un()).transaction(De,"readwrite");yield U.objectStore(De).delete(A),yield U.complete})).apply(this,arguments)}function nt(C,A){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,k.Z)(function*(C,A){const x=gs(C),Y=(yield Un()).transaction(De,"readwrite"),oe=Y.objectStore(De),Te=yield oe.get(x),Be=A(Te);return void 0===Be?yield oe.delete(x):yield oe.put(Be,x),yield Y.complete,Be&&(!Te||Te.fid!==Be.fid)&&ms(C,Be.fid),Be})).apply(this,arguments)}function Ht(C){return an.apply(this,arguments)}function an(){return(an=(0,k.Z)(function*(C){let A;const x=yield nt(C,U=>{const Y=vn(U),oe=Vt(C,Y);return A=oe.registrationPromise,oe.installationEntry});return""===x.fid?{installationEntry:yield A}:{installationEntry:x,registrationPromise:A}})).apply(this,arguments)}function vn(C){return bt(C||{fid:Vn(),registrationStatus:0})}function Vt(C,A){if(0===A.registrationStatus){if(!navigator.onLine)return{installationEntry:A,registrationPromise:Promise.reject(me.create("app-offline"))};const x={fid:A.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:x,registrationPromise:function(C,A){return qe.apply(this,arguments)}(C,x)}}return 1===A.registrationStatus?{installationEntry:A,registrationPromise:kr(C)}:{installationEntry:A}}function qe(){return(qe=(0,k.Z)(function*(C,A){try{return Oi(C,yield kt(C,A))}catch(x){throw ge(x)&&409===x.customData.serverCode?yield Yr(C):yield Oi(C,{fid:A.fid,registrationStatus:0}),x}})).apply(this,arguments)}function kr(C){return yo.apply(this,arguments)}function yo(){return(yo=(0,k.Z)(function*(C){let A=yield Zt(C);for(;1===A.registrationStatus;)yield ci(100),A=yield Zt(C);if(0===A.registrationStatus){const{installationEntry:x,registrationPromise:U}=yield Ht(C);return U||x}return A})).apply(this,arguments)}function Zt(C){return nt(C,A=>{if(!A)throw me.create("installation-not-found");return bt(A)})}function bt(C){return function(C){return 1===C.registrationStatus&&C.registrationTime+1e4<Date.now()}(C)?{fid:C.fid,registrationStatus:0}:C}function nl(C,A){return z.apply(this,arguments)}function z(){return(z=(0,k.Z)(function*({appConfig:C,platformLoggerProvider:A},x){const U=G(C,x),Y=_n(C,x),oe=A.getImmediate({optional:!0});oe&&Y.append("x-firebase-client",oe.getPlatformInfoString());const Be={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Q}})},je=yield wt(()=>fetch(U,Be));if(je.ok)return Ge(yield je.json());throw yield ke("Generate Auth Token",je)})).apply(this,arguments)}function G(C,{fid:A}){return`${Ne(C)}/${A}/authTokens:generate`}function H(C){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,k.Z)(function*(C,A=!1){let x;const U=yield nt(C.appConfig,oe=>{if(!fn(oe))throw me.create("not-registered");const Te=oe.authToken;if(!A&&Fr(Te))return oe;if(1===Te.requestStatus)return x=se(C,A),oe;{if(!navigator.onLine)throw me.create("app-offline");const Be=ln(oe);return x=Yt(C,Be),Be}});return x?yield x:U.authToken})).apply(this,arguments)}function se(C,A){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,k.Z)(function*(C,A){let x=yield Ve(C.appConfig);for(;1===x.authToken.requestStatus;)yield ci(100),x=yield Ve(C.appConfig);const U=x.authToken;return 0===U.requestStatus?H(C,A):U})).apply(this,arguments)}function Ve(C){return nt(C,A=>{if(!fn(A))throw me.create("not-registered");return function(C){return 1===C.requestStatus&&C.requestTime+1e4<Date.now()}(A.authToken)?Object.assign(Object.assign({},A),{authToken:{requestStatus:0}}):A})}function Yt(C,A){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,k.Z)(function*(C,A){try{const x=yield nl(C,A),U=Object.assign(Object.assign({},A),{authToken:x});return yield Oi(C.appConfig,U),x}catch(x){if(!ge(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const U=Object.assign(Object.assign({},A),{authToken:{requestStatus:0}});yield Oi(C.appConfig,U)}else yield Yr(C.appConfig);throw x}})).apply(this,arguments)}function fn(C){return void 0!==C&&2===C.registrationStatus}function Fr(C){return 2===C.requestStatus&&!function(C){const A=Date.now();return A<C.creationTime||C.creationTime+C.expiresIn<A+36e5}(C)}function ln(C){const A={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},C),{authToken:A})}function _o(){return(_o=(0,k.Z)(function*(C){const A=C,{installationEntry:x,registrationPromise:U}=yield Ht(A.appConfig);return U?U.catch(console.error):H(A).catch(console.error),x.fid})).apply(this,arguments)}function vo(){return(vo=(0,k.Z)(function*(C,A=!1){const x=C;return yield Rc(x.appConfig),(yield H(x,A)).token})).apply(this,arguments)}function Rc(C){return di.apply(this,arguments)}function di(){return(di=(0,k.Z)(function*(C){const{registrationPromise:A}=yield Ht(C);A&&(yield A)})).apply(this,arguments)}function mr(C){return me.create("missing-app-config-values",{valueName:C})}const uh="installations";(0,ce._registerComponent)(new ie.wA(uh,C=>{const A=C.getProvider("app").getImmediate();return{app:A,appConfig:function(C){if(!C||!C.options)throw mr("App Configuration");if(!C.name)throw mr("App Name");const A=["projectId","apiKey","appId"];for(const x of A)if(!C.options[x])throw mr(x);return{appName:C.name,projectId:C.options.projectId,apiKey:C.options.apiKey,appId:C.options.appId}}(A),platformLoggerProvider:(0,ce._getProvider)(A,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("installations-internal",C=>{const A=C.getProvider("app").getImmediate(),x=(0,ce._getProvider)(A,uh).getImmediate();return{getId:()=>function(C){return _o.apply(this,arguments)}(x),getToken:Y=>function(C){return vo.apply(this,arguments)}(x,Y)}},"PRIVATE")),(0,ce.registerVersion)(te,F),(0,ce.registerVersion)(te,F,"esm2017");const En="@firebase/remote-config",Bn=new re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class op{constructor(A,x,U,Y){this.client=A,this.storage=x,this.storageCache=U,this.logger=Y}isCachedDataFresh(A,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const U=Date.now()-x,Y=U<=A;return this.logger.debug(`Config fetch cache check. Cache age millis: ${U}. Cache max age millis (minimumFetchIntervalMillis setting): ${A}. Is cache hit: ${Y}.`),Y}fetch(A){var x=this;return(0,k.Z)(function*(){const[U,Y]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(Y&&x.isCachedDataFresh(A.cacheMaxAgeMillis,U))return Y;A.eTag=Y&&Y.eTag;const oe=yield x.client.fetch(A),Te=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===oe.status&&Te.push(x.storage.setLastSuccessfulFetchResponse(oe)),yield Promise.all(Te),oe})()}}function Yi(C=navigator){return C.languages&&C.languages[0]||C.language}class wn{constructor(A,x,U,Y,oe,Te){this.firebaseInstallations=A,this.sdkVersion=x,this.namespace=U,this.projectId=Y,this.apiKey=oe,this.appId=Te}fetch(A){var x=this;return(0,k.Z)(function*(){const[U,Y]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),Te=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Be={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":A.eTag||"*"},je={sdk_version:x.sdkVersion,app_instance_id:U,app_instance_id_token:Y,app_id:x.appId,language_code:Yi()},Ut={method:"POST",headers:Be,body:JSON.stringify(je)},qt=fetch(Te,Ut),Pn=new Promise((Vi,Vo)=>{A.signal.addEventListener(()=>{const Ml=new Error("The operation was aborted.");Ml.name="AbortError",Vo(Ml)})});let Jn;try{yield Promise.race([qt,Pn]),Jn=yield qt}catch(Vi){let Vo="fetch-client-network";throw"AbortError"===Vi.name&&(Vo="fetch-timeout"),Bn.create(Vo,{originalErrorMessage:Vi.message})}let Xn=Jn.status;const ss=Jn.headers.get("ETag")||void 0;let Lo,os;if(200===Jn.status){let Vi;try{Vi=yield Jn.json()}catch(Vo){throw Bn.create("fetch-client-parse",{originalErrorMessage:Vo.message})}Lo=Vi.entries,os=Vi.state}if("INSTANCE_STATE_UNSPECIFIED"===os?Xn=500:"NO_CHANGE"===os?Xn=304:("NO_TEMPLATE"===os||"EMPTY_CONFIG"===os)&&(Lo={}),304!==Xn&&200!==Xn)throw Bn.create("fetch-status",{httpStatus:Xn});return{status:Xn,eTag:ss,config:Lo}})()}}class ca{constructor(A,x){this.client=A,this.storage=x}fetch(A){var x=this;return(0,k.Z)(function*(){const U=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(A,U)})()}attemptFetch(A,{throttleEndTimeMillis:x,backoffCount:U}){var Y=this;return(0,k.Z)(function*(){yield function(C,A){return new Promise((x,U)=>{const Y=Math.max(A-Date.now(),0),oe=setTimeout(x,Y);C.addEventListener(()=>{clearTimeout(oe),U(Bn.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}(A.signal,x);try{const oe=yield Y.client.fetch(A);return yield Y.storage.deleteThrottleMetadata(),oe}catch(oe){if(!function(C){if(!(C instanceof re.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}(oe))throw oe;const Te={throttleEndTimeMillis:Date.now()+(0,re.$s)(U),backoffCount:U+1};return yield Y.storage.setThrottleMetadata(Te),Y.attemptFetch(A,Te)}})()}}class _m{constructor(A,x,U,Y,oe){this.app=A,this._client=x,this._storageCache=U,this._storage=Y,this._logger=oe,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function da(C,A){const x=C.target.error||void 0;return Bn.create(A,{originalErrorMessage:x&&x.message})}const Co="app_namespace_store";class vm{constructor(A,x,U,Y=function(){return new Promise((C,A)=>{try{const x=indexedDB.open("firebase_remote_config",1);x.onerror=U=>{A(da(U,"storage-open"))},x.onsuccess=U=>{C(U.target.result)},x.onupgradeneeded=U=>{const Y=U.target.result;switch(U.oldVersion){case 0:Y.createObjectStore(Co,{keyPath:"compositeKey"})}}}catch(x){A(Bn.create("storage-open",{originalErrorMessage:x}))}})}()){this.appId=A,this.appName=x,this.namespace=U,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(A){return this.set("last_fetch_status",A)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(A){return this.set("last_successful_fetch_timestamp_millis",A)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(A){return this.set("last_successful_fetch_response",A)}getActiveConfig(){return this.get("active_config")}setActiveConfig(A){return this.set("active_config",A)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(A){return this.set("active_config_etag",A)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(A){return this.set("throttle_metadata",A)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(A){var x=this;return(0,k.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Y,oe)=>{const Be=U.transaction([Co],"readonly").objectStore(Co),je=x.createCompositeKey(A);try{const Ut=Be.get(je);Ut.onerror=qt=>{oe(da(qt,"storage-get"))},Ut.onsuccess=qt=>{const Pn=qt.target.result;Y(Pn?Pn.value:void 0)}}catch(Ut){oe(Bn.create("storage-get",{originalErrorMessage:Ut&&Ut.message}))}})})()}set(A,x){var U=this;return(0,k.Z)(function*(){const Y=yield U.openDbPromise;return new Promise((oe,Te)=>{const je=Y.transaction([Co],"readwrite").objectStore(Co),Ut=U.createCompositeKey(A);try{const qt=je.put({compositeKey:Ut,value:x});qt.onerror=Pn=>{Te(da(Pn,"storage-set"))},qt.onsuccess=()=>{oe()}}catch(qt){Te(Bn.create("storage-set",{originalErrorMessage:qt&&qt.message}))}})})()}delete(A){var x=this;return(0,k.Z)(function*(){const U=yield x.openDbPromise;return new Promise((Y,oe)=>{const Be=U.transaction([Co],"readwrite").objectStore(Co),je=x.createCompositeKey(A);try{const Ut=Be.delete(je);Ut.onerror=qt=>{oe(da(qt,"storage-delete"))},Ut.onsuccess=()=>{Y()}}catch(Ut){oe(Bn.create("storage-delete",{originalErrorMessage:Ut&&Ut.message}))}})})()}createCompositeKey(A){return[this.appId,this.appName,this.namespace,A].join()}}class fh{constructor(A){this.storage=A}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var A=this;return(0,k.Z)(function*(){const x=A.storage.getLastFetchStatus(),U=A.storage.getLastSuccessfulFetchTimestampMillis(),Y=A.storage.getActiveConfig(),oe=yield x;oe&&(A.lastFetchStatus=oe);const Te=yield U;Te&&(A.lastSuccessfulFetchTimestampMillis=Te);const Be=yield Y;Be&&(A.activeConfig=Be)})()}setLastFetchStatus(A){return this.lastFetchStatus=A,this.storage.setLastFetchStatus(A)}setLastSuccessfulFetchTimestampMillis(A){return this.lastSuccessfulFetchTimestampMillis=A,this.storage.setLastSuccessfulFetchTimestampMillis(A)}setActiveConfig(A){return this.activeConfig=A,this.storage.setActiveConfig(A)}}function Oc(){return gh.apply(this,arguments)}function gh(){return(gh=(0,k.Z)(function*(){if(!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(C){return!1}})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("remote-config",function(A,{instanceIdentifier:x}){const U=A.getProvider("app").getImmediate(),Y=A.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Bn.create("registration-window");if(!(0,re.hl)())throw Bn.create("indexed-db-unavailable");const{projectId:oe,apiKey:Te,appId:Be}=U.options;if(!oe)throw Bn.create("registration-project-id");if(!Te)throw Bn.create("registration-api-key");if(!Be)throw Bn.create("registration-app-id");const je=new vm(Be,U.name,x=x||"firebase"),Ut=new fh(je),qt=new fe.Yd(En);qt.logLevel=fe.in.ERROR;const Pn=new wn(Y,ce.SDK_VERSION,x,oe,Te,Be),Jn=new ca(Pn,je),Xn=new op(Jn,je,Ut,qt),ss=new _m(U,Xn,Ut,je,qt);return function(C){const A=(0,re.m9)(C);A._initializePromise||(A._initializePromise=A._storageCache.loadFromStorage().then(()=>{A._isInitializationComplete=!0}))}(ss),ss},"PUBLIC").setMultipleInstances(!0)),(0,ce.registerVersion)(En,"0.3.2"),(0,ce.registerVersion)(En,"0.3.2","esm2017");const mh="/firebase-messaging-sw.js",up="/firebase-cloud-messaging-push-scope",Qa="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ja="google.c.a.c_id",ha="google.c.a.c_l",ki="google.c.a.ts",Pc="google.c.a.e";var bn=(()=>{return(C=bn||(bn={})).PUSH_RECEIVED="push-received",C.NOTIFICATION_CLICKED="notification-clicked",bn;var C})();function Qi(C){const A=new Uint8Array(C);return btoa(String.fromCharCode(...A)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function il(C){const x=(C+"=".repeat((4-C.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),U=atob(x),Y=new Uint8Array(U.length);for(let oe=0;oe<U.length;++oe)Y[oe]=U.charCodeAt(oe);return Y}const Xa="fcm_token_details_db",lp="fcm_token_object_Store";function kc(C){return eu.apply(this,arguments)}function eu(){return(eu=(0,k.Z)(function*(C){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(oe=>oe.name).includes(Xa))return null;let A=null;return(yield(0,le.openDb)(Xa,5,function(){var U=(0,k.Z)(function*(Y){var oe;if(Y.oldVersion<2||!Y.objectStoreNames.contains(lp))return;const Te=Y.transaction.objectStore(lp),Be=yield Te.index("fcmSenderId").get(C);if(yield Te.clear(),Be)if(2===Y.oldVersion){const je=Be;if(!je.auth||!je.p256dh||!je.endpoint)return;A={token:je.fcmToken,createTime:null!==(oe=je.createTime)&&void 0!==oe?oe:Date.now(),subscriptionOptions:{auth:je.auth,p256dh:je.p256dh,endpoint:je.endpoint,swScope:je.swScope,vapidKey:"string"==typeof je.vapidKey?je.vapidKey:Qi(je.vapidKey)}}}else if(3===Y.oldVersion){const je=Be;A={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:Qi(je.auth),p256dh:Qi(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:Qi(je.vapidKey)}}}else if(4===Y.oldVersion){const je=Be;A={token:je.fcmToken,createTime:je.createTime,subscriptionOptions:{auth:Qi(je.auth),p256dh:Qi(je.p256dh),endpoint:je.endpoint,swScope:je.swScope,vapidKey:Qi(je.vapidKey)}}}});return function(Y){return U.apply(this,arguments)}}())).close(),yield(0,le.deleteDb)(Xa),yield(0,le.deleteDb)("fcm_vapid_details_db"),yield(0,le.deleteDb)("undefined"),cp(A)?A:null})).apply(this,arguments)}function cp(C){if(!C||!C.subscriptionOptions)return!1;const{subscriptionOptions:A}=C;return"number"==typeof C.createTime&&C.createTime>0&&"string"==typeof C.token&&C.token.length>0&&"string"==typeof A.auth&&A.auth.length>0&&"string"==typeof A.p256dh&&A.p256dh.length>0&&"string"==typeof A.endpoint&&A.endpoint.length>0&&"string"==typeof A.swScope&&A.swScope.length>0&&"string"==typeof A.vapidKey&&A.vapidKey.length>0}const sr="firebase-messaging-store";let sl=null;function Gs(){return sl||(sl=(0,le.openDb)("firebase-messaging-database",1,C=>{switch(C.oldVersion){case 0:C.createObjectStore(sr)}})),sl}function tu(C){return vs.apply(this,arguments)}function vs(){return(vs=(0,k.Z)(function*(C){const A=nu(C),U=yield(yield Gs()).transaction(sr).objectStore(sr).get(A);if(U)return U;{const Y=yield kc(C.appConfig.senderId);if(Y)return yield Qr(C,Y),Y}})).apply(this,arguments)}function Qr(C,A){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,k.Z)(function*(C,A){const x=nu(C),Y=(yield Gs()).transaction(sr,"readwrite");return yield Y.objectStore(sr).put(A,x),yield Y.complete,A})).apply(this,arguments)}function rn(C){return ol.apply(this,arguments)}function ol(){return(ol=(0,k.Z)(function*(C){const A=nu(C),U=(yield Gs()).transaction(sr,"readwrite");yield U.objectStore(sr).delete(A),yield U.complete})).apply(this,arguments)}function nu({appConfig:C}){return C.appId}const Nt=new re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pa(C,A){return Eh.apply(this,arguments)}function Eh(){return(Eh=(0,k.Z)(function*(C,A){const x=yield yr(C),U=ga(A),Y={method:"POST",headers:x,body:JSON.stringify(U)};let oe;try{oe=yield(yield fetch(Qn(C.appConfig),Y)).json()}catch(Te){throw Nt.create("token-subscribe-failed",{errorInfo:Te})}if(oe.error)throw Nt.create("token-subscribe-failed",{errorInfo:oe.error.message});if(!oe.token)throw Nt.create("token-subscribe-no-token");return oe.token})).apply(this,arguments)}function To(C,A){return Lr.apply(this,arguments)}function Lr(){return(Lr=(0,k.Z)(function*(C,A){const x=yield yr(C),U=ga(A.subscriptionOptions),Y={method:"PATCH",headers:x,body:JSON.stringify(U)};let oe;try{oe=yield(yield fetch(`${Qn(C.appConfig)}/${A.token}`,Y)).json()}catch(Te){throw Nt.create("token-update-failed",{errorInfo:Te})}if(oe.error)throw Nt.create("token-update-failed",{errorInfo:oe.error.message});if(!oe.token)throw Nt.create("token-update-no-token");return oe.token})).apply(this,arguments)}function wh(C,A){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,k.Z)(function*(C,A){const U={method:"DELETE",headers:yield yr(C)};try{const oe=yield(yield fetch(`${Qn(C.appConfig)}/${A}`,U)).json();if(oe.error)throw Nt.create("token-unsubscribe-failed",{errorInfo:oe.error.message})}catch(Y){throw Nt.create("token-unsubscribe-failed",{errorInfo:Y})}})).apply(this,arguments)}function Qn({projectId:C}){return`https://fcmregistrations.googleapis.com/v1/projects/${C}/registrations`}function yr(C){return al.apply(this,arguments)}function al(){return(al=(0,k.Z)(function*({appConfig:C,installations:A}){const x=yield A.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":C.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function ga({p256dh:C,auth:A,endpoint:x,vapidKey:U}){const Y={web:{endpoint:x,auth:A,p256dh:C}};return U!==Qa&&(Y.web.applicationPubKey=U),Y}const ru=6048e5;function Es(C){return iu.apply(this,arguments)}function iu(){return(iu=(0,k.Z)(function*(C){const A=yield ll(C.swRegistration,C.vapidKey),x={vapidKey:C.vapidKey,swScope:C.swRegistration.scope,endpoint:A.endpoint,auth:Qi(A.getKey("auth")),p256dh:Qi(A.getKey("p256dh"))},U=yield tu(C.firebaseDependencies);if(U){if(Fc(U.subscriptionOptions,x))return Date.now()>=U.createTime+ru?bh(C,{token:U.token,createTime:Date.now(),subscriptionOptions:x}):U.token;try{yield wh(C.firebaseDependencies,U.token)}catch(Y){console.warn(Y)}return qs(C.firebaseDependencies,x)}return qs(C.firebaseDependencies,x)})).apply(this,arguments)}function ul(C){return rt.apply(this,arguments)}function rt(){return(rt=(0,k.Z)(function*(C){const A=yield tu(C.firebaseDependencies);A&&(yield wh(C.firebaseDependencies,A.token),yield rn(C.firebaseDependencies));const x=yield C.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function bh(C,A){return ws.apply(this,arguments)}function ws(){return(ws=(0,k.Z)(function*(C,A){try{const x=yield To(C.firebaseDependencies,A),U=Object.assign(Object.assign({},A),{token:x,createTime:Date.now()});return yield Qr(C.firebaseDependencies,U),x}catch(x){throw yield ul(C),x}})).apply(this,arguments)}function qs(C,A){return Do.apply(this,arguments)}function Do(){return(Do=(0,k.Z)(function*(C,A){const U={token:yield pa(C,A),createTime:Date.now(),subscriptionOptions:A};return yield Qr(C,U),U.token})).apply(this,arguments)}function ll(C,A){return bs.apply(this,arguments)}function bs(){return(bs=(0,k.Z)(function*(C,A){return(yield C.pushManager.getSubscription())||C.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:il(A)})})).apply(this,arguments)}function Fc(C,A){return A.vapidKey===C.vapidKey&&A.endpoint===C.endpoint&&A.auth===C.auth&&A.p256dh===C.p256dh}function Ie(C){const A={from:C.from,collapseKey:C.collapse_key,messageId:C.fcm_message_id};return function(C,A){if(!A.notification)return;C.notification={};const x=A.notification.title;x&&(C.notification.title=x);const U=A.notification.body;U&&(C.notification.body=U);const Y=A.notification.image;Y&&(C.notification.image=Y)}(A,C),function(C,A){!A.data||(C.data=A.data)}(A,C),function(C,A){if(!A.fcmOptions)return;C.fcmOptions={};const x=A.fcmOptions.link;x&&(C.fcmOptions.link=x);const U=A.fcmOptions.analytics_label;U&&(C.fcmOptions.analyticsLabel=U)}(A,C),A}function cl(C){return"object"==typeof C&&!!C&&Ja in C}function Ao(C,A){const x=[];for(let U=0;U<C.length;U++)x.push(C.charAt(U)),U<A.length&&x.push(A.charAt(U));return x.join("")}function ou(C){return Nt.create("missing-app-config-values",{valueName:C})}Ao("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ao("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class zs{constructor(A,x,U){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function(C){if(!C||!C.options)throw ou("App Configuration Object");if(!C.name)throw ou("App Name");const A=["projectId","apiKey","appId","messagingSenderId"],{options:x}=C;for(const U of A)if(!x[U])throw ou(U);return{appName:C.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(A);this.firebaseDependencies={app:A,appConfig:Y,installations:x,analyticsProvider:U}}_delete(){return Promise.resolve()}}function Ch(C){return dl.apply(this,arguments)}function dl(){return(dl=(0,k.Z)(function*(C){try{C.swRegistration=yield navigator.serviceWorker.register(mh,{scope:up}),C.swRegistration.update().catch(()=>{})}catch(A){throw Nt.create("failed-service-worker-registration",{browserErrorMessage:A.message})}})).apply(this,arguments)}function es(C,A){return ts.apply(this,arguments)}function ts(){return(ts=(0,k.Z)(function*(C,A){if(!A&&!C.swRegistration&&(yield Ch(C)),A||!C.swRegistration){if(!(A instanceof ServiceWorkerRegistration))throw Nt.create("invalid-sw-registration");C.swRegistration=A}})).apply(this,arguments)}function or(C,A){return mi.apply(this,arguments)}function mi(){return(mi=(0,k.Z)(function*(C,A){A?C.vapidKey=A:C.vapidKey||(C.vapidKey=Qa)})).apply(this,arguments)}function Ws(){return(Ws=(0,k.Z)(function*(C,A){if(!navigator)throw Nt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Nt.create("permission-blocked");return yield or(C,null==A?void 0:A.vapidKey),yield es(C,null==A?void 0:A.serviceWorkerRegistration),Es(C)})).apply(this,arguments)}function Fi(C,A,x){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,k.Z)(function*(C,A,x){const U=hl(A);(yield C.firebaseDependencies.analyticsProvider.get()).logEvent(U,{message_id:x[Ja],message_name:x[ha],message_time:x[ki],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hl(C){switch(C){case bn.NOTIFICATION_CLICKED:return"notification_open";case bn.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ya(){return(ya=(0,k.Z)(function*(C,A){const x=A.data;if(!x.isFirebaseMessaging)return;C.onMessageHandler&&x.messageType===bn.PUSH_RECEIVED&&("function"==typeof C.onMessageHandler?C.onMessageHandler(Ie(x)):C.onMessageHandler.next(Ie(x)));const U=x.data;cl(U)&&"1"===U[Pc]&&(yield Fi(C,x.messageType,U))})).apply(this,arguments)}const pl="@firebase/messaging";function Th(){return Cs.apply(this,arguments)}function Cs(){return(Cs=(0,k.Z)(function*(){return"undefined"!=typeof window&&(0,re.hl)()&&(yield(0,re.eu)())&&(0,re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,ce._registerComponent)(new ie.wA("messaging",C=>{const A=new zs(C.getProvider("app").getImmediate(),C.getProvider("installations-internal").getImmediate(),C.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function(C,A){return ya.apply(this,arguments)}(A,x)),A},"PUBLIC")),(0,ce._registerComponent)(new ie.wA("messaging-internal",C=>{const A=C.getProvider("messaging").getImmediate();return{getToken:U=>function(C,A){return Ws.apply(this,arguments)}(A,U)}},"PRIVATE")),(0,ce.registerVersion)(pl,"0.9.3"),(0,ce.registerVersion)(pl,"0.9.3","esm2017");const Jr="analytics",pn="firebase_id",uu="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Sh="https://www.googletagmanager.com/gtag/js",jn=new fe.Yd("@firebase/analytics");function Nh(C){return Promise.all(C.map(A=>A.catch(x=>x)))}function _l(C,A){const x=document.createElement("script");x.src=`${Sh}?l=${C}&id=${A}`,x.async=!0,document.head.appendChild(x)}function cu(C,A,x,U,Y,oe){return vl.apply(this,arguments)}function vl(){return(vl=(0,k.Z)(function*(C,A,x,U,Y,oe){const Te=U[Y];try{if(Te)yield A[Te];else{const je=(yield Nh(x)).find(Ut=>Ut.measurementId===Y);je&&(yield A[je.appId])}}catch(Be){jn.error(Be)}C("config",Y,oe)})).apply(this,arguments)}function No(C,A,x,U,Y){return El.apply(this,arguments)}function El(){return(El=(0,k.Z)(function*(C,A,x,U,Y){try{let oe=[];if(Y&&Y.send_to){let Te=Y.send_to;Array.isArray(Te)||(Te=[Te]);const Be=yield Nh(x);for(const je of Te){const Ut=Be.find(Pn=>Pn.measurementId===je),qt=Ut&&A[Ut.appId];if(!qt){oe=[];break}oe.push(qt)}}0===oe.length&&(oe=Object.values(A)),yield Promise.all(oe),C("event",U,Y||{})}catch(oe){jn.error(oe)}})).apply(this,arguments)}function bm(){const C=window.document.getElementsByTagName("script");for(const A of Object.values(C))if(A.src&&A.src.includes(Sh))return A;return null}const _r=new re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Im=new class{constructor(A={},x=1e3){this.throttleMetadata=A,this.intervalMillis=x}getThrottleMetadata(A){return this.throttleMetadata[A]}setThrottleMetadata(A,x){this.throttleMetadata[A]=x}deleteThrottleMetadata(A){delete this.throttleMetadata[A]}};function sv(C){return new Headers({Accept:"application/json","x-goog-api-key":C})}function du(C){return wl.apply(this,arguments)}function wl(){return(wl=(0,k.Z)(function*(C){var A;const{appId:x,apiKey:U}=C,Y={method:"GET",headers:sv(U)},oe=uu.replace("{app-id}",x),Te=yield fetch(oe,Y);if(200!==Te.status&&304!==Te.status){let Be="";try{const je=yield Te.json();(null===(A=je.error)||void 0===A?void 0:A.message)&&(Be=je.error.message)}catch(je){}throw _r.create("config-fetch-failed",{httpStatus:Te.status,responseMessage:Be})}return Te.json()})).apply(this,arguments)}function bl(C){return Li.apply(this,arguments)}function Li(){return(Li=(0,k.Z)(function*(C,A=Im,x){const{appId:U,apiKey:Y,measurementId:oe}=C.options;if(!U)throw _r.create("no-app-id");if(!Y){if(oe)return{measurementId:oe,appId:U};throw _r.create("no-api-key")}const Te=A.getThrottleMetadata(U)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Be=new fu;return setTimeout((0,k.Z)(function*(){Be.abort()}),void 0!==x?x:6e4),Cl({appId:U,apiKey:Y,measurementId:oe},Te,Be,A)})).apply(this,arguments)}function Cl(C,A,x){return Il.apply(this,arguments)}function Il(){return(Il=(0,k.Z)(function*(C,{throttleEndTimeMillis:A,backoffCount:x},U,Y=Im){const{appId:oe,measurementId:Te}=C;try{yield hu(U,A)}catch(Be){if(Te)return jn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:oe,measurementId:Te};throw Be}try{const Be=yield du(C);return Y.deleteThrottleMetadata(oe),Be}catch(Be){if(!mp(Be)){if(Y.deleteThrottleMetadata(oe),Te)return jn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Te} provided in the "measurementId" field in the local Firebase config. [${Be.message}]`),{appId:oe,measurementId:Te};throw Be}const je=503===Number(Be.customData.httpStatus)?(0,re.$s)(x,Y.intervalMillis,30):(0,re.$s)(x,Y.intervalMillis),Ut={throttleEndTimeMillis:Date.now()+je,backoffCount:x+1};return Y.setThrottleMetadata(oe,Ut),jn.debug(`Calling attemptFetch again in ${je} millis`),Cl(C,Ut,U,Y)}})).apply(this,arguments)}function hu(C,A){return new Promise((x,U)=>{const Y=Math.max(A-Date.now(),0),oe=setTimeout(x,Y);C.addEventListener(()=>{clearTimeout(oe),U(_r.create("fetch-throttle",{throttleEndTimeMillis:A}))})})}function mp(C){if(!(C instanceof re.ZR&&C.customData))return!1;const A=Number(C.customData.httpStatus);return 429===A||500===A||503===A||504===A}class fu{constructor(){this.listeners=[]}addEventListener(A){this.listeners.push(A)}abort(){this.listeners.forEach(A=>A())}}function Tl(){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,k.Z)(function*(){if(!(0,re.hl)())return jn.warn(_r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,re.eu)()}catch(C){return jn.warn(_r.create("indexeddb-unavailable",{errorInfo:C}).message),!1}return!0})).apply(this,arguments)}function va(){return(va=(0,k.Z)(function*(C,A,x,U,Y,oe,Te){var Be;const je=bl(C);je.then(Xn=>{x[Xn.measurementId]=Xn.appId,C.options.measurementId&&Xn.measurementId!==C.options.measurementId&&jn.warn(`The measurement ID in the local Firebase config (${C.options.measurementId}) does not match the measurement ID fetched from the server (${Xn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Xn=>jn.error(Xn)),A.push(je);const Ut=Tl().then(Xn=>{if(Xn)return U.getId()}),[qt,Pn]=yield Promise.all([je,Ut]);bm()||_l(oe,qt.measurementId),Y("js",new Date);const Jn=null!==(Be=null==Te?void 0:Te.config)&&void 0!==Be?Be:{};return Jn.origin="firebase",Jn.update=!0,null!=Pn&&(Jn[pn]=Pn),Y("config",qt.measurementId,Jn),qt.measurementId})).apply(this,arguments)}class Vc{constructor(A){this.app=A}_delete(){return delete $n[this.app.options.appId],Promise.resolve()}}let $n={},cn=[];const tt={};let Dl,ar,In="dataLayer",Al=!1;function Nl(C,A,x){!function(){const C=[];if((0,re.ru)()&&C.push("This is a browser extension environment."),(0,re.zI)()||C.push("Cookies are not available."),C.length>0){const A=C.map((U,Y)=>`(${Y+1}) ${U}`).join(" "),x=_r.create("invalid-analytics-context",{errorInfo:A});jn.warn(x.message)}}();const U=C.options.appId;if(!U)throw _r.create("no-app-id");if(!C.options.apiKey){if(!C.options.measurementId)throw _r.create("no-api-key");jn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${C.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$n[U])throw _r.create("already-exists",{id:U});if(!Al){!function(C){let A=[];Array.isArray(window[C])?A=window[C]:window[C]=A}(In);const{wrappedGtag:oe,gtagCore:Te}=function(C,A,x,U,Y){let oe=function(...Te){window[U].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(oe=window[Y]),window[Y]=function(C,A,x,U){function oe(){return(oe=(0,k.Z)(function*(Te,Be,je){try{"event"===Te?yield No(C,A,x,Be,je):"config"===Te?yield cu(C,A,x,U,Be,je):C("set",Be)}catch(Ut){jn.error(Ut)}})).apply(this,arguments)}return function(Te,Be,je){return oe.apply(this,arguments)}}(oe,C,A,x),{gtagCore:oe,wrappedGtag:window[Y]}}($n,cn,tt,In,"gtag");ar=oe,Dl=Te,Al=!0}return $n[U]=function(C,A,x,U,Y,oe,Te){return va.apply(this,arguments)}(C,cn,tt,A,Dl,In,x),new Vc(C)}function Uc(){return(Uc=(0,k.Z)(function*(C,A,x,U,Y){if(Y&&Y.global)C("event",x,U);else{const oe=yield A;C("event",x,Object.assign(Object.assign({},U),{send_to:oe}))}})).apply(this,arguments)}function Hn(){return ko.apply(this,arguments)}function ko(){return(ko=(0,k.Z)(function*(){if((0,re.ru)()||!(0,re.zI)()||!(0,re.hl)())return!1;try{return yield(0,re.eu)()}catch(C){return!1}})).apply(this,arguments)}const Rt="@firebase/analytics";(0,ce._registerComponent)(new ie.wA(Jr,(A,{options:x})=>Nl(A.getProvider("app").getImmediate(),A.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,ce._registerComponent)(new ie.wA("analytics-internal",function(A){try{const x=A.getProvider(Jr).getImmediate();return{logEvent:(U,Y,oe)=>function(C,A,x,U){C=(0,re.m9)(C),function(C,A,x,U,Y){return Uc.apply(this,arguments)}(ar,$n[C.app.options.appId],A,x,U).catch(Y=>jn.error(Y))}(x,U,Y,oe)}}catch(x){throw _r.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,ce.registerVersion)(Rt,"0.7.3"),(0,ce.registerVersion)(Rt,"0.7.3","esm2017");var He=L(7771),Qt=L(3637),ct=L(3342),gu=L(3101),Mh=L(309);const wa=new p.GfV("7.1.1"),mu="__angularfire_symbol__analyticsIsSupported",Ph="__angularfire_symbol__remoteConfigIsSupported",Tn="__angularfire_symbol__messagingIsSupported";function Rl(C,A,x){if(A){if(1===A.length)return A[0];const oe=A.filter(Te=>Te.app===x);if(1===oe.length)return oe[0]}return x.container.getProvider(C).getImmediate({optional:!0})}globalThis[mu]||(globalThis[mu]=Hn().then(C=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=C)),globalThis[Tn]||(globalThis[Tn]=Th().then(C=>globalThis.__angularfire_symbol__messagingIsSupportedValue=C)),globalThis[Ph]||(globalThis[Ph]=Oc().then(C=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=C));const _u=(C,A)=>{const x=A?[A]:(0,X.C6)(),U=[];return x.forEach(Y=>{Y.container.getProvider(C).instances.forEach(Te=>{U.includes(Te)||U.push(Te)})}),U};function Ca(){}class kh{constructor(A,x=He.N){this.zone=A,this.delegate=x}now(){return this.delegate.now()}schedule(A,x,U){const Y=this.zone;return this.delegate.schedule(function(Te){Y.runGuarded(()=>{A.apply(this,[Te])})},x,U)}}class Xr{constructor(A){this.zone=A,this.task=null}call(A,x){const U=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),x.pipe((0,ct.b)({next:U,complete:U,error:U})).subscribe(A).add(U)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ei=(()=>{class C{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new kh(Zone.current)),this.insideAngular=x.run(()=>new kh(Zone.current,Qt.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return C.\u0275fac=function(x){return new(x||C)(p.LFG(p.R0b))},C.\u0275prov=p.Yz7({token:C,factory:C.\u0275fac,providedIn:"root"}),C})();function ti(){const C=globalThis.\u0275AngularFireScheduler;if(!C)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return C}function Eu(C){return ti(),function(C){return function(x){return(x=x.lift(new Xr(C.ngZone))).pipe((0,gu.R)(C.outsideAngular),(0,Mh.QV)(C.insideAngular))}}(ti())(C)}},3854:(Je,be,L)=>{"use strict";L.d(be,{BH:()=>Z,LL:()=>Ke,ZR:()=>kt,zI:()=>It,US:()=>ie,tV:()=>te,$s:()=>Zt,r3:()=>hn,Sg:()=>ue,ne:()=>gr,vZ:()=>$t,ZB:()=>V,pd:()=>Dr,m9:()=>nl,z$:()=>Ce,jU:()=>_e,ru:()=>me,d:()=>Ne,xb:()=>nr,w1:()=>Ge,hl:()=>_n,uI:()=>pe,UG:()=>K,b$:()=>ge,G6:()=>vt,Mn:()=>ke,xO:()=>Ka,zd:()=>Pr,eu:()=>wt});const ce=function(z){const G=[];let H=0;for(let Ee=0;Ee<z.length;Ee++){let se=z.charCodeAt(Ee);se<128?G[H++]=se:se<2048?(G[H++]=se>>6|192,G[H++]=63&se|128):55296==(64512&se)&&Ee+1<z.length&&56320==(64512&z.charCodeAt(Ee+1))?(se=65536+((1023&se)<<10)+(1023&z.charCodeAt(++Ee)),G[H++]=se>>18|240,G[H++]=se>>12&63|128,G[H++]=se>>6&63|128,G[H++]=63&se|128):(G[H++]=se>>12|224,G[H++]=se>>6&63|128,G[H++]=63&se|128)}return G},ie={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(z,G){if(!Array.isArray(z))throw Error("encodeByteArray takes an array as a parameter");this.init_();const H=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ee=[];for(let se=0;se<z.length;se+=3){const Ue=z[se],Ve=se+1<z.length,Yt=Ve?z[se+1]:0,Zn=se+2<z.length,fn=Zn?z[se+2]:0;let ln=(15&Yt)<<2|fn>>6,Wi=63&fn;Zn||(Wi=64,Ve||(ln=64)),Ee.push(H[Ue>>2],H[(3&Ue)<<4|Yt>>4],H[ln],H[Wi])}return Ee.join("")},encodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(z):this.encodeByteArray(ce(z),G)},decodeString(z,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(z):function(z){const G=[];let H=0,Ee=0;for(;H<z.length;){const se=z[H++];if(se<128)G[Ee++]=String.fromCharCode(se);else if(se>191&&se<224){const Ue=z[H++];G[Ee++]=String.fromCharCode((31&se)<<6|63&Ue)}else if(se>239&&se<365){const Zn=((7&se)<<18|(63&z[H++])<<12|(63&z[H++])<<6|63&z[H++])-65536;G[Ee++]=String.fromCharCode(55296+(Zn>>10)),G[Ee++]=String.fromCharCode(56320+(1023&Zn))}else{const Ue=z[H++],Ve=z[H++];G[Ee++]=String.fromCharCode((15&se)<<12|(63&Ue)<<6|63&Ve)}}return G.join("")}(this.decodeStringToByteArray(z,G))},decodeStringToByteArray(z,G){this.init_();const H=G?this.charToByteMapWebSafe_:this.charToByteMap_,Ee=[];for(let se=0;se<z.length;){const Ue=H[z.charAt(se++)],Yt=se<z.length?H[z.charAt(se)]:0;++se;const fn=se<z.length?H[z.charAt(se)]:64;++se;const Ft=se<z.length?H[z.charAt(se)]:64;if(++se,null==Ue||null==Yt||null==fn||null==Ft)throw Error();Ee.push(Ue<<2|Yt>>4),64!==fn&&(Ee.push(Yt<<4&240|fn>>2),64!==Ft&&Ee.push(fn<<6&192|Ft))}return Ee},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let z=0;z<this.ENCODED_VALS.length;z++)this.byteToCharMap_[z]=this.ENCODED_VALS.charAt(z),this.charToByteMap_[this.byteToCharMap_[z]]=z,this.byteToCharMapWebSafe_[z]=this.ENCODED_VALS_WEBSAFE.charAt(z),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[z]]=z,z>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(z)]=z,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(z)]=z)}}},le=function(z){return function(z){const G=ce(z);return ie.encodeByteArray(G,!0)}(z).replace(/\./g,"")},te=function(z){try{return ie.decodeString(z,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function V(z,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===z&&(z={});break;case Array:z=[];break;default:return G}for(const H in G)!G.hasOwnProperty(H)||!Q(H)||(z[H]=V(z[H],G[H]));return z}function Q(z){return"__proto__"!==z}class Z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,H)=>{this.resolve=G,this.reject=H})}wrapCallback(G){return(H,Ee)=>{H?this.reject(H):this.resolve(Ee),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(H):G(H,Ee))}}}function ue(z,G){if(z.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ee=G||"demo-project",se=z.iat||0,Ue=z.sub||z.user_id;if(!Ue)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ve=Object.assign({iss:`https://securetoken.google.com/${Ee}`,aud:Ee,iat:se,exp:se+3600,auth_time:se,sub:Ue,user_id:Ue,firebase:{sign_in_provider:"custom",identities:{}}},z);return[le(JSON.stringify({alg:"none",type:"JWT"})),le(JSON.stringify(Ve)),""].join(".")}function Ce(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function pe(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ce())}function K(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(z){return!1}}function _e(){return"object"==typeof self&&self.self===self}function me(){const z="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof z&&void 0!==z.id}function ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ne(){return Ce().indexOf("Electron/")>=0}function Ge(){const z=Ce();return z.indexOf("MSIE ")>=0||z.indexOf("Trident/")>=0}function ke(){return Ce().indexOf("MSAppHost/")>=0}function vt(){return!K()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _n(){return"object"==typeof indexedDB}function wt(){return new Promise((z,G)=>{try{let H=!0;const Ee="validate-browser-context-for-indexeddb-analytics-module",se=self.indexedDB.open(Ee);se.onsuccess=()=>{se.result.close(),H||self.indexedDB.deleteDatabase(Ee),z(!0)},se.onupgradeneeded=()=>{H=!1},se.onerror=()=>{var Ue;G((null===(Ue=se.error)||void 0===Ue?void 0:Ue.message)||"")}}catch(H){G(H)}})}function It(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class kt extends Error{constructor(G,H,Ee){super(H),this.code=G,this.customData=Ee,this.name="FirebaseError",Object.setPrototypeOf(this,kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ke.prototype.create)}}class Ke{constructor(G,H,Ee){this.service=G,this.serviceName=H,this.errors=Ee}create(G,...H){const Ee=H[0]||{},se=`${this.service}/${G}`,Ue=this.errors[G],Ve=Ue?function(z,G){return z.replace(Fs,(H,Ee)=>{const se=G[Ee];return null!=se?String(se):`<${Ee}?>`})}(Ue,Ee):"Error";return new kt(se,`${this.serviceName}: ${Ve} (${se}).`,Ee)}}const Fs=/\{\$([^}]+)}/g;function hn(z,G){return Object.prototype.hasOwnProperty.call(z,G)}function nr(z){for(const G in z)if(Object.prototype.hasOwnProperty.call(z,G))return!1;return!0}function $t(z,G){if(z===G)return!0;const H=Object.keys(z),Ee=Object.keys(G);for(const se of H){if(!Ee.includes(se))return!1;const Ue=z[se],Ve=G[se];if(St(Ue)&&St(Ve)){if(!$t(Ue,Ve))return!1}else if(Ue!==Ve)return!1}for(const se of Ee)if(!H.includes(se))return!1;return!0}function St(z){return null!==z&&"object"==typeof z}function Ka(z){const G=[];for(const[H,Ee]of Object.entries(z))Array.isArray(Ee)?Ee.forEach(se=>{G.push(encodeURIComponent(H)+"="+encodeURIComponent(se))}):G.push(encodeURIComponent(H)+"="+encodeURIComponent(Ee));return G.length?"&"+G.join("&"):""}function Pr(z){const G={};return z.replace(/^\?/,"").split("&").forEach(Ee=>{if(Ee){const[se,Ue]=Ee.split("=");G[decodeURIComponent(se)]=decodeURIComponent(Ue)}}),G}function Dr(z){const G=z.indexOf("?");if(!G)return"";const H=z.indexOf("#",G);return z.substring(G,H>0?H:void 0)}function gr(z,G){const H=new Un(z,G);return H.subscribe.bind(H)}class Un{constructor(G,H){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=H,this.task.then(()=>{G(this)}).catch(Ee=>{this.error(Ee)})}next(G){this.forEachObserver(H=>{H.next(G)})}error(G){this.forEachObserver(H=>{H.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,H,Ee){let se;if(void 0===G&&void 0===H&&void 0===Ee)throw new Error("Missing Observer.");se=function(z,G){if("object"!=typeof z||null===z)return!1;for(const H of["next","error","complete"])if(H in z&&"function"==typeof z[H])return!0;return!1}(G)?G:{next:G,error:H,complete:Ee},void 0===se.next&&(se.next=Yr),void 0===se.error&&(se.error=Yr),void 0===se.complete&&(se.complete=Yr);const Ue=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?se.error(this.finalError):se.complete()}catch(Ve){}}),this.observers.push(se),Ue}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let H=0;H<this.observers.length;H++)this.sendOne(H,G)}sendOne(G,H){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{H(this.observers[G])}catch(Ee){"undefined"!=typeof console&&console.error&&console.error(Ee)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yr(){}function Zt(z,G=1e3,H=2){const Ee=G*Math.pow(H,z),se=Math.round(.5*Ee*(Math.random()-.5)*2);return Math.min(144e5,Ee+se)}function nl(z){return z&&z._delegate?z._delegate:z}},2329:(Je,be,L)=>{"use strict";L.d(be,{Mq:()=>p.getApp,C6:()=>p.getApps});var p=L(8026);(0,p.registerVersion)("firebase","9.3.0","app")},7841:(Je,be,L)=>{"use strict";L.d(be,{Z:()=>p.Z});var p=L(3394);p.Z.registerVersion("firebase","9.3.0","app-compat")},2584:(Je,be,L)=>{"use strict";L.r(be);var p=L(8239),X=L(3394),k=L(3854),ce=L(8026);function le(_,f){var g={};for(var E in _)Object.prototype.hasOwnProperty.call(_,E)&&f.indexOf(E)<0&&(g[E]=_[E]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(E=Object.getOwnPropertySymbols(_);D<E.length;D++)f.indexOf(E[D])<0&&Object.prototype.propertyIsEnumerable.call(_,E[D])&&(g[E[D]]=_[E[D]])}return g}var kt=L(5422),Ke=L(3910);const Vs=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},ms=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},hn=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),nr=new kt.Yd("@firebase/auth");function Us(_,...f){nr.logLevel<=kt.in.ERROR&&nr.error(`Auth (${ce.SDK_VERSION}): ${_}`,...f)}function $t(_,...f){throw Dr(_,...f)}function St(_,...f){return Dr(_,...f)}function Ka(_,f,g){const E=Object.assign(Object.assign({},ms()),{[f]:g});return new k.LL("auth","Firebase",E).create(f,{appName:_.name})}function Pr(_,f,g){if(!(f instanceof g))throw g.name!==f.constructor.name&&$t(_,"argument-error"),Ka(_,"argument-error",`Type of ${f.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Dr(_,...f){if("string"!=typeof _){const g=f[0],E=[...f.slice(1)];return E[0]&&(E[0].appName=_.name),_._errorFactory.create(g,...E)}return hn.create(_,...f)}function De(_,f,...g){if(!_)throw Dr(f,...g)}function gr(_){const f="INTERNAL ASSERTION FAILED: "+_;throw Us(f),new Error(f)}function Un(_,f){_||gr(f)}const Oi=new Map;function Lt(_){Un(_ instanceof Function,"Expected a class definition");let f=Oi.get(_);return f?(Un(f instanceof _,"Instance stored in cache mismatched with class"),f):(f=new _,Oi.set(_,f),f)}function nt(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.href)||""}function Ae(){return"http:"===Ht()||"https:"===Ht()}function Ht(){var _;return"undefined"!=typeof self&&(null===(_=self.location)||void 0===_?void 0:_.protocol)||null}class Vt{constructor(f,g){this.shortDelay=f,this.longDelay=g,Un(g>f,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ae()||(0,k.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Ze(_,f){Un(_.emulator,"Emulator should always be set here");const{url:g}=_.emulator;return f?`${g}${f.startsWith("/")?f.slice(1):f}`:g}class qe{static initialize(f,g,E){this.fetchImpl=f,g&&(this.headersImpl=g),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void gr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void gr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void gr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const kr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},yo=new Vt(3e4,6e4);function Zt(_,f){return _.tenantId&&!f.tenantId?Object.assign(Object.assign({},f),{tenantId:_.tenantId}):f}function bt(_,f,g,E){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,p.Z)(function*(_,f,g,E,D={}){return nl(_,D,()=>{let N={},j={};E&&("GET"===f?j=E:N={body:JSON.stringify(E)});const ne=(0,k.xO)(Object.assign({key:_.config.apiKey},j)).slice(1),Oe=new(qe.headers());return Oe.set("Content-Type","application/json"),Oe.set("X-Client-Version",_._getSdkClientVersion()),_.languageCode&&Oe.set("X-Firebase-Locale",_.languageCode),qe.fetch()(Ee(_,_.config.apiHost,g,ne),Object.assign({method:f,headers:Oe,referrerPolicy:"no-referrer"},N))})})).apply(this,arguments)}function nl(_,f,g){return z.apply(this,arguments)}function z(){return(z=(0,p.Z)(function*(_,f,g){_._canInitEmulator=!1;const E=Object.assign(Object.assign({},kr),f);try{const D=new se(_),N=yield Promise.race([g(),D.promise]);D.clearNetworkTimeout();const j=yield N.json();if("needConfirmation"in j)throw Ue(_,"account-exists-with-different-credential",j);if(N.ok&&!("errorMessage"in j))return j;{const ne=N.ok?j.errorMessage:j.error.message,[Oe,Re]=ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Oe)throw Ue(_,"credential-already-in-use",j);if("EMAIL_EXISTS"===Oe)throw Ue(_,"email-already-in-use",j);const $e=E[Oe]||Oe.toLowerCase().replace(/[_\s]+/g,"-");if(Re)throw Ka(_,$e,Re);$t(_,$e)}}catch(D){if(D instanceof k.ZR)throw D;$t(_,"network-request-failed")}})).apply(this,arguments)}function G(_,f,g,E){return H.apply(this,arguments)}function H(){return(H=(0,p.Z)(function*(_,f,g,E,D={}){const N=yield bt(_,f,g,E,D);return"mfaPendingCredential"in N&&$t(_,"multi-factor-auth-required",{_serverResponse:N}),N})).apply(this,arguments)}function Ee(_,f,g,E){const D=`${f}${g}?${E}`;return _.config.emulator?Ze(_.config,D):`${_.config.apiScheme}://${D}`}class se{constructor(f){this.auth=f,this.timer=null,this.promise=new Promise((g,E)=>{this.timer=setTimeout(()=>E(St(this.auth,"timeout")),yo.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ue(_,f,g){const E={appName:_.name};g.email&&(E.email=g.email),g.phoneNumber&&(E.phoneNumber=g.phoneNumber);const D=St(_,f,E);return D.customData._tokenResponse=g,D}function Yt(){return(Yt=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:delete",f)})).apply(this,arguments)}function Zn(_,f){return fn.apply(this,arguments)}function fn(){return(fn=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function Fr(_,f){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:lookup",f)})).apply(this,arguments)}function ln(_){if(_)try{const f=new Date(Number(_));if(!isNaN(f.getTime()))return f.toUTCString()}catch(f){}}function _o(){return(_o=(0,p.Z)(function*(_,f=!1){const g=(0,k.m9)(_),E=yield g.getIdToken(f),D=vo(E);De(D&&D.exp&&D.auth_time&&D.iat,g.auth,"internal-error");const N="object"==typeof D.firebase?D.firebase:void 0,j=null==N?void 0:N.sign_in_provider;return{claims:D,token:E,authTime:ln(Nc(D.auth_time)),issuedAtTime:ln(Nc(D.iat)),expirationTime:ln(Nc(D.exp)),signInProvider:j||null,signInSecondFactor:(null==N?void 0:N.sign_in_second_factor)||null}})).apply(this,arguments)}function Nc(_){return 1e3*Number(_)}function vo(_){const[f,g,E]=_.split(".");if(void 0===f||void 0===g||void 0===E)return Us("JWT malformed, contained fewer than 3 sections"),null;try{const D=(0,k.tV)(g);return D?JSON.parse(D):(Us("Failed to decode base64 JWT payload"),null)}catch(D){return Us("Caught error parsing JWT payload as JSON",D),null}}function di(_,f){return sa.apply(this,arguments)}function sa(){return(sa=(0,p.Z)(function*(_,f,g=!1){if(g)return f;try{return yield f}catch(E){throw E instanceof k.ZR&&Eo(E)&&_.auth.currentUser===_&&(yield _.auth.signOut()),E}})).apply(this,arguments)}function Eo({code:_}){return"auth/user-disabled"===_||"auth/user-token-expired"===_}class oa{constructor(f){this.user=f,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(f){var g;if(f){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const D=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,D)}}schedule(f=!1){var g=this;if(!this.isRunning)return;const E=this.getInterval(f);this.timerId=setTimeout((0,p.Z)(function*(){yield g.iteration()}),E)}iteration(){var f=this;return(0,p.Z)(function*(){try{yield f.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g.code&&f.schedule(!0))}f.schedule()})()}}class ah{constructor(f,g){this.createdAt=f,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=ln(this.lastLoginAt),this.creationTime=ln(this.createdAt)}_copy(f){this.createdAt=f.createdAt,this.lastLoginAt=f.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Bs(_){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,p.Z)(function*(_){var f;const g=_.auth,E=yield _.getIdToken(),D=yield di(_,Fr(g,{idToken:E}));De(null==D?void 0:D.users.length,g,"internal-error");const N=D.users[0];_._notifyReloadListener(N);const j=(null===(f=N.providerUserInfo)||void 0===f?void 0:f.length)?uh(N.providerUserInfo):[],ne=mr(_.providerData,j),$e=!!_.isAnonymous&&!(_.email&&N.passwordHash||(null==ne?void 0:ne.length)),ze={uid:N.localId,displayName:N.displayName||null,photoURL:N.photoUrl||null,email:N.email||null,emailVerified:N.emailVerified||!1,phoneNumber:N.phoneNumber||null,tenantId:N.tenantId||null,providerData:ne,metadata:new ah(N.createdAt,N.lastLoginAt),isAnonymous:$e};Object.assign(_,ze)})).apply(this,arguments)}function ys(){return(ys=(0,p.Z)(function*(_){const f=(0,k.m9)(_);yield Bs(f),yield f.auth._persistUserIfCurrent(f),f.auth._notifyListenersIfCurrent(f)})).apply(this,arguments)}function mr(_,f){return[..._.filter(E=>!f.some(D=>D.providerId===E.providerId)),...f]}function uh(_){return _.map(f=>{var{providerId:g}=f,E=le(f,["providerId"]);return{providerId:g,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function Fe(){return(Fe=(0,p.Z)(function*(_,f){const g=yield nl(_,{},()=>{const E=(0,k.xO)({grant_type:"refresh_token",refresh_token:f}).slice(1),{tokenApiHost:D,apiKey:N}=_.config,j=Ee(_,D,"/v1/token",`key=${N}`);return qe.fetch()(j,{method:"POST",headers:{"X-Client-Version":_._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:E})});return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class pt{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(f){De(f.idToken,"internal-error"),De(void 0!==f.idToken,"internal-error"),De(void 0!==f.refreshToken,"internal-error");const g="expiresIn"in f&&void 0!==f.expiresIn?Number(f.expiresIn):function(_){const f=vo(_);return De(f,"internal-error"),De(void 0!==f.exp,"internal-error"),De(void 0!==f.iat,"internal-error"),Number(f.exp)-Number(f.iat)}(f.idToken);this.updateTokensAndExpiration(f.idToken,f.refreshToken,g)}getToken(f,g=!1){var E=this;return(0,p.Z)(function*(){return De(!E.accessToken||E.refreshToken,f,"user-token-expired"),g||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(f,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(f,g){var E=this;return(0,p.Z)(function*(){const{accessToken:D,refreshToken:N,expiresIn:j}=yield function(_,f){return Fe.apply(this,arguments)}(f,g);E.updateTokensAndExpiration(D,N,Number(j))})()}updateTokensAndExpiration(f,g,E){this.refreshToken=g||null,this.accessToken=f||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(f,g){const{refreshToken:E,accessToken:D,expirationTime:N}=g,j=new pt;return E&&(De("string"==typeof E,"internal-error",{appName:f}),j.refreshToken=E),D&&(De("string"==typeof D,"internal-error",{appName:f}),j.accessToken=D),N&&(De("number"==typeof N,"internal-error",{appName:f}),j.expirationTime=N),j}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(f){this.accessToken=f.accessToken,this.refreshToken=f.refreshToken,this.expirationTime=f.expirationTime}_clone(){return Object.assign(new pt,this.toJSON())}_performRefresh(){return gr("not implemented")}}function Gt(_,f){De("string"==typeof _||void 0===_,"internal-error",{appName:f})}class En{constructor(f){var{uid:g,auth:E,stsTokenManager:D}=f,N=le(f,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new oa(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=E,this.stsTokenManager=D,this.accessToken=D.accessToken,this.displayName=N.displayName||null,this.email=N.email||null,this.emailVerified=N.emailVerified||!1,this.phoneNumber=N.phoneNumber||null,this.photoURL=N.photoURL||null,this.isAnonymous=N.isAnonymous||!1,this.tenantId=N.tenantId||null,this.metadata=new ah(N.createdAt||void 0,N.lastLoginAt||void 0)}getIdToken(f){var g=this;return(0,p.Z)(function*(){const E=yield di(g,g.stsTokenManager.getToken(g.auth,f));return De(E,g.auth,"internal-error"),g.accessToken!==E&&(g.accessToken=E,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),E})()}getIdTokenResult(f){return function(_){return _o.apply(this,arguments)}(this,f)}reload(){return function(_){return ys.apply(this,arguments)}(this)}_assign(f){this!==f&&(De(this.uid===f.uid,this.auth,"internal-error"),this.displayName=f.displayName,this.photoURL=f.photoURL,this.email=f.email,this.emailVerified=f.emailVerified,this.phoneNumber=f.phoneNumber,this.isAnonymous=f.isAnonymous,this.tenantId=f.tenantId,this.providerData=f.providerData.map(g=>Object.assign({},g)),this.metadata._copy(f.metadata),this.stsTokenManager._assign(f.stsTokenManager))}_clone(f){return new En(Object.assign(Object.assign({},this),{auth:f,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(f){De(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=f,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(f){this.reloadListener?this.reloadListener(f):this.reloadUserInfo=f}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(f,g=!1){var E=this;return(0,p.Z)(function*(){let D=!1;f.idToken&&f.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(f),D=!0),g&&(yield Bs(E)),yield E.auth._persistUserIfCurrent(E),D&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var f=this;return(0,p.Z)(function*(){const g=yield f.getIdToken();return yield di(f,function(_,f){return Yt.apply(this,arguments)}(f.auth,{idToken:g})),f.stsTokenManager.clearRefreshToken(),f.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(f=>Object.assign({},f)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(f,g){var E,D,N,j,ne,Oe,Re,$e;const ze=null!==(E=g.displayName)&&void 0!==E?E:void 0,Mt=null!==(D=g.email)&&void 0!==D?D:void 0,Dn=null!==(N=g.phoneNumber)&&void 0!==N?N:void 0,to=null!==(j=g.photoURL)&&void 0!==j?j:void 0,Wl=null!==(ne=g.tenantId)&&void 0!==ne?ne:void 0,Kl=null!==(Oe=g._redirectEventId)&&void 0!==Oe?Oe:void 0,Ma=null!==(Re=g.createdAt)&&void 0!==Re?Re:void 0,ud=null!==($e=g.lastLoginAt)&&void 0!==$e?$e:void 0,{uid:Zl,emailVerified:nf,isAnonymous:ld,providerData:Yl,stsTokenManager:jp}=g;De(Zl&&jp,f,"internal-error");const Um=pt.fromJSON(this.name,jp);De("string"==typeof Zl,f,"internal-error"),Gt(ze,f.name),Gt(Mt,f.name),De("boolean"==typeof nf,f,"internal-error"),De("boolean"==typeof ld,f,"internal-error"),Gt(Dn,f.name),Gt(to,f.name),Gt(Wl,f.name),Gt(Kl,f.name),Gt(Ma,f.name),Gt(ud,f.name);const qo=new En({uid:Zl,auth:f,email:Mt,emailVerified:nf,displayName:ze,isAnonymous:ld,photoURL:to,phoneNumber:Dn,tenantId:Wl,stsTokenManager:Um,createdAt:Ma,lastLoginAt:ud});return Yl&&Array.isArray(Yl)&&(qo.providerData=Yl.map(Bm=>Object.assign({},Bm))),Kl&&(qo._redirectEventId=Kl),qo}static _fromIdTokenResponse(f,g,E=!1){return(0,p.Z)(function*(){const D=new pt;D.updateFromServerResponse(g);const N=new En({uid:g.localId,auth:f,stsTokenManager:D,isAnonymous:E});return yield Bs(N),N})()}}const un=(()=>{class _{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,p.Z)(function*(){return!0})()}_set(g,E){var D=this;return(0,p.Z)(function*(){D.storage[g]=E})()}_get(g){var E=this;return(0,p.Z)(function*(){const D=E.storage[g];return void 0===D?null:D})()}_remove(g){var E=this;return(0,p.Z)(function*(){delete E.storage[g]})()}_addListener(g,E){}_removeListener(g,E){}}return _.type="NONE",_})();function rr(_,f,g){return`firebase:${_}:${f}:${g}`}class tn{constructor(f,g,E){this.persistence=f,this.auth=g,this.userKey=E;const{config:D,name:N}=this.auth;this.fullUserKey=rr(this.userKey,D.apiKey,N),this.fullPersistenceKey=rr("persistence",D.apiKey,N),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(f){return this.persistence._set(this.fullUserKey,f.toJSON())}getCurrentUser(){var f=this;return(0,p.Z)(function*(){const g=yield f.persistence._get(f.fullUserKey);return g?En._fromJSON(f.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(f){var g=this;return(0,p.Z)(function*(){if(g.persistence===f)return;const E=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=f,E?g.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(f,g,E="authUser"){return(0,p.Z)(function*(){if(!g.length)return new tn(Lt(un),f,E);const D=(yield Promise.all(g.map(function(){var Re=(0,p.Z)(function*($e){if(yield $e._isAvailable())return $e});return function($e){return Re.apply(this,arguments)}}()))).filter(Re=>Re);let N=D[0]||Lt(un);const j=rr(E,f.config.apiKey,f.name);let ne=null;for(const Re of g)try{const $e=yield Re._get(j);if($e){const ze=En._fromJSON(f,$e);Re!==N&&(ne=ze),N=Re;break}}catch($e){}const Oe=D.filter(Re=>Re._shouldAllowMigration);return N._shouldAllowMigration&&Oe.length?(N=Oe[0],ne&&(yield N._set(j,ne.toJSON())),yield Promise.all(g.map(function(){var Re=(0,p.Z)(function*($e){if($e!==N)try{yield $e._remove(j)}catch(ze){}});return function($e){return Re.apply(this,arguments)}}())),new tn(N,f,E)):new tn(N,f,E)})()}}function Bn(_){const f=_.toLowerCase();if(f.includes("opera/")||f.includes("opr/")||f.includes("opios/"))return"Opera";if($s(f))return"IEMobile";if(f.includes("msie")||f.includes("trident/"))return"IE";if(f.includes("edge/"))return"Edge";if(aa(f))return"Firefox";if(f.includes("silk/"))return"Silk";if(Ki(f))return"Blackberry";if(Sr(f))return"Webos";if(mt(f))return"Safari";if((f.includes("chrome/")||Za(f))&&!f.includes("edge/"))return"Chrome";if(bo(f))return"Android";{const E=_.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==E?void 0:E.length))return E[1]}return"Other"}function aa(_=(0,k.z$)()){return/firefox\//i.test(_)}function mt(_=(0,k.z$)()){const f=_.toLowerCase();return f.includes("safari/")&&!f.includes("chrome/")&&!f.includes("crios/")&&!f.includes("android")}function Za(_=(0,k.z$)()){return/crios\//i.test(_)}function $s(_=(0,k.z$)()){return/iemobile/i.test(_)}function bo(_=(0,k.z$)()){return/android/i.test(_)}function Ki(_=(0,k.z$)()){return/blackberry/i.test(_)}function Sr(_=(0,k.z$)()){return/webos/i.test(_)}function Zi(_=(0,k.z$)()){return/iphone|ipad|ipod/i.test(_)}function ua(_=(0,k.z$)()){return Zi(_)||bo(_)||Sr(_)||Ki(_)||/windows phone/i.test(_)||$s(_)}function rl(_,f=[]){let g;switch(_){case"Browser":g=Bn((0,k.z$)());break;case"Worker":g=`${Bn((0,k.z$)())}-${_}`;break;default:g=_}const E=f.length?f.join(","):"FirebaseCore-web";return`${g}/JsCore/${ce.SDK_VERSION}/${E}`}class ch{constructor(f,g){this.app=f,this.config=g,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _s(this),this.idTokenSubscription=new _s(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hn,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=f.name,this.clientVersion=g.sdkClientVersion}_initializeWithPersistence(f,g){var E=this;return g&&(this._popupRedirectResolver=Lt(g)),this._initializationPromise=this.queue((0,p.Z)(function*(){var D,N;E._deleted||(E.persistenceManager=yield tn.create(E,f),!E._deleted&&((null===(D=E._popupRedirectResolver)||void 0===D?void 0:D._shouldInitProactively)&&(yield E._popupRedirectResolver._initialize(E)),yield E.initializeCurrentUser(g),E.lastNotifiedUid=(null===(N=E.currentUser)||void 0===N?void 0:N.uid)||null,!E._deleted&&(E._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var f=this;return(0,p.Z)(function*(){if(f._deleted)return;const g=yield f.assertedPersistence.getCurrentUser();if(f.currentUser||g){if(f.currentUser&&g&&f.currentUser.uid===g.uid)return f._currentUser._assign(g),void(yield f.currentUser.getIdToken());yield f._updateCurrentUser(g)}})()}initializeCurrentUser(f){var g=this;return(0,p.Z)(function*(){var E;let D=yield g.assertedPersistence.getCurrentUser();if(f&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const N=null===(E=g.redirectUser)||void 0===E?void 0:E._redirectEventId,j=null==D?void 0:D._redirectEventId,ne=yield g.tryRedirectSignIn(f);(!N||N===j)&&(null==ne?void 0:ne.user)&&(D=ne.user)}return D?D._redirectEventId?(De(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===D._redirectEventId?g.directlySetCurrentUser(D):g.reloadAndSetCurrentUserOrClear(D)):g.reloadAndSetCurrentUserOrClear(D):g.directlySetCurrentUser(null)})()}tryRedirectSignIn(f){var g=this;return(0,p.Z)(function*(){let E=null;try{E=yield g._popupRedirectResolver._completeRedirectFn(g,f,!0)}catch(D){yield g._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(f){var g=this;return(0,p.Z)(function*(){try{yield Bs(f)}catch(E){if("auth/network-request-failed"!==E.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(f)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const _=navigator;return _.languages&&_.languages[0]||_.language||null}()}_delete(){var f=this;return(0,p.Z)(function*(){f._deleted=!0})()}updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){const E=f?(0,k.m9)(f):null;return E&&De(E.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(E&&E._clone(g))})()}_updateCurrentUser(f){var g=this;return(0,p.Z)(function*(){if(!g._deleted)return f&&De(g.tenantId===f.tenantId,g,"tenant-id-mismatch"),g.queue((0,p.Z)(function*(){yield g.directlySetCurrentUser(f),g.notifyAuthListeners()}))})()}signOut(){var f=this;return(0,p.Z)(function*(){return(f.redirectPersistenceManager||f._popupRedirectResolver)&&(yield f._setRedirectUser(null)),f._updateCurrentUser(null)})()}setPersistence(f){var g=this;return this.queue((0,p.Z)(function*(){yield g.assertedPersistence.setPersistence(Lt(f))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(f){this._errorFactory=new k.LL("auth","Firebase",f())}onAuthStateChanged(f,g,E){return this.registerStateListener(this.authStateSubscription,f,g,E)}onIdTokenChanged(f,g,E){return this.registerStateListener(this.idTokenSubscription,f,g,E)}toJSON(){var f;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(f=this._currentUser)||void 0===f?void 0:f.toJSON()}}_setRedirectUser(f,g){var E=this;return(0,p.Z)(function*(){const D=yield E.getOrInitRedirectPersistenceManager(g);return null===f?D.removeCurrentUser():D.setCurrentUser(f)})()}getOrInitRedirectPersistenceManager(f){var g=this;return(0,p.Z)(function*(){if(!g.redirectPersistenceManager){const E=f&&Lt(f)||g._popupRedirectResolver;De(E,g,"argument-error"),g.redirectPersistenceManager=yield tn.create(g,[Lt(E._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(f){var g=this;return(0,p.Z)(function*(){var E,D;return g._isInitialized&&(yield g.queue((0,p.Z)(function*(){}))),(null===(E=g._currentUser)||void 0===E?void 0:E._redirectEventId)===f?g._currentUser:(null===(D=g.redirectUser)||void 0===D?void 0:D._redirectEventId)===f?g.redirectUser:null})()}_persistUserIfCurrent(f){var g=this;return(0,p.Z)(function*(){if(f===g.currentUser)return g.queue((0,p.Z)(function*(){return g.directlySetCurrentUser(f)}))})()}_notifyListenersIfCurrent(f){f===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var f,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(g=null===(f=this.currentUser)||void 0===f?void 0:f.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(f,g,E,D){if(this._deleted)return()=>{};const N="function"==typeof g?g:g.next.bind(g),j=this._isInitialized?Promise.resolve():this._initializationPromise;return De(j,this,"internal-error"),j.then(()=>N(this.currentUser)),"function"==typeof g?f.addObserver(g,E,D):f.addObserver(g)}directlySetCurrentUser(f){var g=this;return(0,p.Z)(function*(){g.currentUser&&g.currentUser!==f&&(g._currentUser._stopProactiveRefresh(),f&&g.isProactiveRefreshEnabled&&f._startProactiveRefresh()),g.currentUser=f,f?yield g.assertedPersistence.setCurrentUser(f):yield g.assertedPersistence.removeCurrentUser()})()}queue(f){return this.operations=this.operations.then(f,f),this.operations}get assertedPersistence(){return De(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(f){!f||this.frameworks.includes(f)||(this.frameworks.push(f),this.frameworks.sort(),this.clientVersion=rl(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Rn(_){return(0,k.m9)(_)}class _s{constructor(f){this.auth=f,this.observer=null,this.addObserver=(0,k.ne)(g=>this.observer=g)}get next(){return De(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ir(_){const f=_.indexOf(":");return f<0?"":_.substr(0,f+1)}function Yi(_){if(!_)return null;const f=Number(_);return isNaN(f)?null:f}class Hs{constructor(f,g){this.providerId=f,this.signInMethod=g}toJSON(){return gr("not implemented")}_getIdTokenResponse(f){return gr("not implemented")}_linkToIdToken(f,g){return gr("not implemented")}_getReauthenticationResolver(f){return gr("not implemented")}}function Ya(_,f){return ca.apply(this,arguments)}function ca(){return(ca=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:resetPassword",Zt(_,f))})).apply(this,arguments)}function pi(_,f){return xc.apply(this,arguments)}function xc(){return(xc=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function _m(_,f){return da.apply(this,arguments)}function da(){return(da=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:update",Zt(_,f))})).apply(this,arguments)}function dh(){return(dh=(0,p.Z)(function*(_,f){return G(_,"POST","/v1/accounts:signInWithPassword",Zt(_,f))})).apply(this,arguments)}function Mc(_,f){return hh.apply(this,arguments)}function hh(){return(hh=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:sendOobCode",Zt(_,f))})).apply(this,arguments)}function vm(_,f){return fh.apply(this,arguments)}function fh(){return(fh=(0,p.Z)(function*(_,f){return Mc(_,f)})).apply(this,arguments)}function Em(_,f){return ap.apply(this,arguments)}function ap(){return(ap=(0,p.Z)(function*(_,f){return Mc(_,f)})).apply(this,arguments)}function ph(_,f){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,p.Z)(function*(_,f){return Mc(_,f)})).apply(this,arguments)}function gh(_,f){return mh.apply(this,arguments)}function mh(){return(mh=(0,p.Z)(function*(_,f){return Mc(_,f)})).apply(this,arguments)}function Qa(){return(Qa=(0,p.Z)(function*(_,f){return G(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,f))})).apply(this,arguments)}function Ja(){return(Ja=(0,p.Z)(function*(_,f){return G(_,"POST","/v1/accounts:signInWithEmailLink",Zt(_,f))})).apply(this,arguments)}class ha extends Hs{constructor(f,g,E,D=null){super("password",E),this._email=f,this._password=g,this._tenantId=D}static _fromEmailAndPassword(f,g){return new ha(f,g,"password")}static _fromEmailAndCode(f,g,E=null){return new ha(f,g,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f;if((null==g?void 0:g.email)&&(null==g?void 0:g.password)){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(f){var g=this;return(0,p.Z)(function*(){switch(g.signInMethod){case"password":return function(_,f){return dh.apply(this,arguments)}(f,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function(_,f){return Qa.apply(this,arguments)}(f,{email:g._email,oobCode:g._password});default:$t(f,"internal-error")}})()}_linkToIdToken(f,g){var E=this;return(0,p.Z)(function*(){switch(E.signInMethod){case"password":return pi(f,{idToken:g,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function(_,f){return Ja.apply(this,arguments)}(f,{idToken:g,email:E._email,oobCode:E._password});default:$t(f,"internal-error")}})()}_getReauthenticationResolver(f){return this._getIdTokenResponse(f)}}function ki(_,f){return Pc.apply(this,arguments)}function Pc(){return(Pc=(0,p.Z)(function*(_,f){return G(_,"POST","/v1/accounts:signInWithIdp",Zt(_,f))})).apply(this,arguments)}class bn extends Hs{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(f){const g=new bn(f.providerId,f.signInMethod);return f.idToken||f.accessToken?(f.idToken&&(g.idToken=f.idToken),f.accessToken&&(g.accessToken=f.accessToken),f.nonce&&!f.pendingToken&&(g.nonce=f.nonce),f.pendingToken&&(g.pendingToken=f.pendingToken)):f.oauthToken&&f.oauthTokenSecret?(g.accessToken=f.oauthToken,g.secret=f.oauthTokenSecret):$t("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:D}=g,N=le(g,["providerId","signInMethod"]);if(!E||!D)return null;const j=new bn(E,D);return j.idToken=N.idToken||void 0,j.accessToken=N.accessToken||void 0,j.secret=N.secret,j.nonce=N.nonce,j.pendingToken=N.pendingToken||null,j}_getIdTokenResponse(f){return ki(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,ki(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,ki(f,g)}buildRequest(){const f={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)f.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),f.postBody=(0,k.xO)(g)}return f}}function Qi(_,f){return il.apply(this,arguments)}function il(){return(il=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:sendVerificationCode",Zt(_,f))})).apply(this,arguments)}function _h(){return(_h=(0,p.Z)(function*(_,f){return G(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,f))})).apply(this,arguments)}function kc(){return(kc=(0,p.Z)(function*(_,f){const g=yield G(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,f));if(g.temporaryProof)throw Ue(_,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const eu={USER_NOT_FOUND:"user-not-found"};function fa(){return(fa=(0,p.Z)(function*(_,f){return G(_,"POST","/v1/accounts:signInWithPhoneNumber",Zt(_,Object.assign(Object.assign({},f),{operation:"REAUTH"})),eu)})).apply(this,arguments)}class Io extends Hs{constructor(f){super("phone","phone"),this.params=f}static _fromVerification(f,g){return new Io({verificationId:f,verificationCode:g})}static _fromTokenResponse(f,g){return new Io({phoneNumber:f,temporaryProof:g})}_getIdTokenResponse(f){return function(_,f){return _h.apply(this,arguments)}(f,this._makeVerificationRequest())}_linkToIdToken(f,g){return function(_,f){return kc.apply(this,arguments)}(f,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(f){return function(_,f){return fa.apply(this,arguments)}(f,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:f,phoneNumber:g,verificationId:E,verificationCode:D}=this.params;return f&&g?{temporaryProof:f,phoneNumber:g}:{sessionInfo:E,code:D}}toJSON(){const f={providerId:this.providerId};return this.params.phoneNumber&&(f.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(f.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(f.verificationCode=this.params.verificationCode),this.params.verificationId&&(f.verificationId=this.params.verificationId),f}static fromJSON(f){"string"==typeof f&&(f=JSON.parse(f));const{verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:N}=f;return E||g||D||N?new Io({verificationId:g,verificationCode:E,phoneNumber:D,temporaryProof:N}):null}}class Gs{constructor(f){var g,E,D,N,j,ne;const Oe=(0,k.zd)((0,k.pd)(f)),Re=null!==(g=Oe.apiKey)&&void 0!==g?g:null,$e=null!==(E=Oe.oobCode)&&void 0!==E?E:null,ze=function(_){switch(_){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(D=Oe.mode)&&void 0!==D?D:null);De(Re&&$e&&ze,"argument-error"),this.apiKey=Re,this.operation=ze,this.code=$e,this.continueUrl=null!==(N=Oe.continueUrl)&&void 0!==N?N:null,this.languageCode=null!==(j=Oe.languageCode)&&void 0!==j?j:null,this.tenantId=null!==(ne=Oe.tenantId)&&void 0!==ne?ne:null}static parseLink(f){const g=function(_){const f=(0,k.zd)((0,k.pd)(_)).link,g=f?(0,k.zd)((0,k.pd)(f)).deep_link_id:null,E=(0,k.zd)((0,k.pd)(_)).deep_link_id;return(E?(0,k.zd)((0,k.pd)(E)).link:null)||E||g||f||_}(f);try{return new Gs(g)}catch(E){return null}}}let vs=(()=>{class _{constructor(){this.providerId=_.PROVIDER_ID}static credential(g,E){return ha._fromEmailAndPassword(g,E)}static credentialWithLink(g,E){const D=Gs.parseLink(E);return De(D,"argument-error"),ha._fromEmailAndCode(g,D.code,D.tenantId)}}return _.PROVIDER_ID="password",_.EMAIL_PASSWORD_SIGN_IN_METHOD="password",_.EMAIL_LINK_SIGN_IN_METHOD="emailLink",_})();class Qr{constructor(f){this.providerId=f,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(f){this.defaultLanguageCode=f}setCustomParameters(f){return this.customParameters=f,this}getCustomParameters(){return this.customParameters}}class Ji extends Qr{constructor(){super(...arguments),this.scopes=[]}addScope(f){return this.scopes.includes(f)||this.scopes.push(f),this}getScopes(){return[...this.scopes]}}class rn extends Ji{static credentialFromJSON(f){const g="string"==typeof f?JSON.parse(f):f;return De("providerId"in g&&"signInMethod"in g,"argument-error"),bn._fromParams(g)}credential(f){return this._credential(Object.assign(Object.assign({},f),{nonce:f.rawNonce}))}_credential(f){return De(f.idToken||f.accessToken,"argument-error"),bn._fromParams(Object.assign(Object.assign({},f),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(f){return rn.oauthCredentialFromTaggedObject(f)}static credentialFromError(f){return rn.oauthCredentialFromTaggedObject(f.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{oauthIdToken:g,oauthAccessToken:E,oauthTokenSecret:D,pendingToken:N,nonce:j,providerId:ne}=f;if(!E&&!D&&!g&&!N||!ne)return null;try{return new rn(ne)._credential({idToken:g,accessToken:E,nonce:j,pendingToken:N})}catch(Oe){return null}}}let ol=(()=>{class _ extends Ji{constructor(){super("facebook.com")}static credential(g){return bn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.FACEBOOK_SIGN_IN_METHOD="facebook.com",_.PROVIDER_ID="facebook.com",_})(),nu=(()=>{class _ extends Ji{constructor(){super("google.com"),this.addScope("profile")}static credential(g,E){return bn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:E,oauthAccessToken:D}=g;if(!E&&!D)return null;try{return _.credential(E,D)}catch(N){return null}}}return _.GOOGLE_SIGN_IN_METHOD="google.com",_.PROVIDER_ID="google.com",_})(),vh=(()=>{class _ extends Ji{constructor(){super("github.com")}static credential(g){return bn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return _.credential(g.oauthAccessToken)}catch(E){return null}}}return _.GITHUB_SIGN_IN_METHOD="github.com",_.PROVIDER_ID="github.com",_})();class pa extends Hs{constructor(f,g){super(f,f),this.pendingToken=g}_getIdTokenResponse(f){return ki(f,this.buildRequest())}_linkToIdToken(f,g){const E=this.buildRequest();return E.idToken=g,ki(f,E)}_getReauthenticationResolver(f){const g=this.buildRequest();return g.autoCreate=!1,ki(f,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(f){const g="string"==typeof f?JSON.parse(f):f,{providerId:E,signInMethod:D,pendingToken:N}=g;return E&&D&&N&&E===D?new pa(E,N):null}static _create(f,g){return new pa(f,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class To extends Qr{constructor(f){De(f.startsWith("saml."),"argument-error"),super(f)}static credentialFromResult(f){return To.samlCredentialFromTaggedObject(f)}static credentialFromError(f){return To.samlCredentialFromTaggedObject(f.customData||{})}static credentialFromJSON(f){const g=pa.fromJSON(f);return De(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:f}){if(!f)return null;const{pendingToken:g,providerId:E}=f;if(!g||!E)return null;try{return pa._create(E,g)}catch(D){return null}}}let Lr=(()=>{class _ extends Ji{constructor(){super("twitter.com")}static credential(g,E){return bn._fromParams({providerId:_.PROVIDER_ID,signInMethod:_.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:E})}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:E,oauthTokenSecret:D}=g;if(!E||!D)return null;try{return _.credential(E,D)}catch(N){return null}}}return _.TWITTER_SIGN_IN_METHOD="twitter.com",_.PROVIDER_ID="twitter.com",_})();function wh(_,f){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,p.Z)(function*(_,f){return G(_,"POST","/v1/accounts:signUp",Zt(_,f))})).apply(this,arguments)}class Qn{constructor(f){this.user=f.user,this.providerId=f.providerId,this._tokenResponse=f._tokenResponse,this.operationType=f.operationType}static _fromIdTokenResponse(f,g,E,D=!1){return(0,p.Z)(function*(){const N=yield En._fromIdTokenResponse(f,E,D),j=yr(E);return new Qn({user:N,providerId:j,_tokenResponse:E,operationType:g})})()}static _forOperation(f,g,E){return(0,p.Z)(function*(){yield f._updateTokensIfNecessary(E,!0);const D=yr(E);return new Qn({user:f,providerId:D,_tokenResponse:E,operationType:g})})()}}function yr(_){return _.providerId?_.providerId:"phoneNumber"in _?"phone":null}function ga(){return(ga=(0,p.Z)(function*(_){var f;const g=Rn(_);if(yield g._initializationPromise,null===(f=g.currentUser)||void 0===f?void 0:f.isAnonymous)return new Qn({user:g.currentUser,providerId:null,operationType:"signIn"});const E=yield wh(g,{returnSecureToken:!0}),D=yield Qn._fromIdTokenResponse(g,"signIn",E,!0);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class ru extends k.ZR{constructor(f,g,E,D){var N;super(g.code,g.message),this.operationType=E,this.user=D,Object.setPrototypeOf(this,ru.prototype),this.customData={appName:f.name,tenantId:null!==(N=f.tenantId)&&void 0!==N?N:void 0,_serverResponse:g.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(f,g,E,D){return new ru(f,g,E,D)}}function Es(_,f,g,E){return("reauthenticate"===f?g._getReauthenticationResolver(_):g._getIdTokenResponse(_)).catch(N=>{throw"auth/multi-factor-auth-required"===N.code?ru._fromErrorAndOperation(_,N,f,E):N})}function iu(_){return new Set(_.map(({providerId:f})=>f).filter(f=>!!f))}function rt(){return(rt=(0,p.Z)(function*(_,f){const g=(0,k.m9)(_);yield qs(!0,g,f);const{providerUserInfo:E}=yield Zn(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[f]}),D=iu(E||[]);return g.providerData=g.providerData.filter(N=>D.has(N.providerId)),D.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function bh(_,f){return ws.apply(this,arguments)}function ws(){return(ws=(0,p.Z)(function*(_,f,g=!1){const E=yield di(_,f._linkToIdToken(_.auth,yield _.getIdToken()),g);return Qn._forOperation(_,"link",E)})).apply(this,arguments)}function qs(_,f,g){return Do.apply(this,arguments)}function Do(){return(Do=(0,p.Z)(function*(_,f,g){yield Bs(f);const D=!1===_?"provider-already-linked":"no-such-provider";De(iu(f.providerData).has(g)===_,f.auth,D)})).apply(this,arguments)}function ll(_,f){return bs.apply(this,arguments)}function bs(){return(bs=(0,p.Z)(function*(_,f,g=!1){const{auth:E}=_,D="reauthenticate";try{const N=yield di(_,Es(E,D,f,_),g);De(N.idToken,E,"internal-error");const j=vo(N.idToken);De(j,E,"internal-error");const{sub:ne}=j;return De(_.uid===ne,E,"user-mismatch"),Qn._forOperation(_,D,N)}catch(N){throw"auth/user-not-found"===(null==N?void 0:N.code)&&$t(E,"user-mismatch"),N}})).apply(this,arguments)}function Fc(_,f){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,p.Z)(function*(_,f,g=!1){const E="signIn",D=yield Es(_,E,f),N=yield Qn._fromIdTokenResponse(_,E,D);return g||(yield _._updateCurrentUser(N.user)),N})).apply(this,arguments)}function Tt(_,f){return su.apply(this,arguments)}function su(){return(su=(0,p.Z)(function*(_,f){return Fc(Rn(_),f)})).apply(this,arguments)}function Cn(_,f){return cl.apply(this,arguments)}function cl(){return(cl=(0,p.Z)(function*(_,f){const g=(0,k.m9)(_);return yield qs(!1,g,f.providerId),bh(g,f)})).apply(this,arguments)}function Ao(_,f){return gi.apply(this,arguments)}function gi(){return(gi=(0,p.Z)(function*(_,f){return ll((0,k.m9)(_),f)})).apply(this,arguments)}function ou(_,f){return zs.apply(this,arguments)}function zs(){return(zs=(0,p.Z)(function*(_,f){return G(_,"POST","/v1/accounts:signInWithCustomToken",Zt(_,f))})).apply(this,arguments)}function dl(){return(dl=(0,p.Z)(function*(_,f){const g=Rn(_),E=yield ou(g,{token:f,returnSecureToken:!0}),D=yield Qn._fromIdTokenResponse(g,"signIn",E);return yield g._updateCurrentUser(D.user),D})).apply(this,arguments)}class es{constructor(f,g){this.factorId=f,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(f,g){return"phoneInfo"in g?ts._fromServerResponse(f,g):$t(f,"internal-error")}}class ts extends es{constructor(f){super("phone",f),this.phoneNumber=f.phoneInfo}static _fromServerResponse(f,g){return new ts(g)}}function or(_,f,g){var E;De((null===(E=g.url)||void 0===E?void 0:E.length)>0,_,"invalid-continue-uri"),De(void 0===g.dynamicLinkDomain||g.dynamicLinkDomain.length>0,_,"invalid-dynamic-link-domain"),f.continueUrl=g.url,f.dynamicLinkDomain=g.dynamicLinkDomain,f.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(De(g.iOS.bundleId.length>0,_,"missing-ios-bundle-id"),f.iOSBundleId=g.iOS.bundleId),g.android&&(De(g.android.packageName.length>0,_,"missing-android-pkg-name"),f.androidInstallApp=g.android.installApp,f.androidMinimumVersionCode=g.android.minimumVersion,f.androidPackageName=g.android.packageName)}function ma(){return(ma=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),D={requestType:"PASSWORD_RESET",email:f};g&&or(E,D,g),yield Em(E,D)})).apply(this,arguments)}function Fi(){return(Fi=(0,p.Z)(function*(_,f,g){yield Ya((0,k.m9)(_),{oobCode:f,newPassword:g})})).apply(this,arguments)}function hl(){return(hl=(0,p.Z)(function*(_,f){yield _m((0,k.m9)(_),{oobCode:f})})).apply(this,arguments)}function fl(_,f){return ya.apply(this,arguments)}function ya(){return(ya=(0,p.Z)(function*(_,f){const g=(0,k.m9)(_),E=yield Ya(g,{oobCode:f}),D=E.requestType;switch(De(D,g,"internal-error"),D){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":De(E.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":De(E.mfaInfo,g,"internal-error");default:De(E.email,g,"internal-error")}let N=null;return E.mfaInfo&&(N=es._fromServerResponse(Rn(g),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:N},operation:D}})).apply(this,arguments)}function _a(){return(_a=(0,p.Z)(function*(_,f){const{data:g}=yield fl((0,k.m9)(_),f);return g.email})).apply(this,arguments)}function gl(){return(gl=(0,p.Z)(function*(_,f,g){const E=Rn(_),D=yield wh(E,{returnSecureToken:!0,email:f,password:g}),N=yield Qn._fromIdTokenResponse(E,"signIn",D);return yield E._updateCurrentUser(N.user),N})).apply(this,arguments)}function Cs(){return(Cs=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),D={requestType:"EMAIL_SIGNIN",email:f};De(g.handleCodeInApp,E,"argument-error"),g&&or(E,D,g),yield ph(E,D)})).apply(this,arguments)}function au(){return(au=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),D=vs.credentialWithLink(f,g||nt());return De(D._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),Tt(E,D)})).apply(this,arguments)}function wm(_,f){return yl.apply(this,arguments)}function yl(){return(yl=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:createAuthUri",Zt(_,f))})).apply(this,arguments)}function hp(){return(hp=(0,p.Z)(function*(_,f){const E={identifier:f,continueUri:Ae()?nt():"http://localhost"},{signinMethods:D}=yield wm((0,k.m9)(_),E);return D||[]})).apply(this,arguments)}function Jr(){return(Jr=(0,p.Z)(function*(_,f){const g=(0,k.m9)(_),D={requestType:"VERIFY_EMAIL",idToken:yield _.getIdToken()};f&&or(g.auth,D,f);const{email:N}=yield vm(g.auth,D);N!==_.email&&(yield _.reload())})).apply(this,arguments)}function So(){return(So=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),N={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield _.getIdToken(),newEmail:f};g&&or(E.auth,N,g);const{email:j}=yield gh(E.auth,N);j!==_.email&&(yield _.reload())})).apply(this,arguments)}function fp(_,f){return uu.apply(this,arguments)}function uu(){return(uu=(0,p.Z)(function*(_,f){return bt(_,"POST","/v1/accounts:update",f)})).apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(_,{displayName:f,photoURL:g}){if(void 0===f&&void 0===g)return;const E=(0,k.m9)(_),N={idToken:yield E.getIdToken(),displayName:f,photoUrl:g,returnSecureToken:!0},j=yield di(E,fp(E.auth,N));E.displayName=j.displayName||null,E.photoURL=j.photoUrl||null;const ne=E.providerData.find(({providerId:Oe})=>"password"===Oe);ne&&(ne.displayName=E.displayName,ne.photoURL=E.photoURL),yield E._updateTokensIfNecessary(j)})).apply(this,arguments)}function lu(_,f,g){return cu.apply(this,arguments)}function cu(){return(cu=(0,p.Z)(function*(_,f,g){const{auth:E}=_,N={idToken:yield _.getIdToken(),returnSecureToken:!0};f&&(N.email=f),g&&(N.password=g);const j=yield di(_,pi(E,N));yield _._updateTokensIfNecessary(j,!0)})).apply(this,arguments)}class No{constructor(f,g,E={}){this.isNewUser=f,this.providerId=g,this.profile=E}}class El extends No{constructor(f,g,E,D){super(f,g,E),this.username=D}}class Ks extends No{constructor(f,g){super(f,"facebook.com",g)}}class Ro extends El{constructor(f,g){super(f,"github.com",g,"string"==typeof(null==g?void 0:g.login)?null==g?void 0:g.login:null)}}class bm extends No{constructor(f,g){super(f,"google.com",g)}}class pp extends El{constructor(f,g,E){super(f,"twitter.com",g,E)}}function _r(_){const{user:f,_tokenResponse:g}=_;return f.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function(_){var f,g;if(!_)return null;const{providerId:E}=_,D=_.rawUserInfo?JSON.parse(_.rawUserInfo):{},N=_.isNewUser||"identitytoolkit#SignupNewUserResponse"===_.kind;if(!E&&(null==_?void 0:_.idToken)){const j=null===(g=null===(f=vo(_.idToken))||void 0===f?void 0:f.firebase)||void 0===g?void 0:g.sign_in_provider;if(j)return new No(N,"anonymous"!==j&&"custom"!==j?j:null)}if(!E)return null;switch(E){case"facebook.com":return new Ks(N,D);case"github.com":return new Ro(N,D);case"google.com":return new bm(N,D);case"twitter.com":return new pp(N,D,_.screenName||null);case"custom":case"anonymous":return new No(N,null);default:return new No(N,E,D)}}(g)}class Li{constructor(f,g){this.type=f,this.credential=g}static _fromIdtoken(f){return new Li("enroll",f)}static _fromMfaPendingCredential(f){return new Li("signin",f)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(f){var g,E;if(null==f?void 0:f.multiFactorSession){if(null===(g=f.multiFactorSession)||void 0===g?void 0:g.pendingCredential)return Li._fromMfaPendingCredential(f.multiFactorSession.pendingCredential);if(null===(E=f.multiFactorSession)||void 0===E?void 0:E.idToken)return Li._fromIdtoken(f.multiFactorSession.idToken)}return null}}class Cl{constructor(f,g,E){this.session=f,this.hints=g,this.signInResolver=E}static _fromError(f,g){const E=Rn(f),D=g.customData._serverResponse,N=(D.mfaInfo||[]).map(ne=>es._fromServerResponse(E,ne));De(D.mfaPendingCredential,E,"internal-error");const j=Li._fromMfaPendingCredential(D.mfaPendingCredential);return new Cl(j,N,function(){var ne=(0,p.Z)(function*(Oe){const Re=yield Oe._process(E,j);delete D.mfaInfo,delete D.mfaPendingCredential;const $e=Object.assign(Object.assign({},D),{idToken:Re.idToken,refreshToken:Re.refreshToken});switch(g.operationType){case"signIn":const ze=yield Qn._fromIdTokenResponse(E,g.operationType,$e);return yield E._updateCurrentUser(ze.user),ze;case"reauthenticate":return De(g.user,E,"internal-error"),Qn._forOperation(g.user,g.operationType,$e);default:$t(E,"internal-error")}});return function(Oe){return ne.apply(this,arguments)}}())}resolveSignIn(f){var g=this;return(0,p.Z)(function*(){return g.signInResolver(f)})()}}function hu(_,f){return bt(_,"POST","/v2/accounts/mfaEnrollment:start",Zt(_,f))}class Tl{constructor(f){this.user=f,this.enrolledFactors=[],f._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(E=>es._fromServerResponse(f.auth,E)))})}static _fromUser(f){return new Tl(f)}getSession(){var f=this;return(0,p.Z)(function*(){return Li._fromIdtoken(yield f.user.getIdToken())})()}enroll(f,g){var E=this;return(0,p.Z)(function*(){const D=f,N=yield E.getSession(),j=yield di(E.user,D._process(E.user.auth,N,g));return yield E.user._updateTokensIfNecessary(j),E.user.reload()})()}unenroll(f){var g=this;return(0,p.Z)(function*(){const E="string"==typeof f?f:f.uid,D=yield g.user.getIdToken(),N=yield di(g.user,function(_,f){return bt(_,"POST","/v2/accounts/mfaEnrollment:withdraw",Zt(_,f))}(g.user.auth,{idToken:D,mfaEnrollmentId:E}));g.enrolledFactors=g.enrolledFactors.filter(({uid:j})=>j!==E),yield g.user._updateTokensIfNecessary(N);try{yield g.user.reload()}catch(j){if("auth/user-token-expired"!==j.code)throw j}})()}}const Mo=new WeakMap,va="__sak";class Vc{constructor(f,g){this.storageRetriever=f,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(va,"1"),this.storage.removeItem(va),Promise.resolve(!0)):Promise.resolve(!1)}catch(f){return Promise.resolve(!1)}}_set(f,g){return this.storage.setItem(f,JSON.stringify(g)),Promise.resolve()}_get(f){const g=this.storage.getItem(f);return Promise.resolve(g?JSON.parse(g):null)}_remove(f){return this.storage.removeItem(f),Promise.resolve()}get storage(){return this.storageRetriever()}}const ns=(()=>{class _ extends Vc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,E)=>this.onStorageEvent(g,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const _=(0,k.z$)();return mt(_)||Zi(_)}()&&function(){try{return!(!window||window===window.top)}catch(_){return!1}}(),this.fallbackToPolling=ua(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const E of Object.keys(this.listeners)){const D=this.storage.getItem(E),N=this.localCache[E];D!==N&&g(E,N,D)}}onStorageEvent(g,E=!1){if(!g.key)return void this.forAllChangedKeys((ne,Oe,Re)=>{this.notifyListeners(ne,Re)});const D=g.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ne=this.storage.getItem(D);if(g.newValue!==ne)null!==g.newValue?this.storage.setItem(D,g.newValue):this.storage.removeItem(D);else if(this.localCache[D]===g.newValue&&!E)return}const N=()=>{const ne=this.storage.getItem(D);!E&&this.localCache[D]===ne||this.notifyListeners(D,ne)},j=this.storage.getItem(D);(0,k.w1)()&&10===document.documentMode&&j!==g.newValue&&g.newValue!==g.oldValue?setTimeout(N,10):N()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const N of Array.from(D))N(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,E,D)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:E,newValue:D}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,E){var D=()=>super._set,N=this;return(0,p.Z)(function*(){yield D().call(N,g,E),N.localCache[g]=JSON.stringify(E)})()}_get(g){var E=()=>super._get,D=this;return(0,p.Z)(function*(){const N=yield E().call(D,g);return D.localCache[g]=JSON.stringify(N),N})()}_remove(g){var E=()=>super._remove,D=this;return(0,p.Z)(function*(){yield E().call(D,g),delete D.localCache[g]})()}}return _.type="LOCAL",_})(),ar=(()=>{class _ extends Vc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,E){}_removeListener(g,E){}}return _.type="SESSION",_})();let Sl=(()=>{class _{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const E=this.receivers.find(N=>N.isListeningto(g));if(E)return E;const D=new _(g);return this.receivers.push(D),D}isListeningto(g){return this.eventTarget===g}handleEvent(g){var E=this;return(0,p.Z)(function*(){const D=g,{eventId:N,eventType:j,data:ne}=D.data,Oe=E.handlersMap[j];if(!(null==Oe?void 0:Oe.size))return;D.ports[0].postMessage({status:"ack",eventId:N,eventType:j});const Re=Array.from(Oe).map(function(){var ze=(0,p.Z)(function*(Mt){return Mt(D.origin,ne)});return function(Mt){return ze.apply(this,arguments)}}()),$e=yield function(_){return Promise.all(_.map(function(){var f=(0,p.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(E){return{fulfilled:!1,reason:E}}});return function(g){return f.apply(this,arguments)}}()))}(Re);D.ports[0].postMessage({status:"done",eventId:N,eventType:j,response:$e})})()}_subscribe(g,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(E)}_unsubscribe(g,E){this.handlersMap[g]&&E&&this.handlersMap[g].delete(E),(!E||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return _.receivers=[],_})();function vr(_="",f=10){let g="";for(let E=0;E<f;E++)g+=Math.floor(10*Math.random());return _+g}class Nl{constructor(f){this.target=f,this.handlers=new Set}removeMessageHandler(f){f.messageChannel&&(f.messageChannel.port1.removeEventListener("message",f.onMessage),f.messageChannel.port1.close()),this.handlers.delete(f)}_send(f,g,E=50){var D=this;return(0,p.Z)(function*(){const N="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!N)throw new Error("connection_unavailable");let j,ne;return new Promise((Oe,Re)=>{const $e=vr("",20);N.port1.start();const ze=setTimeout(()=>{Re(new Error("unsupported_event"))},E);ne={messageChannel:N,onMessage(Mt){const Dn=Mt;if(Dn.data.eventId===$e)switch(Dn.data.status){case"ack":clearTimeout(ze),j=setTimeout(()=>{Re(new Error("timeout"))},3e3);break;case"done":clearTimeout(j),Oe(Dn.data.response);break;default:clearTimeout(ze),clearTimeout(j),Re(new Error("invalid_response"))}}},D.handlers.add(ne),N.port1.addEventListener("message",ne.onMessage),D.target.postMessage({eventType:f,eventId:$e,data:g},[N.port2])}).finally(()=>{ne&&D.removeMessageHandler(ne)})})()}}function xn(){return window}function Et(){return void 0!==xn().WorkerGlobalScope&&"function"==typeof xn().importScripts}function Oo(){return(Oo=(0,p.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(_){return null}})).apply(this,arguments)}const pu="firebaseLocalStorageDb",Nr="firebaseLocalStorage",jc="fbase_key";class Po{constructor(f){this.request=f}toPromise(){return new Promise((f,g)=>{this.request.addEventListener("success",()=>{f(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Hn(_,f){return _.transaction([Nr],f?"readwrite":"readonly").objectStore(Nr)}function Fo(){const _=indexedDB.open(pu,1);return new Promise((f,g)=>{_.addEventListener("error",()=>{g(_.error)}),_.addEventListener("upgradeneeded",()=>{const E=_.result;try{E.createObjectStore(Nr,{keyPath:jc})}catch(D){g(D)}}),_.addEventListener("success",(0,p.Z)(function*(){const E=_.result;E.objectStoreNames.contains(Nr)?f(E):(E.close(),yield function(){const _=indexedDB.deleteDatabase(pu);return new Po(_).toPromise()}(),f(yield Fo()))}))})}function he(_,f,g){return is.apply(this,arguments)}function is(){return(is=(0,p.Z)(function*(_,f,g){const E=Hn(_,!0).put({[jc]:f,value:g});return new Po(E).toPromise()})).apply(this,arguments)}function Ts(){return(Ts=(0,p.Z)(function*(_,f){const g=Hn(_,!1).get(f),E=yield new Po(g).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function Rt(_,f){const g=Hn(_,!0).delete(f);return new Po(g).toPromise()}const Qt=(()=>{class _{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,p.Z)(function*(){return g.db||(g.db=yield Fo()),g.db})()}_withRetries(g){var E=this;return(0,p.Z)(function*(){let D=0;for(;;)try{const N=yield E._openDb();return yield g(N)}catch(N){if(D++>3)throw N;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,p.Z)(function*(){return Et()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,p.Z)(function*(){g.receiver=Sl._getInstance(Et()?self:null),g.receiver._subscribe("keyChanged",function(){var E=(0,p.Z)(function*(D,N){return{keyProcessed:(yield g._poll()).includes(N.key)}});return function(D,N){return E.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var E=(0,p.Z)(function*(D,N){return["keyChanged"]});return function(D,N){return E.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,p.Z)(function*(){var E,D;if(g.activeServiceWorker=yield function(){return Oo.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nl(g.activeServiceWorker);const N=yield g.sender._send("ping",{},800);!N||(null===(E=N[0])||void 0===E?void 0:E.fulfilled)&&(null===(D=N[0])||void 0===D?void 0:D.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var E=this;return(0,p.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function(){var _;return(null===(_=null==navigator?void 0:navigator.serviceWorker)||void 0===_?void 0:_.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:g},E.serviceWorkerReceiverAvailable?800:50)}catch(D){}})()}_isAvailable(){return(0,p.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Fo();return yield he(g,va,"1"),yield Rt(g,va),!0}catch(g){}return!1})()}_withPendingWrite(g){var E=this;return(0,p.Z)(function*(){E.pendingWrites++;try{yield g()}finally{E.pendingWrites--}})()}_set(g,E){var D=this;return(0,p.Z)(function*(){return D._withPendingWrite((0,p.Z)(function*(){return yield D._withRetries(N=>he(N,g,E)),D.localCache[g]=E,D.notifyServiceWorker(g)}))})()}_get(g){var E=this;return(0,p.Z)(function*(){const D=yield E._withRetries(N=>function(_,f){return Ts.apply(this,arguments)}(N,g));return E.localCache[g]=D,D})()}_remove(g){var E=this;return(0,p.Z)(function*(){return E._withPendingWrite((0,p.Z)(function*(){return yield E._withRetries(D=>Rt(D,g)),delete E.localCache[g],E.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,p.Z)(function*(){const E=yield g._withRetries(j=>{const ne=Hn(j,!1).getAll();return new Po(ne).toPromise()});if(!E)return[];if(0!==g.pendingWrites)return[];const D=[],N=new Set;for(const{fbase_key:j,value:ne}of E)N.add(j),JSON.stringify(g.localCache[j])!==JSON.stringify(ne)&&(g.notifyListeners(j,ne),D.push(j));for(const j of Object.keys(g.localCache))g.localCache[j]&&!N.has(j)&&(g.notifyListeners(j,null),D.push(j));return D})()}notifyListeners(g,E){this.localCache[g]=E;const D=this.listeners[g];if(D)for(const N of Array.from(D))N(E)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,p.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(E)}_removeListener(g,E){this.listeners[g]&&(this.listeners[g].delete(E),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return _.type="LOCAL",_})();function ct(_,f){return bt(_,"POST","/v2/accounts/mfaSignIn:start",Zt(_,f))}function wa(){return(wa=(0,p.Z)(function*(_){return(yield bt(_,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function mu(_){return new Promise((f,g)=>{const E=document.createElement("script");E.setAttribute("src",_),E.onload=f,E.onerror=D=>{const N=St("internal-error");N.customData=D,g(N)},E.type="text/javascript",E.charset="UTF-8",function(){var _,f;return null!==(f=null===(_=document.getElementsByTagName("head"))||void 0===_?void 0:_[0])&&void 0!==f?f:document}().appendChild(E)})}function Oh(_){return`__${_}${Math.floor(1e6*Math.random())}`}const Tn=1e12;class yu{constructor(f){this.auth=f,this.counter=Tn,this._widgets=new Map}render(f,g){const E=this.counter;return this._widgets.set(E,new Mn(f,this.auth.name,g||{})),this.counter++,E}reset(f){var g;const E=f||Tn;null===(g=this._widgets.get(E))||void 0===g||g.delete(),this._widgets.delete(E)}getResponse(f){var g;return(null===(g=this._widgets.get(f||Tn))||void 0===g?void 0:g.getResponse())||""}execute(f){var g=this;return(0,p.Z)(function*(){var E;return null===(E=g._widgets.get(f||Tn))||void 0===E||E.execute(),""})()}}class Mn{constructor(f,g,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const D="string"==typeof f?document.getElementById(f):f;De(D,"argument-error",{appName:g}),this.container=D,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(_){const f=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<50;E++)f.push(g.charAt(Math.floor(Math.random()*g.length)));return f.join("")}();const{callback:f,"expired-callback":g}=this.params;if(f)try{f(this.responseToken)}catch(E){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch(E){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const On=Oh("rcb"),Rl=new Vt(3e4,6e4);class Ca{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!xn().grecaptcha}load(f,g=""){return De((_=g).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(_),f,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(xn().grecaptcha):new Promise((E,D)=>{const N=xn().setTimeout(()=>{D(St(f,"network-request-failed"))},Rl.get());xn()[On]=()=>{xn().clearTimeout(N),delete xn()[On];const ne=xn().grecaptcha;if(!ne)return void D(St(f,"internal-error"));const Oe=ne.render;ne.render=(Re,$e)=>{const ze=Oe(Re,$e);return this.counter++,ze},this.hostLanguage=g,E(ne)},mu(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:On,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(N),D(St(f,"internal-error"))})});var _}clearedOneInstance(){this.counter--}shouldResolveImmediately(f){return!!xn().grecaptcha&&(f===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xr{load(f){return(0,p.Z)(function*(){return new yu(f)})()}clearedOneInstance(){}}const ei="recaptcha",ti={theme:"light",type:"image"};class Ys{constructor(f,g=Object.assign({},ti),E){this.parameters=g,this.type=ei,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(E),this.isInvisible="invisible"===this.parameters.size,De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const D="string"==typeof f?document.getElementById(f):f;De(D,this.auth,"argument-error"),this.container=D,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xr:new Ca,this.validateStartingState()}verify(){var f=this;return(0,p.Z)(function*(){f.assertNotDestroyed();const g=yield f.render(),E=f.getAssertedRecaptcha();return E.getResponse(g)||new Promise(N=>{const j=ne=>{!ne||(f.tokenChangeListeners.delete(j),N(ne))};f.tokenChangeListeners.add(j),f.isInvisible&&E.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(f){return Promise.reject(f)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(f=>{throw this.renderPromise=null,f})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(f=>{this.container.removeChild(f)})}validateStartingState(){De(!this.parameters.sitekey,this.auth,"argument-error"),De(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),De("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(f){return g=>{if(this.tokenChangeListeners.forEach(E=>E(g)),"function"==typeof f)f(g);else if("string"==typeof f){const E=xn()[f];"function"==typeof E&&E(g)}}}assertNotDestroyed(){De(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var f=this;return(0,p.Z)(function*(){if(yield f.init(),!f.widgetId){let g=f.container;if(!f.isInvisible){const E=document.createElement("div");g.appendChild(E),g=E}f.widgetId=f.getAssertedRecaptcha().render(g,f.parameters)}return f.widgetId})()}init(){var f=this;return(0,p.Z)(function*(){De(Ae()&&!Et(),f.auth,"internal-error"),yield function(){let _=null;return new Promise(f=>{"complete"!==document.readyState?(_=()=>f(),window.addEventListener("load",_)):f()}).catch(f=>{throw _&&window.removeEventListener("load",_),f})}(),f.recaptcha=yield f._recaptchaLoader.load(f.auth,f.auth.languageCode||void 0);const g=yield function(_){return wa.apply(this,arguments)}(f.auth);De(g,f.auth,"internal-error"),f.parameters.sitekey=g})()}getAssertedRecaptcha(){return De(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vu{constructor(f,g){this.verificationId=f,this.onConfirmation=g}confirm(f){const g=Io._fromVerification(this.verificationId,f);return this.onConfirmation(g)}}function Eu(){return(Eu=(0,p.Z)(function*(_,f,g){const E=Rn(_),D=yield A(E,f,(0,k.m9)(g));return new vu(D,N=>Tt(E,N))})).apply(this,arguments)}function xl(){return(xl=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);yield qs(!1,E,"phone");const D=yield A(E.auth,f,(0,k.m9)(g));return new vu(D,N=>Cn(E,N))})).apply(this,arguments)}function C(){return(C=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_),D=yield A(E.auth,f,(0,k.m9)(g));return new vu(D,N=>Ao(E,N))})).apply(this,arguments)}function A(_,f,g){return x.apply(this,arguments)}function x(){return(x=(0,p.Z)(function*(_,f,g){var E;const D=yield g.verify();try{let N;if(De("string"==typeof D,_,"argument-error"),De(g.type===ei,_,"argument-error"),N="string"==typeof f?{phoneNumber:f}:f,"session"in N){const j=N.session;if("phoneNumber"in N)return De("enroll"===j.type,_,"internal-error"),(yield hu(_,{idToken:j.credential,phoneEnrollmentInfo:{phoneNumber:N.phoneNumber,recaptchaToken:D}})).phoneSessionInfo.sessionInfo;{De("signin"===j.type,_,"internal-error");const ne=(null===(E=N.multiFactorHint)||void 0===E?void 0:E.uid)||N.multiFactorUid;return De(ne,_,"missing-multi-factor-info"),(yield ct(_,{mfaPendingCredential:j.credential,mfaEnrollmentId:ne,phoneSignInInfo:{recaptchaToken:D}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:j}=yield Qi(_,{phoneNumber:N.phoneNumber,recaptchaToken:D});return j}}finally{g._reset()}})).apply(this,arguments)}function Y(){return(Y=(0,p.Z)(function*(_,f){yield bh((0,k.m9)(_),f)})).apply(this,arguments)}let oe=(()=>{class _{constructor(g){this.providerId=_.PROVIDER_ID,this.auth=Rn(g)}verifyPhoneNumber(g,E){return A(this.auth,g,(0,k.m9)(E))}static credential(g,E){return Io._fromVerification(g,E)}static credentialFromResult(g){return _.credentialFromTaggedObject(g)}static credentialFromError(g){return _.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:E,temporaryProof:D}=g;return E&&D?Io._fromTokenResponse(E,D):null}}return _.PROVIDER_ID="phone",_.PHONE_SIGN_IN_METHOD="phone",_})();function Te(_,f){return f?Lt(f):(De(_._popupRedirectResolver,_,"argument-error"),_._popupRedirectResolver)}class Be extends Hs{constructor(f){super("custom","custom"),this.params=f}_getIdTokenResponse(f){return ki(f,this._buildIdpRequest())}_linkToIdToken(f,g){return ki(f,this._buildIdpRequest(g))}_getReauthenticationResolver(f){return ki(f,this._buildIdpRequest())}_buildIdpRequest(f){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return f&&(g.idToken=f),g}}function je(_){return Fc(_.auth,new Be(_),_.bypassAuthState)}function Ut(_){const{auth:f,user:g}=_;return De(g,f,"internal-error"),ll(g,new Be(_),_.bypassAuthState)}function qt(_){return Pn.apply(this,arguments)}function Pn(){return(Pn=(0,p.Z)(function*(_){const{auth:f,user:g}=_;return De(g,f,"internal-error"),bh(g,new Be(_),_.bypassAuthState)})).apply(this,arguments)}class Jn{constructor(f,g,E,D,N=!1){this.auth=f,this.resolver=E,this.user=D,this.bypassAuthState=N,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var f=this;return new Promise(function(){var g=(0,p.Z)(function*(E,D){f.pendingPromise={resolve:E,reject:D};try{f.eventManager=yield f.resolver._initialize(f.auth),yield f.onExecution(),f.eventManager.registerConsumer(f)}catch(N){f.reject(N)}});return function(E,D){return g.apply(this,arguments)}}())}onAuthEvent(f){var g=this;return(0,p.Z)(function*(){const{urlResponse:E,sessionId:D,postBody:N,tenantId:j,error:ne,type:Oe}=f;if(ne)return void g.reject(ne);const Re={auth:g.auth,requestUri:E,sessionId:D,tenantId:j||void 0,postBody:N||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Oe)(Re))}catch($e){g.reject($e)}})()}onError(f){this.reject(f)}getIdpTask(f){switch(f){case"signInViaPopup":case"signInViaRedirect":return je;case"linkViaPopup":case"linkViaRedirect":return qt;case"reauthViaPopup":case"reauthViaRedirect":return Ut;default:$t(this.auth,"internal-error")}}resolve(f){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(f),this.unregisterAndCleanUp()}reject(f){Un(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(f),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Xn=new Vt(2e3,1e4);function Lo(){return(Lo=(0,p.Z)(function*(_,f,g){const E=Rn(_);Pr(_,f,Qr);const D=Te(E,g);return new $c(E,"signInViaPopup",f,D).executeNotNull()})).apply(this,arguments)}function Vi(){return(Vi=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);Pr(E.auth,f,Qr);const D=Te(E.auth,g);return new $c(E.auth,"reauthViaPopup",f,D,E).executeNotNull()})).apply(this,arguments)}function Ml(){return(Ml=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);Pr(E.auth,f,Qr);const D=Te(E.auth,g);return new $c(E.auth,"linkViaPopup",f,D,E).executeNotNull()})).apply(this,arguments)}let $c=(()=>{class _ extends Jn{constructor(g,E,D,N,j){super(g,E,N,j),this.provider=D,this.authWindow=null,this.pollId=null,_.currentPopupAction&&_.currentPopupAction.cancel(),_.currentPopupAction=this}executeNotNull(){var g=this;return(0,p.Z)(function*(){const E=yield g.execute();return De(E,g.auth,"internal-error"),E})()}onExecution(){var g=this;return(0,p.Z)(function*(){Un(1===g.filter.length,"Popup operations only handle one event");const E=vr();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],E),g.authWindow.associatedEvent=E,g.resolver._originValidation(g.auth).catch(D=>{g.reject(D)}),g.resolver._isIframeWebStorageSupported(g.auth,D=>{D||g.reject(St(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(St(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,_.currentPopupAction=null}pollUserCancellation(){const g=()=>{var E,D;this.pollId=(null===(D=null===(E=this.authWindow)||void 0===E?void 0:E.window)||void 0===D?void 0:D.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(St(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,Xn.get())};g()}}return _.currentPopupAction=null,_})();const Qs=new Map;class Hc extends Jn{constructor(f,g,E=!1){super(f,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,E),this.eventId=null}execute(){var f=()=>super.execute,g=this;return(0,p.Z)(function*(){let E=Qs.get(g.auth._key());if(!E){try{const N=(yield function(_,f){return Ep.apply(this,arguments)}(g.resolver,g.auth))?yield f().call(g):null;E=()=>Promise.resolve(N)}catch(D){E=()=>Promise.reject(D)}Qs.set(g.auth._key(),E)}return g.bypassAuthState||Qs.set(g.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(f){var g=()=>super.onAuthEvent,E=this;return(0,p.Z)(function*(){if("signInViaRedirect"===f.type)return g().call(E,f);if("unknown"!==f.type){if(f.eventId){const D=yield E.auth._redirectUserForId(f.eventId);if(D)return E.user=D,g().call(E,f);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,p.Z)(function*(){})()}cleanUp(){}}function Ep(){return(Ep=(0,p.Z)(function*(_,f){const g=Ia(f),E=Xs(_);if(!(yield E._isAvailable()))return!1;const D="true"===(yield E._get(g));return yield E._remove(g),D})).apply(this,arguments)}function kn(_,f){return wu.apply(this,arguments)}function wu(){return(wu=(0,p.Z)(function*(_,f){return Xs(_)._set(Ia(f),"true")})).apply(this,arguments)}function Xs(_){return Lt(_._redirectPersistence)}function Ia(_){return rr("pendingRedirect",_.config.apiKey,_.name)}function Gc(){return(Gc=(0,p.Z)(function*(_,f,g){const E=Rn(_);Pr(_,f,Qr);const D=Te(E,g);return yield kn(D,E),D._openRedirect(E,f,"signInViaRedirect")})).apply(this,arguments)}function as(){return(as=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);Pr(E.auth,f,Qr);const D=Te(E.auth,g);yield kn(D,E.auth);const N=yield ur(E);return D._openRedirect(E.auth,f,"reauthViaRedirect",N)})).apply(this,arguments)}function Vh(){return(Vh=(0,p.Z)(function*(_,f,g){const E=(0,k.m9)(_);Pr(E.auth,f,Qr);const D=Te(E.auth,g);yield qs(!1,E,f.providerId),yield kn(D,E.auth);const N=yield ur(E);return D._openRedirect(E.auth,f,"linkViaRedirect",N)})).apply(this,arguments)}function bu(){return(bu=(0,p.Z)(function*(_,f){return yield Rn(_)._initializationPromise,Uo(_,f,!1)})).apply(this,arguments)}function Uo(_,f){return Pl.apply(this,arguments)}function Pl(){return(Pl=(0,p.Z)(function*(_,f,g=!1){const E=Rn(_),D=Te(E,f),j=yield new Hc(E,D,g).execute();return j&&!g&&(delete j.user._redirectEventId,yield E._persistUserIfCurrent(j.user),yield E._setRedirectUser(null,f)),j})).apply(this,arguments)}function ur(_){return lr.apply(this,arguments)}function lr(){return(lr=(0,p.Z)(function*(_){const f=vr(`${_.uid}:::`);return _._redirectEventId=f,yield _.auth._setRedirectUser(_),yield _.auth._persistUserIfCurrent(_),f})).apply(this,arguments)}class Ta{constructor(f){this.auth=f,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(f){this.consumers.add(f),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,f)&&(this.sendToConsumer(this.queuedRedirectEvent,f),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(f){this.consumers.delete(f)}onEvent(f){if(this.hasEventBeenHandled(f))return!1;let g=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(f,E)&&(g=!0,this.sendToConsumer(f,E),this.saveEventToCache(f))}),this.hasHandledPotentialRedirect||!function(_){switch(_.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return av(_);default:return!1}}(f)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=f,g=!0)),g}sendToConsumer(f,g){var E;if(f.error&&!av(f)){const D=(null===(E=f.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";g.onError(St(this.auth,D))}else g.onAuthEvent(f)}isEventForConsumer(f,g){const E=null===g.eventId||!!f.eventId&&f.eventId===g.eventId;return g.filter.includes(f.type)&&E}hasEventBeenHandled(f){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Am(f))}saveEventToCache(f){this.cachedEventUids.add(Am(f)),this.lastProcessedEventTime=Date.now()}}function Am(_){return[_.type,_.eventId,_.sessionId,_.tenantId].filter(f=>f).join("-")}function av({type:_,error:f}){return"unknown"===_&&"auth/no-auth-event"===(null==f?void 0:f.code)}function Sm(_){return Nm.apply(this,arguments)}function Nm(){return(Nm=(0,p.Z)(function*(_,f={}){return bt(_,"GET","/v1/projects",f)})).apply(this,arguments)}const Ip=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Tp=/^https?/;function Da(){return(Da=(0,p.Z)(function*(_){if(_.config.emulator)return;const{authorizedDomains:f}=yield Sm(_);for(const g of f)try{if(Uh(g))return}catch(E){}$t(_,"unauthorized-domain")})).apply(this,arguments)}function Uh(_){const f=nt(),{protocol:g,hostname:E}=new URL(f);if(_.startsWith("chrome-extension://")){const j=new URL(_);return""===j.hostname&&""===E?"chrome-extension:"===g&&_.replace("chrome-extension://","")===f.replace("chrome-extension://",""):"chrome-extension:"===g&&j.hostname===E}if(!Tp.test(g))return!1;if(Ip.test(_))return E===_;const D=_.replace(/\./g,"\\.");return new RegExp("^(.+\\."+D+"|"+D+")$","i").test(E)}const kl=new Vt(3e4,6e4);function zc(){const _=xn().___jsl;if(null==_?void 0:_.H)for(const f of Object.keys(_.H))if(_.H[f].r=_.H[f].r||[],_.H[f].L=_.H[f].L||[],_.H[f].r=[..._.H[f].L],_.CP)for(let g=0;g<_.CP.length;g++)_.CP[g]=null}let Wc=null;function Kc(_){return Wc=Wc||function(_){return new Promise((f,g)=>{var E,D,N;function j(){zc(),gapi.load("gapi.iframes",{callback:()=>{f(gapi.iframes.getContext())},ontimeout:()=>{zc(),g(St(_,"network-request-failed"))},timeout:kl.get()})}if(null===(D=null===(E=xn().gapi)||void 0===E?void 0:E.iframes)||void 0===D?void 0:D.Iframe)f(gapi.iframes.getContext());else{if(!(null===(N=xn().gapi)||void 0===N?void 0:N.load)){const ne=Oh("iframefcb");return xn()[ne]=()=>{gapi.load?j():g(St(_,"network-request-failed"))},mu(`https://apis.google.com/js/api.js?onload=${ne}`)}j()}}).catch(f=>{throw Wc=null,f})}(_),Wc}const Ap=new Vt(5e3,15e3),Np={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true"},Aa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Bh(_){const f=_.config;De(f.authDomain,_,"auth-domain-config-required");const g=f.emulator?Ze(f,"emulator/auth/iframe"):`https://${_.config.authDomain}/__/auth/iframe`,E={apiKey:f.apiKey,appName:_.name,v:ce.SDK_VERSION},D=Aa.get(_.config.apiHost);D&&(E.eid=D);const N=_._getFrameworks();return N.length&&(E.fw=N.join(",")),`${g}?${(0,k.xO)(E).slice(1)}`}function Rp(){return(Rp=(0,p.Z)(function*(_){const f=yield Kc(_),g=xn().gapi;return De(g,_,"internal-error"),f.open({where:document.body,url:Bh(_),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Np,dontclear:!0},E=>new Promise(function(){var D=(0,p.Z)(function*(N,j){yield E.restyle({setHideOnLeave:!1});const ne=St(_,"network-request-failed"),Oe=xn().setTimeout(()=>{j(ne)},Ap.get());function Re(){xn().clearTimeout(Oe),N(E)}E.ping(Re).then(Re,()=>{j(ne)})});return function(N,j){return D.apply(this,arguments)}}()))})).apply(this,arguments)}const Ll={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Zc{constructor(f){this.window=f,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(f){}}}function Qc(_,f,g,E,D,N){De(_.config.authDomain,_,"auth-domain-config-required"),De(_.config.apiKey,_,"invalid-api-key");const j={apiKey:_.config.apiKey,appName:_.name,authType:g,redirectUrl:E,v:ce.SDK_VERSION,eventId:D};if(f instanceof Qr){f.setDefaultLanguage(_.languageCode),j.providerId=f.providerId||"",(0,k.xb)(f.getCustomParameters())||(j.customParameters=JSON.stringify(f.getCustomParameters()));for(const[Oe,Re]of Object.entries(N||{}))j[Oe]=Re}if(f instanceof Ji){const Oe=f.getScopes().filter(Re=>""!==Re);Oe.length>0&&(j.scopes=Oe.join(","))}_.tenantId&&(j.tid=_.tenantId);const ne=j;for(const Oe of Object.keys(ne))void 0===ne[Oe]&&delete ne[Oe];return`${function({config:_}){return _.emulator?Ze(_,"emulator/auth/handler"):`https://${_.authDomain}/__/auth/handler`}(_)}?${(0,k.xO)(ne).slice(1)}`}const Vl="webStorageSupport";class $h extends class{constructor(f){this.factorId=f}_process(f,g,E){switch(g.type){case"enroll":return this._finalizeEnroll(f,g.credential,E);case"signin":return this._finalizeSignIn(f,g.credential);default:return gr("unexpected MultiFactorSessionType")}}}{constructor(f){super("phone"),this.credential=f}static _fromCredential(f){return new $h(f)}_finalizeEnroll(f,g,E){return function(_,f){return bt(_,"POST","/v2/accounts/mfaEnrollment:finalize",Zt(_,f))}(f,{idToken:g,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(f,g){return function(_,f){return bt(_,"POST","/v2/accounts/mfaSignIn:finalize",Zt(_,f))}(f,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let $o=(()=>{class _{constructor(){}static assertion(g){return $h._fromCredential(g)}}return _.FACTOR_ID="phone",_})();var _,Xc="@firebase/auth";class Cu{constructor(f){this.auth=f,this.internalListeners=new Map}getUid(){var f;return this.assertAuthConfigured(),(null===(f=this.auth.currentUser)||void 0===f?void 0:f.uid)||null}getToken(f){var g=this;return(0,p.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(f)}:null})()}addAuthTokenListener(f){if(this.assertAuthConfigured(),this.internalListeners.has(f))return;const g=this.auth.onIdTokenChanged(E=>{var D;f((null===(D=E)||void 0===D?void 0:D.stsTokenManager.accessToken)||null)});this.internalListeners.set(f,g),this.updateProactiveRefresh()}removeAuthTokenListener(f){this.assertAuthConfigured();const g=this.internalListeners.get(f);!g||(this.internalListeners.delete(f),g(),this.updateProactiveRefresh())}assertAuthConfigured(){De(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Bl(){return window}function Iu(){return(Iu=(0,p.Z)(function*(_,f,g){var E;const{BuildInfo:D}=Bl();Un(f.sessionId,"AuthEvent did not contain a session ID");const N=yield Gh(f.sessionId),j={};return Zi()?j.ibi=D.packageName:bo()?j.apn=D.packageName:$t(_,"operation-not-supported-in-this-environment"),D.displayName&&(j.appDisplayName=D.displayName),j.sessionId=N,Qc(_,g,f.type,void 0,null!==(E=f.eventId)&&void 0!==E?E:void 0,j)})).apply(this,arguments)}function jl(){return(jl=(0,p.Z)(function*(_){const{BuildInfo:f}=Bl(),g={};Zi()?g.iosBundleId=f.packageName:bo()?g.androidPackageName=f.packageName:$t(_,"operation-not-supported-in-this-environment"),yield Sm(_,g)})).apply(this,arguments)}function Sa(){return(Sa=(0,p.Z)(function*(_,f,g){const{cordova:E}=Bl();let D=()=>{};try{yield new Promise((N,j)=>{let ne=null;function Oe(){var ze;N();const Mt=null===(ze=E.plugins.browsertab)||void 0===ze?void 0:ze.close;"function"==typeof Mt&&Mt(),"function"==typeof(null==g?void 0:g.close)&&g.close()}function Re(){ne||(ne=window.setTimeout(()=>{j(St(_,"redirect-cancelled-by-user"))},2e3))}function $e(){"visible"===(null==document?void 0:document.visibilityState)&&Re()}f.addPassiveListener(Oe),document.addEventListener("resume",Re,!1),bo()&&document.addEventListener("visibilitychange",$e,!1),D=()=>{f.removePassiveListener(Oe),document.removeEventListener("resume",Re,!1),document.removeEventListener("visibilitychange",$e,!1),ne&&window.clearTimeout(ne)}})}finally{D()}})).apply(this,arguments)}function Gh(_){return Tu.apply(this,arguments)}function Tu(){return(Tu=(0,p.Z)(function*(_){const f=Du(_),g=yield crypto.subtle.digest("SHA-256",f);return Array.from(new Uint8Array(g)).map(D=>D.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Du(_){if(Un(/[0-9a-zA-Z]+/.test(_),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(_);const f=new ArrayBuffer(_.length),g=new Uint8Array(f);for(let E=0;E<_.length;E++)g[E]=_.charCodeAt(E);return g}_="Browser",(0,ce._registerComponent)(new Ke.wA("auth",(f,{options:g})=>{const E=f.getProvider("app").getImmediate(),{apiKey:D,authDomain:N}=E.options;return(j=>{De(D&&!D.includes(":"),"invalid-api-key",{appName:j.name}),De(!(null==N?void 0:N.includes(":")),"argument-error",{appName:j.name});const ne={apiKey:D,authDomain:N,clientPlatform:_,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rl(_)},Oe=new ch(j,ne);return function(_,f){const g=(null==f?void 0:f.persistence)||[],E=(Array.isArray(g)?g:[g]).map(Lt);(null==f?void 0:f.errorMap)&&_._updateErrorMap(f.errorMap),_._initializeWithPersistence(E,null==f?void 0:f.popupRedirectResolver)}(Oe,g),Oe})(E)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((f,g,E)=>{f.getProvider("auth-internal").initialize()})),(0,ce._registerComponent)(new Ke.wA("auth-internal",f=>{const g=Rn(f.getProvider("auth").getImmediate());return new Cu(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ce.registerVersion)(Xc,"0.19.1",void 0),(0,ce.registerVersion)(Xc,"0.19.1","esm2017");class zh extends Ta{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(f=>{this.resolveInialized=f})}addPassiveListener(f){this.passiveListeners.add(f)}removePassiveListener(f){this.passiveListeners.delete(f)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(f){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(f)),super.onEvent(f)}initialized(){var f=this;return(0,p.Z)(function*(){yield f.initPromise})()}}function Kh(_){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,p.Z)(function*(_){const f=yield Ds()._get(ls(_));return f&&(yield Ds()._remove(ls(_))),f})).apply(this,arguments)}function fv(){const _=[],f="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const E=Math.floor(Math.random()*f.length);_.push(f.charAt(E))}return _.join("")}function Ds(){return Lt(ns)}function ls(_){return rr("authEvent",_.config.apiKey,_.name)}function Au(_){if(!(null==_?void 0:_.includes("?")))return{};const[f,...g]=_.split("?");return(0,k.zd)(g.join("?"))}function pv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:St("no-auth-event")}}function $l(){var _;return(null===(_=null==self?void 0:self.location)||void 0===_?void 0:_.protocol)||null}function Hl(_=(0,k.z$)()){return!("file:"!==$l()&&"ionic:"!==$l()||!_.toLowerCase().match(/iphone|ipad|ipod|android/))}function Fp(){try{const _=self.localStorage,f=vr();if(_)return _.setItem(f,"1"),_.removeItem(f),!function(_=(0,k.z$)()){return(0,k.w1)()&&11===(null==document?void 0:document.documentMode)||function(_=(0,k.z$)()){return/Edge\/\d+/.test(_)}(_)}()||(0,k.hl)()}catch(_){return rd()&&(0,k.hl)()}return!1}function rd(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Qh(){return("http:"===$l()||"https:"===$l()||(0,k.ru)()||Hl())&&!((0,k.b$)()||(0,k.UG)())&&Fp()&&!rd()}function Ra(){return Hl()&&"undefined"!=typeof document}function Lp(){return(Lp=(0,p.Z)(function*(){return!!Ra()&&new Promise(_=>{const f=setTimeout(()=>{_(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(f),_(!0)})})})).apply(this,arguments)}const yi={LOCAL:"local",NONE:"none",SESSION:"session"},Gl=De,id="persistence";function sd(_){return Jh.apply(this,arguments)}function Jh(){return(Jh=(0,p.Z)(function*(_){yield _._initializationPromise;const f=ql(),g=rr(id,_.config.apiKey,_.name);(null==f?void 0:f.sessionStorage)&&f.sessionStorage.setItem(g,_._getPersistence())})).apply(this,arguments)}function ql(){return"undefined"!=typeof window?window:null}const Bp=De;class xa{constructor(){this.browserResolver=Lt(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ar,this._completeRedirectFn=Uo}_openPopup(f,g,E,D){var N=this;return(0,p.Z)(function*(){var j;Un(null===(j=N.eventManagers[f._key()])||void 0===j?void 0:j.manager,"_initialize() not called before _openPopup()");const ne=Qc(f,g,E,nt(),D);return function(_,f,g,E=500,D=600){const N=Math.max((window.screen.availHeight-D)/2,0).toString(),j=Math.max((window.screen.availWidth-E)/2,0).toString();let ne="";const Oe=Object.assign(Object.assign({},Ll),{width:E.toString(),height:D.toString(),top:N,left:j}),Re=(0,k.z$)().toLowerCase();g&&(ne=Za(Re)?"_blank":g),aa(Re)&&(f=f||"http://localhost",Oe.scrollbars="yes");const $e=Object.entries(Oe).reduce((Mt,[Dn,to])=>`${Mt}${Dn}=${to},`,"");if(function(_=(0,k.z$)()){var f;return Zi(_)&&!!(null===(f=window.navigator)||void 0===f?void 0:f.standalone)}(Re)&&"_self"!==ne)return function(_,f){const g=document.createElement("a");g.href=_,g.target=f;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(E)}(f||"",ne),new Zc(null);const ze=window.open(f||"",ne,$e);De(ze,_,"popup-blocked");try{ze.focus()}catch(Mt){}return new Zc(ze)}(f,ne,vr())})()}_openRedirect(f,g,E,D){var N=this;return(0,p.Z)(function*(){return yield N._originValidation(f),_=Qc(f,g,E,nt(),D),xn().location.href=_,new Promise(()=>{});var _})()}_initialize(f){const g=f._key();if(this.eventManagers[g]){const{manager:D,promise:N}=this.eventManagers[g];return D?Promise.resolve(D):(Un(N,"If manager is not set, promise should be"),N)}const E=this.initAndGetManager(f);return this.eventManagers[g]={promise:E},E}initAndGetManager(f){var g=this;return(0,p.Z)(function*(){const E=yield function(_){return Rp.apply(this,arguments)}(f),D=new Ta(f);return E.register("authEvent",N=>(De(null==N?void 0:N.authEvent,f,"invalid-auth-event"),{status:D.onEvent(N.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[f._key()]={manager:D},g.iframes[f._key()]=E,D})()}_isIframeWebStorageSupported(f,g){this.iframes[f._key()].send(Vl,{type:Vl},D=>{var N;const j=null===(N=null==D?void 0:D[0])||void 0===N?void 0:N[Vl];void 0!==j&&g(!!j),$t(f,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return Da.apply(this,arguments)}(f)),this.originValidationPromises[g]}get _shouldInitProactively(){return ua()||mt()||Zi()}}),this.cordovaResolver=Lt(class{constructor(){this._redirectPersistence=ar,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Uo}_initialize(f){var g=this;return(0,p.Z)(function*(){const E=f._key();let D=g.eventManagers.get(E);return D||(D=new zh(f),g.eventManagers.set(E,D),g.attachCallbackListeners(f,D)),D})()}_openPopup(f){$t(f,"operation-not-supported-in-this-environment")}_openRedirect(f,g,E,D){var N=this;return(0,p.Z)(function*(){!function(_){var f,g,E,D,N,j,ne,Oe,Re,$e;const ze=Bl();De("function"==typeof(null===(f=null==ze?void 0:ze.universalLinks)||void 0===f?void 0:f.subscribe),_,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),De(void 0!==(null===(g=null==ze?void 0:ze.BuildInfo)||void 0===g?void 0:g.packageName),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),De("function"==typeof(null===(N=null===(D=null===(E=null==ze?void 0:ze.cordova)||void 0===E?void 0:E.plugins)||void 0===D?void 0:D.browsertab)||void 0===N?void 0:N.openUrl),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===(Oe=null===(ne=null===(j=null==ze?void 0:ze.cordova)||void 0===j?void 0:j.plugins)||void 0===ne?void 0:ne.browsertab)||void 0===Oe?void 0:Oe.isAvailable),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),De("function"==typeof(null===($e=null===(Re=null==ze?void 0:ze.cordova)||void 0===Re?void 0:Re.InAppBrowser)||void 0===$e?void 0:$e.open),_,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(f);const j=yield N._initialize(f);yield j.initialized(),j.resetRedirect(),Qs.clear(),yield N._originValidation(f);const ne=function(_,f,g=null){return{type:f,eventId:g,urlResponse:null,sessionId:fv(),postBody:null,tenantId:_.tenantId,error:St(_,"no-auth-event")}}(f,E,D);yield function(_,f){return Ds()._set(ls(_),f)}(f,ne);const Oe=yield function(_,f,g){return Iu.apply(this,arguments)}(f,ne,g),Re=yield function(_){const{cordova:f}=Bl();return new Promise(g=>{f.plugins.browsertab.isAvailable(E=>{let D=null;E?f.plugins.browsertab.openUrl(_):D=f.InAppBrowser.open(_,function(_=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(_)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(_)}()?"_blank":"_system","location=yes"),g(D)})})}(Oe);return function(_,f,g){return Sa.apply(this,arguments)}(f,j,Re)})()}_isIframeWebStorageSupported(f,g){throw new Error("Method not implemented.")}_originValidation(f){const g=f._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function(_){return jl.apply(this,arguments)}(f)),this.originValidationPromises[g]}attachCallbackListeners(f,g){const{universalLinks:E,handleOpenURL:D,BuildInfo:N}=Bl(),j=setTimeout((0,p.Z)(function*(){yield Kh(f),g.onEvent(pv())}),500),ne=function(){var $e=(0,p.Z)(function*(ze){clearTimeout(j);const Mt=yield Kh(f);let Dn=null;Mt&&(null==ze?void 0:ze.url)&&(Dn=function(_,f){var g,E;const D=function(_){const f=Au(_),g=f.link?decodeURIComponent(f.link):void 0,E=Au(g).link,D=f.deep_link_id?decodeURIComponent(f.deep_link_id):void 0;return Au(D).link||D||E||g||_}(f);if(D.includes("/__/auth/callback")){const N=Au(D),j=N.firebaseError?function(_){try{return JSON.parse(_)}catch(f){return null}}(decodeURIComponent(N.firebaseError)):null,ne=null===(E=null===(g=null==j?void 0:j.code)||void 0===g?void 0:g.split("auth/"))||void 0===E?void 0:E[1],Oe=ne?St(ne):null;return Oe?{type:_.type,eventId:_.eventId,tenantId:_.tenantId,error:Oe,urlResponse:null,sessionId:null,postBody:null}:{type:_.type,eventId:_.eventId,tenantId:_.tenantId,sessionId:_.sessionId,urlResponse:D,postBody:null}}return null}(Mt,ze.url)),g.onEvent(Dn||pv())});return function(Mt){return $e.apply(this,arguments)}}();void 0!==E&&"function"==typeof E.subscribe&&E.subscribe(null,ne);const Oe=D,Re=`${N.packageName.toLowerCase()}://`;Bl().handleOpenURL=function(){var $e=(0,p.Z)(function*(ze){if(ze.toLowerCase().startsWith(Re)&&ne({url:ze}),"function"==typeof Oe)try{Oe(ze)}catch(Mt){console.error(Mt)}});return function(ze){return $e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=ar,this._completeRedirectFn=Uo}_initialize(f){var g=this;return(0,p.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(f)})()}_openPopup(f,g,E,D){var N=this;return(0,p.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openPopup(f,g,E,D)})()}_openRedirect(f,g,E,D){var N=this;return(0,p.Z)(function*(){return yield N.selectUnderlyingResolver(),N.assertedUnderlyingResolver._openRedirect(f,g,E,D)})()}_isIframeWebStorageSupported(f,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(f,g)}_originValidation(f){return this.assertedUnderlyingResolver._originValidation(f)}get _shouldInitProactively(){return Ra()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Bp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var f=this;return(0,p.Z)(function*(){if(f.underlyingResolver)return;const g=yield function(){return Lp.apply(this,arguments)}();f.underlyingResolver=g?f.cordovaResolver:f.browserResolver})()}}function Nu(_){return _.unwrap()}function Xh(_){return ad(_)}function ad(_){const{_tokenResponse:f}=_ instanceof k.ZR?_.customData:_;if(!f)return null;if(!(_ instanceof k.ZR)&&"temporaryProof"in f&&"phoneNumber"in f)return oe.credentialFromResult(_);const g=f.providerId;if(!g||"password"===g)return null;let E;switch(g){case"google.com":E=nu;break;case"facebook.com":E=ol;break;case"github.com":E=vh;break;case"twitter.com":E=Lr;break;default:const{oauthIdToken:D,oauthAccessToken:N,oauthTokenSecret:j,pendingToken:ne,nonce:Oe}=f;return N||j||D||ne?ne?g.startsWith("saml.")?pa._create(g,ne):bn._fromParams({providerId:g,signInMethod:g,pendingToken:ne,idToken:D,accessToken:N}):new rn(g).credential({idToken:D,accessToken:N,rawNonce:Oe}):null}return _ instanceof k.ZR?E.credentialFromError(_):E.credentialFromResult(_)}function jr(_,f){return f.catch(g=>{throw g instanceof k.ZR&&function(_,f){var g;const E=null===(g=f.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===f.code)f.resolver=new zl(_,function(_,f){var g;const E=(0,k.m9)(_),D=f;return De(f.customData.operationType,E,"argument-error"),De(null===(g=D.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,E,"argument-error"),Cl._fromError(E,D)}(_,f));else if(E){const D=ad(f),N=f;D&&(N.credential=D,N.tenantId=E.tenantId||void 0,N.email=E.email||void 0,N.phoneNumber=E.phoneNumber||void 0)}}(_,g),g}).then(g=>{const D=g.user;return{operationType:g.operationType,credential:Xh(g),additionalUserInfo:_r(g),user:Go.getOrCreate(D)}})}function Ru(_,f){return Er.apply(this,arguments)}function Er(){return(Er=(0,p.Z)(function*(_,f){const g=yield f;return{verificationId:g.verificationId,confirm:E=>jr(_,g.confirm(E))}})).apply(this,arguments)}class zl{constructor(f,g){this.resolver=g,this.auth=function(_){return _.wrapped()}(f)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(f){return jr(Nu(this.auth),this.resolver.resolveSignIn(f))}}class Go{constructor(f){this._delegate=f,this.multiFactor=function(_){const f=(0,k.m9)(_);return Mo.has(f)||Mo.set(f,Tl._fromUser(f)),Mo.get(f)}(f)}static getOrCreate(f){return Go.USER_MAP.has(f)||Go.USER_MAP.set(f,new Go(f)),Go.USER_MAP.get(f)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(f){return this._delegate.getIdTokenResult(f)}getIdToken(f){return this._delegate.getIdToken(f)}linkAndRetrieveDataWithCredential(f){return this.linkWithCredential(f)}linkWithCredential(f){var g=this;return(0,p.Z)(function*(){return jr(g.auth,Cn(g._delegate,f))})()}linkWithPhoneNumber(f,g){var E=this;return(0,p.Z)(function*(){return Ru(E.auth,function(_,f,g){return xl.apply(this,arguments)}(E._delegate,f,g))})()}linkWithPopup(f){var g=this;return(0,p.Z)(function*(){return jr(g.auth,function(_,f,g){return Ml.apply(this,arguments)}(g._delegate,f,xa))})()}linkWithRedirect(f){var g=this;return(0,p.Z)(function*(){return yield sd(Rn(g.auth)),function(_,f,g){return function(_,f,g){return Vh.apply(this,arguments)}(_,f,g)}(g._delegate,f,xa)})()}reauthenticateAndRetrieveDataWithCredential(f){return this.reauthenticateWithCredential(f)}reauthenticateWithCredential(f){var g=this;return(0,p.Z)(function*(){return jr(g.auth,Ao(g._delegate,f))})()}reauthenticateWithPhoneNumber(f,g){return Ru(this.auth,function(_,f,g){return C.apply(this,arguments)}(this._delegate,f,g))}reauthenticateWithPopup(f){return jr(this.auth,function(_,f,g){return Vi.apply(this,arguments)}(this._delegate,f,xa))}reauthenticateWithRedirect(f){var g=this;return(0,p.Z)(function*(){return yield sd(Rn(g.auth)),function(_,f,g){return function(_,f,g){return as.apply(this,arguments)}(_,f,g)}(g._delegate,f,xa)})()}sendEmailVerification(f){return function(_,f){return Jr.apply(this,arguments)}(this._delegate,f)}unlink(f){var g=this;return(0,p.Z)(function*(){return yield function(_,f){return rt.apply(this,arguments)}(g._delegate,f),g})()}updateEmail(f){return function(_,f){return lu((0,k.m9)(_),f,null)}(this._delegate,f)}updatePassword(f){return function(_,f){return lu((0,k.m9)(_),null,f)}(this._delegate,f)}updatePhoneNumber(f){return function(_,f){return Y.apply(this,arguments)}(this._delegate,f)}updateProfile(f){return function(_,f){return jn.apply(this,arguments)}(this._delegate,f)}verifyBeforeUpdateEmail(f,g){return function(_,f,g){return So.apply(this,arguments)}(this._delegate,f,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Go.USER_MAP=new WeakMap;const mn=De;let ef=(()=>{class _{constructor(g,E){if(this.app=g,E.isInitialized())return this._delegate=E.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:D}=g.options;mn(D,"invalid-api-key",{appName:g.name});let N=[un];if("undefined"!=typeof window){N=function(_,f){const g=ql();if(!(null==g?void 0:g.sessionStorage))return[];const E=rr(id,_,f);switch(g.sessionStorage.getItem(E)){case yi.NONE:return[un];case yi.LOCAL:return[Qt,ar];case yi.SESSION:return[ar];default:return[]}}(D,g.name);for(const ne of[Qt,ns,ar])N.includes(ne)||N.push(ne)}mn(D,"invalid-api-key",{appName:g.name});const j="undefined"!=typeof window?xa:void 0;this._delegate=E.initialize({options:{persistence:N,popupRedirectResolver:j}}),this._delegate._updateErrorMap(Vs),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Go.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,E){!function(_,f,g){const E=Rn(_);De(E._canInitEmulator,E,"emulator-config-failed"),De(/^https?:\/\//.test(f),E,"invalid-emulator-scheme");const D=!!(null==g?void 0:g.disableWarnings),N=ir(f),{host:j,port:ne}=function(_){const f=ir(_),g=/(\/\/)?([^?#/]+)/.exec(_.substr(f.length));if(!g)return{host:"",port:null};const E=g[2].split("@").pop()||"",D=/^(\[[^\]]+\])(:|$)/.exec(E);if(D){const N=D[1];return{host:N,port:Yi(E.substr(N.length+1))}}{const[N,j]=E.split(":");return{host:N,port:Yi(j)}}}(f);E.config.emulator={url:`${N}//${j}${null===ne?"":`:${ne}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:j,port:ne,protocol:N.replace(":",""),options:Object.freeze({disableWarnings:D})}),D||function(){function _(){const f=document.createElement("p"),g=f.style;f.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",f.classList.add("firebase-emulator-warning"),document.body.appendChild(f)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",_):_())}()}(this._delegate,g,E)}applyActionCode(g){return function(_,f){return hl.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return fl(this._delegate,g)}confirmPasswordReset(g,E){return function(_,f,g){return Fi.apply(this,arguments)}(this._delegate,g,E)}createUserWithEmailAndPassword(g,E){var D=this;return(0,p.Z)(function*(){return jr(D._delegate,function(_,f,g){return gl.apply(this,arguments)}(D._delegate,g,E))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function(_,f){return hp.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function(_,f){const g=Gs.parseLink(f);return"EMAIL_SIGNIN"===(null==g?void 0:g.operation)}(0,g)}getRedirectResult(){var g=this;return(0,p.Z)(function*(){mn(Qh(),g._delegate,"operation-not-supported-in-this-environment");const E=yield function(_,f){return bu.apply(this,arguments)}(g._delegate,xa);return E?jr(g._delegate,Promise.resolve(E)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function(_,f){Rn(_)._logFramework(f)}(this._delegate,g)}onAuthStateChanged(g,E,D){const{next:N,error:j,complete:ne}=_v(g,E,D);return this._delegate.onAuthStateChanged(N,j,ne)}onIdTokenChanged(g,E,D){const{next:N,error:j,complete:ne}=_v(g,E,D);return this._delegate.onIdTokenChanged(N,j,ne)}sendSignInLinkToEmail(g,E){return function(_,f,g){return Cs.apply(this,arguments)}(this._delegate,g,E)}sendPasswordResetEmail(g,E){return function(_,f,g){return ma.apply(this,arguments)}(this._delegate,g,E||void 0)}setPersistence(g){var E=this;return(0,p.Z)(function*(){let D;switch(function(_,f){Gl(Object.values(yi).includes(f),_,"invalid-persistence-type"),(0,k.b$)()?Gl(f!==yi.SESSION,_,"unsupported-persistence-type"):(0,k.UG)()?Gl(f===yi.NONE,_,"unsupported-persistence-type"):rd()?Gl(f===yi.NONE||f===yi.LOCAL&&(0,k.hl)(),_,"unsupported-persistence-type"):Gl(f===yi.NONE||Fp(),_,"unsupported-persistence-type")}(E._delegate,g),g){case yi.SESSION:D=ar;break;case yi.LOCAL:D=(yield Lt(Qt)._isAvailable())?Qt:ns;break;case yi.NONE:D=un;break;default:return $t("argument-error",{appName:E._delegate.name})}return E._delegate.setPersistence(D)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return jr(this._delegate,function(_){return ga.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return jr(this._delegate,Tt(this._delegate,g))}signInWithCustomToken(g){return jr(this._delegate,function(_,f){return dl.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,E){return jr(this._delegate,function(_,f,g){return Tt((0,k.m9)(_),vs.credential(f,g))}(this._delegate,g,E))}signInWithEmailLink(g,E){return jr(this._delegate,function(_,f,g){return au.apply(this,arguments)}(this._delegate,g,E))}signInWithPhoneNumber(g,E){return Ru(this._delegate,function(_,f,g){return Eu.apply(this,arguments)}(this._delegate,g,E))}signInWithPopup(g){var E=this;return(0,p.Z)(function*(){return mn(Qh(),E._delegate,"operation-not-supported-in-this-environment"),jr(E._delegate,function(_,f,g){return Lo.apply(this,arguments)}(E._delegate,g,xa))})()}signInWithRedirect(g){var E=this;return(0,p.Z)(function*(){return mn(Qh(),E._delegate,"operation-not-supported-in-this-environment"),yield sd(E._delegate),function(_,f,g){return function(_,f,g){return Gc.apply(this,arguments)}(_,f,g)}(E._delegate,g,xa)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function(_,f){return _a.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return _.Persistence=yi,_})();function _v(_,f,g){let E=_;"function"!=typeof _&&({next:E,error:f,complete:g}=_);const D=E;return{next:j=>D(j&&Go.getOrCreate(j)),error:f,complete:g}}class tf{constructor(){this.providerId="phone",this._delegate=new oe(Nu(X.Z.auth()))}static credential(f,g){return oe.credential(f,g)}verifyPhoneNumber(f,g){return this._delegate.verifyPhoneNumber(f,g)}unwrap(){return this._delegate}}tf.PHONE_SIGN_IN_METHOD=oe.PHONE_SIGN_IN_METHOD,tf.PROVIDER_ID=oe.PROVIDER_ID;const vv=De;class Ev{constructor(f,g,E=X.Z.app()){var D;vv(null===(D=E.options)||void 0===D?void 0:D.apiKey,"invalid-api-key",{appName:E.name}),this._delegate=new Ys(f,g,E.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(_){_.INTERNAL.registerComponent(new Ke.wA("auth-compat",f=>{const g=f.getProvider("app-compat").getImmediate(),E=f.getProvider("auth");return new ef(g,E)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:vs,FacebookAuthProvider:ol,GithubAuthProvider:vh,GoogleAuthProvider:nu,OAuthProvider:rn,SAMLAuthProvider:To,PhoneAuthProvider:tf,PhoneMultiFactorGenerator:$o,RecaptchaVerifier:Ev,TwitterAuthProvider:Lr,Auth:ef,AuthCredential:Hs,Error:k.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),_.registerVersion("@firebase/auth-compat","0.2.1")}(X.Z)},6676:function(Je,be){!function(L){"use strict";function p(K){return Array.prototype.slice.call(K)}function X(K){return new Promise(function(_e,me){K.onsuccess=function(){_e(K.result)},K.onerror=function(){me(K.error)}})}function k(K,_e,me){var ge,Ne=new Promise(function(Ge,ke){X(ge=K[_e].apply(K,me)).then(Ge,ke)});return Ne.request=ge,Ne}function ce(K,_e,me){var ge=k(K,_e,me);return ge.then(function(Ne){if(Ne)return new F(Ne,ge.request)})}function re(K,_e,me){me.forEach(function(ge){Object.defineProperty(K.prototype,ge,{get:function(){return this[_e][ge]},set:function(Ne){this[_e][ge]=Ne}})})}function ie(K,_e,me,ge){ge.forEach(function(Ne){Ne in me.prototype&&(K.prototype[Ne]=function(){return k(this[_e],Ne,arguments)})})}function fe(K,_e,me,ge){ge.forEach(function(Ne){Ne in me.prototype&&(K.prototype[Ne]=function(){return this[_e][Ne].apply(this[_e],arguments)})})}function le(K,_e,me,ge){ge.forEach(function(Ne){Ne in me.prototype&&(K.prototype[Ne]=function(){return ce(this[_e],Ne,arguments)})})}function te(K){this._index=K}function F(K,_e){this._cursor=K,this._request=_e}function V(K){this._store=K}function Q(K){this._tx=K,this.complete=new Promise(function(_e,me){K.oncomplete=function(){_e()},K.onerror=function(){me(K.error)},K.onabort=function(){me(K.error)}})}function Z(K,_e,me){this._db=K,this.oldVersion=_e,this.transaction=new Q(me)}function ue(K){this._db=K}re(te,"_index",["name","keyPath","multiEntry","unique"]),ie(te,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),le(te,"_index",IDBIndex,["openCursor","openKeyCursor"]),re(F,"_cursor",["direction","key","primaryKey","value"]),ie(F,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(K){K in IDBCursor.prototype&&(F.prototype[K]=function(){var _e=this,me=arguments;return Promise.resolve().then(function(){return _e._cursor[K].apply(_e._cursor,me),X(_e._request).then(function(ge){if(ge)return new F(ge,_e._request)})})})}),V.prototype.createIndex=function(){return new te(this._store.createIndex.apply(this._store,arguments))},V.prototype.index=function(){return new te(this._store.index.apply(this._store,arguments))},re(V,"_store",["name","keyPath","indexNames","autoIncrement"]),ie(V,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),le(V,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),fe(V,"_store",IDBObjectStore,["deleteIndex"]),Q.prototype.objectStore=function(){return new V(this._tx.objectStore.apply(this._tx,arguments))},re(Q,"_tx",["objectStoreNames","mode"]),fe(Q,"_tx",IDBTransaction,["abort"]),Z.prototype.createObjectStore=function(){return new V(this._db.createObjectStore.apply(this._db,arguments))},re(Z,"_db",["name","version","objectStoreNames"]),fe(Z,"_db",IDBDatabase,["deleteObjectStore","close"]),ue.prototype.transaction=function(){return new Q(this._db.transaction.apply(this._db,arguments))},re(ue,"_db",["name","version","objectStoreNames"]),fe(ue,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(K){[V,te].forEach(function(_e){K in _e.prototype&&(_e.prototype[K.replace("open","iterate")]=function(){var me=p(arguments),ge=me[me.length-1],Ne=this._store||this._index,Ge=Ne[K].apply(Ne,me.slice(0,-1));Ge.onsuccess=function(){ge(Ge.result)}})})}),[te,V].forEach(function(K){K.prototype.getAll||(K.prototype.getAll=function(_e,me){var ge=this,Ne=[];return new Promise(function(Ge){ge.iterateCursor(_e,function(ke){ke?(Ne.push(ke.value),void 0===me||Ne.length!=me?ke.continue():Ge(Ne)):Ge(Ne)})})})}),L.openDb=function(K,_e,me){var ge=k(indexedDB,"open",[K,_e]),Ne=ge.request;return Ne&&(Ne.onupgradeneeded=function(Ge){me&&me(new Z(Ne.result,Ge.oldVersion,Ne.transaction))}),ge.then(function(Ge){return new ue(Ge)})},L.deleteDb=function(K){return k(indexedDB,"deleteDatabase",[K])},Object.defineProperty(L,"__esModule",{value:!0})}(be)},7574:(Je,be,L)=>{"use strict";L.d(be,{y:()=>V});var p=L(7393),k=L(9181),ce=L(6490),ie=L(6554),fe=L(4487);var F=L(2494);let V=(()=>{class Z{constructor(Ce){this._isScalar=!1,Ce&&(this._subscribe=Ce)}lift(Ce){const pe=new Z;return pe.source=this,pe.operator=Ce,pe}subscribe(Ce,pe,K){const{operator:_e}=this,me=function(Z,ue,Ce){if(Z){if(Z instanceof p.L)return Z;if(Z[k.b])return Z[k.b]()}return Z||ue||Ce?new p.L(Z,ue,Ce):new p.L(ce.c)}(Ce,pe,K);if(me.add(_e?_e.call(me,this.source):this.source||F.v.useDeprecatedSynchronousErrorHandling&&!me.syncErrorThrowable?this._subscribe(me):this._trySubscribe(me)),F.v.useDeprecatedSynchronousErrorHandling&&me.syncErrorThrowable&&(me.syncErrorThrowable=!1,me.syncErrorThrown))throw me.syncErrorValue;return me}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(pe){F.v.useDeprecatedSynchronousErrorHandling&&(Ce.syncErrorThrown=!0,Ce.syncErrorValue=pe),function(Z){for(;Z;){const{closed:ue,destination:Ce,isStopped:pe}=Z;if(ue||pe)return!1;Z=Ce&&Ce instanceof p.L?Ce:null}return!0}(Ce)?Ce.error(pe):console.warn(pe)}}forEach(Ce,pe){return new(pe=Q(pe))((K,_e)=>{let me;me=this.subscribe(ge=>{try{Ce(ge)}catch(Ne){_e(Ne),me&&me.unsubscribe()}},_e,K)})}_subscribe(Ce){const{source:pe}=this;return pe&&pe.subscribe(Ce)}[ie.L](){return this}pipe(...Ce){return 0===Ce.length?this:function(Z){return 0===Z.length?fe.y:1===Z.length?Z[0]:function(Ce){return Z.reduce((pe,K)=>K(pe),Ce)}}(Ce)(this)}toPromise(Ce){return new(Ce=Q(Ce))((pe,K)=>{let _e;this.subscribe(me=>_e=me,me=>K(me),()=>pe(_e))})}}return Z.create=ue=>new Z(ue),Z})();function Q(Z){if(Z||(Z=F.v.Promise||Promise),!Z)throw new Error("no Promise impl found");return Z}},6490:(Je,be,L)=>{"use strict";L.d(be,{c:()=>k});var p=L(2494),X=L(4449);const k={closed:!0,next(ce){},error(ce){if(p.v.useDeprecatedSynchronousErrorHandling)throw ce;(0,X.z)(ce)},complete(){}}},9765:(Je,be,L)=>{"use strict";L.d(be,{Yc:()=>fe,xQ:()=>le});var p=L(7574),X=L(7393),k=L(5319),ce=L(7971),re=L(8858),ie=L(9181);class fe extends X.L{constructor(V){super(V),this.destination=V}}let le=(()=>{class F extends p.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[ie.b](){return new fe(this)}lift(Q){const Z=new te(this,this);return Z.operator=Q,Z}next(Q){if(this.closed)throw new ce.N;if(!this.isStopped){const{observers:Z}=this,ue=Z.length,Ce=Z.slice();for(let pe=0;pe<ue;pe++)Ce[pe].next(Q)}}error(Q){if(this.closed)throw new ce.N;this.hasError=!0,this.thrownError=Q,this.isStopped=!0;const{observers:Z}=this,ue=Z.length,Ce=Z.slice();for(let pe=0;pe<ue;pe++)Ce[pe].error(Q);this.observers.length=0}complete(){if(this.closed)throw new ce.N;this.isStopped=!0;const{observers:Q}=this,Z=Q.length,ue=Q.slice();for(let Ce=0;Ce<Z;Ce++)ue[Ce].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(Q){if(this.closed)throw new ce.N;return super._trySubscribe(Q)}_subscribe(Q){if(this.closed)throw new ce.N;return this.hasError?(Q.error(this.thrownError),k.w.EMPTY):this.isStopped?(Q.complete(),k.w.EMPTY):(this.observers.push(Q),new re.W(this,Q))}asObservable(){const Q=new p.y;return Q.source=this,Q}}return F.create=(V,Q)=>new te(V,Q),F})();class te extends le{constructor(V,Q){super(),this.destination=V,this.source=Q}next(V){const{destination:Q}=this;Q&&Q.next&&Q.next(V)}error(V){const{destination:Q}=this;Q&&Q.error&&this.destination.error(V)}complete(){const{destination:V}=this;V&&V.complete&&this.destination.complete()}_subscribe(V){const{source:Q}=this;return Q?this.source.subscribe(V):k.w.EMPTY}}},8858:(Je,be,L)=>{"use strict";L.d(be,{W:()=>X});var p=L(5319);class X extends p.w{constructor(ce,re){super(),this.subject=ce,this.subscriber=re,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const ce=this.subject,re=ce.observers;if(this.subject=null,!re||0===re.length||ce.isStopped||ce.closed)return;const ie=re.indexOf(this.subscriber);-1!==ie&&re.splice(ie,1)}}},7393:(Je,be,L)=>{"use strict";L.d(be,{L:()=>fe});var p=L(9105),X=L(6490),k=L(5319),ce=L(9181),re=L(2494),ie=L(4449);class fe extends k.w{constructor(F,V,Q){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=X.c;break;case 1:if(!F){this.destination=X.c;break}if("object"==typeof F){F instanceof fe?(this.syncErrorThrowable=F.syncErrorThrowable,this.destination=F,F.add(this)):(this.syncErrorThrowable=!0,this.destination=new le(this,F));break}default:this.syncErrorThrowable=!0,this.destination=new le(this,F,V,Q)}}[ce.b](){return this}static create(F,V,Q){const Z=new fe(F,V,Q);return Z.syncErrorThrowable=!1,Z}next(F){this.isStopped||this._next(F)}error(F){this.isStopped||(this.isStopped=!0,this._error(F))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(F){this.destination.next(F)}_error(F){this.destination.error(F),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:F}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=F,this}}class le extends fe{constructor(F,V,Q,Z){super(),this._parentSubscriber=F;let ue,Ce=this;(0,p.m)(V)?ue=V:V&&(ue=V.next,Q=V.error,Z=V.complete,V!==X.c&&(Ce=Object.create(V),(0,p.m)(Ce.unsubscribe)&&this.add(Ce.unsubscribe.bind(Ce)),Ce.unsubscribe=this.unsubscribe.bind(this))),this._context=Ce,this._next=ue,this._error=Q,this._complete=Z}next(F){if(!this.isStopped&&this._next){const{_parentSubscriber:V}=this;re.v.useDeprecatedSynchronousErrorHandling&&V.syncErrorThrowable?this.__tryOrSetError(V,this._next,F)&&this.unsubscribe():this.__tryOrUnsub(this._next,F)}}error(F){if(!this.isStopped){const{_parentSubscriber:V}=this,{useDeprecatedSynchronousErrorHandling:Q}=re.v;if(this._error)Q&&V.syncErrorThrowable?(this.__tryOrSetError(V,this._error,F),this.unsubscribe()):(this.__tryOrUnsub(this._error,F),this.unsubscribe());else if(V.syncErrorThrowable)Q?(V.syncErrorValue=F,V.syncErrorThrown=!0):(0,ie.z)(F),this.unsubscribe();else{if(this.unsubscribe(),Q)throw F;(0,ie.z)(F)}}}complete(){if(!this.isStopped){const{_parentSubscriber:F}=this;if(this._complete){const V=()=>this._complete.call(this._context);re.v.useDeprecatedSynchronousErrorHandling&&F.syncErrorThrowable?(this.__tryOrSetError(F,V),this.unsubscribe()):(this.__tryOrUnsub(V),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(F,V){try{F.call(this._context,V)}catch(Q){if(this.unsubscribe(),re.v.useDeprecatedSynchronousErrorHandling)throw Q;(0,ie.z)(Q)}}__tryOrSetError(F,V,Q){if(!re.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{V.call(this._context,Q)}catch(Z){return re.v.useDeprecatedSynchronousErrorHandling?(F.syncErrorValue=Z,F.syncErrorThrown=!0,!0):((0,ie.z)(Z),!0)}return!1}_unsubscribe(){const{_parentSubscriber:F}=this;this._context=null,this._parentSubscriber=null,F.unsubscribe()}}},5319:(Je,be,L)=>{"use strict";L.d(be,{w:()=>ie});var p=L(9796),X=L(1555),k=L(9105);const re=(()=>{function le(te){return Error.call(this),this.message=te?`${te.length} errors occurred during unsubscription:\n${te.map((F,V)=>`${V+1}) ${F.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=te,this}return le.prototype=Object.create(Error.prototype),le})();class ie{constructor(te){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,te&&(this._ctorUnsubscribe=!0,this._unsubscribe=te)}unsubscribe(){let te;if(this.closed)return;let{_parentOrParents:F,_ctorUnsubscribe:V,_unsubscribe:Q,_subscriptions:Z}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,F instanceof ie)F.remove(this);else if(null!==F)for(let ue=0;ue<F.length;++ue)F[ue].remove(this);if((0,k.m)(Q)){V&&(this._unsubscribe=void 0);try{Q.call(this)}catch(ue){te=ue instanceof re?fe(ue.errors):[ue]}}if((0,p.k)(Z)){let ue=-1,Ce=Z.length;for(;++ue<Ce;){const pe=Z[ue];if((0,X.K)(pe))try{pe.unsubscribe()}catch(K){te=te||[],K instanceof re?te=te.concat(fe(K.errors)):te.push(K)}}}if(te)throw new re(te)}add(te){let F=te;if(!te)return ie.EMPTY;switch(typeof te){case"function":F=new ie(te);case"object":if(F===this||F.closed||"function"!=typeof F.unsubscribe)return F;if(this.closed)return F.unsubscribe(),F;if(!(F instanceof ie)){const Z=F;F=new ie,F._subscriptions=[Z]}break;default:throw new Error("unrecognized teardown "+te+" added to Subscription.")}let{_parentOrParents:V}=F;if(null===V)F._parentOrParents=this;else if(V instanceof ie){if(V===this)return F;F._parentOrParents=[V,this]}else{if(-1!==V.indexOf(this))return F;V.push(this)}const Q=this._subscriptions;return null===Q?this._subscriptions=[F]:Q.push(F),F}remove(te){const F=this._subscriptions;if(F){const V=F.indexOf(te);-1!==V&&F.splice(V,1)}}}var le;function fe(le){return le.reduce((te,F)=>te.concat(F instanceof re?F.errors:F),[])}ie.EMPTY=((le=new ie).closed=!0,le)},2494:(Je,be,L)=>{"use strict";L.d(be,{v:()=>X});let p=!1;const X={Promise:void 0,set useDeprecatedSynchronousErrorHandling(k){if(k){const ce=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+ce.stack)}else p&&console.log("RxJS: Back to a better error behavior. Thank you. <3");p=k},get useDeprecatedSynchronousErrorHandling(){return p}}},5345:(Je,be,L)=>{"use strict";L.d(be,{IY:()=>ce,Ds:()=>ie,ft:()=>le});var p=L(7393),X=L(7574),k=L(7444);class ce extends p.L{constructor(F){super(),this.parent=F}_next(F){this.parent.notifyNext(F)}_error(F){this.parent.notifyError(F),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class ie extends p.L{notifyNext(F){this.destination.next(F)}notifyError(F){this.destination.error(F)}notifyComplete(){this.destination.complete()}}function le(te,F){if(F.closed)return;if(te instanceof X.y)return te.subscribe(F);let V;try{V=(0,k.s)(te)(F)}catch(Q){F.error(Q)}return V}},2441:(Je,be,L)=>{"use strict";L.d(be,{c:()=>re,N:()=>ie});var p=L(9765),X=L(7574),k=L(5319),ce=L(1307);class re extends X.y{constructor(V,Q){super(),this.source=V,this.subjectFactory=Q,this._refCount=0,this._isComplete=!1}_subscribe(V){return this.getSubject().subscribe(V)}getSubject(){const V=this._subject;return(!V||V.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let V=this._connection;return V||(this._isComplete=!1,V=this._connection=new k.w,V.add(this.source.subscribe(new fe(this.getSubject(),this))),V.closed&&(this._connection=null,V=k.w.EMPTY)),V}refCount(){return(0,ce.x)()(this)}}const ie=(()=>{const F=re.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:F._subscribe},_isComplete:{value:F._isComplete,writable:!0},getSubject:{value:F.getSubject},connect:{value:F.connect},refCount:{value:F.refCount}}})();class fe extends p.Yc{constructor(V,Q){super(V),this.connectable=Q}_error(V){this._unsubscribe(),super._error(V)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const V=this.connectable;if(V){this.connectable=null;const Q=V._connection;V._refCount=0,V._subject=null,V._connection=null,Q&&Q.unsubscribe()}}}},9193:(Je,be,L)=>{"use strict";L.d(be,{E:()=>X,c:()=>k});var p=L(7574);const X=new p.y(re=>re.complete());function k(re){return re?function(re){return new p.y(ie=>re.schedule(()=>ie.complete()))}(re):X}},4402:(Je,be,L)=>{"use strict";L.d(be,{D:()=>Ce});var p=L(7574),X=L(7444),k=L(5319),ce=L(6554),fe=L(4087),le=L(377),V=L(4072),Q=L(9489);function Ce(pe,K){return K?function(pe,K){if(null!=pe){if(function(pe){return pe&&"function"==typeof pe[ce.L]}(pe))return function(pe,K){return new p.y(_e=>{const me=new k.w;return me.add(K.schedule(()=>{const ge=pe[ce.L]();me.add(ge.subscribe({next(Ne){me.add(K.schedule(()=>_e.next(Ne)))},error(Ne){me.add(K.schedule(()=>_e.error(Ne)))},complete(){me.add(K.schedule(()=>_e.complete()))}}))})),me})}(pe,K);if((0,V.t)(pe))return function(pe,K){return new p.y(_e=>{const me=new k.w;return me.add(K.schedule(()=>pe.then(ge=>{me.add(K.schedule(()=>{_e.next(ge),me.add(K.schedule(()=>_e.complete()))}))},ge=>{me.add(K.schedule(()=>_e.error(ge)))}))),me})}(pe,K);if((0,Q.z)(pe))return(0,fe.r)(pe,K);if(function(pe){return pe&&"function"==typeof pe[le.hZ]}(pe)||"string"==typeof pe)return function(pe,K){if(!pe)throw new Error("Iterable cannot be null");return new p.y(_e=>{const me=new k.w;let ge;return me.add(()=>{ge&&"function"==typeof ge.return&&ge.return()}),me.add(K.schedule(()=>{ge=pe[le.hZ](),me.add(K.schedule(function(){if(_e.closed)return;let Ne,Ge;try{const ke=ge.next();Ne=ke.value,Ge=ke.done}catch(ke){return void _e.error(ke)}Ge?_e.complete():(_e.next(Ne),this.schedule())}))})),me})}(pe,K)}throw new TypeError((null!==pe&&typeof pe||pe)+" is not observable")}(pe,K):pe instanceof p.y?pe:new p.y((0,X.s)(pe))}},6693:(Je,be,L)=>{"use strict";L.d(be,{n:()=>ce});var p=L(7574),X=L(5015),k=L(4087);function ce(re,ie){return ie?(0,k.r)(re,ie):new p.y((0,X.V)(re))}},6682:(Je,be,L)=>{"use strict";L.d(be,{T:()=>re});var p=L(7574),X=L(4869),k=L(3282),ce=L(6693);function re(...ie){let fe=Number.POSITIVE_INFINITY,le=null,te=ie[ie.length-1];return(0,X.K)(te)?(le=ie.pop(),ie.length>1&&"number"==typeof ie[ie.length-1]&&(fe=ie.pop())):"number"==typeof te&&(fe=ie.pop()),null===le&&1===ie.length&&ie[0]instanceof p.y?ie[0]:(0,k.J)(fe)((0,ce.n)(ie,le))}},5917:(Je,be,L)=>{"use strict";L.d(be,{of:()=>ce});var p=L(4869),X=L(6693),k=L(4087);function ce(...re){let ie=re[re.length-1];return(0,p.K)(ie)?(re.pop(),(0,k.r)(re,ie)):(0,X.n)(re)}},8002:(Je,be,L)=>{"use strict";L.d(be,{U:()=>X});var p=L(7393);function X(re,ie){return function(le){if("function"!=typeof re)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return le.lift(new k(re,ie))}}class k{constructor(ie,fe){this.project=ie,this.thisArg=fe}call(ie,fe){return fe.subscribe(new ce(ie,this.project,this.thisArg))}}class ce extends p.L{constructor(ie,fe,le){super(ie),this.project=fe,this.count=0,this.thisArg=le||this}_next(ie){let fe;try{fe=this.project.call(this.thisArg,ie,this.count++)}catch(le){return void this.destination.error(le)}this.destination.next(fe)}}},3282:(Je,be,L)=>{"use strict";L.d(be,{J:()=>k});var p=L(9773),X=L(4487);function k(ce=Number.POSITIVE_INFINITY){return(0,p.zg)(X.y,ce)}},9773:(Je,be,L)=>{"use strict";L.d(be,{zg:()=>ce});var p=L(8002),X=L(4402),k=L(5345);function ce(le,te,F=Number.POSITIVE_INFINITY){return"function"==typeof te?V=>V.pipe(ce((Q,Z)=>(0,X.D)(le(Q,Z)).pipe((0,p.U)((ue,Ce)=>te(Q,ue,Z,Ce))),F)):("number"==typeof te&&(F=te),V=>V.lift(new re(le,F)))}class re{constructor(te,F=Number.POSITIVE_INFINITY){this.project=te,this.concurrent=F}call(te,F){return F.subscribe(new ie(te,this.project,this.concurrent))}}class ie extends k.Ds{constructor(te,F,V=Number.POSITIVE_INFINITY){super(te),this.project=F,this.concurrent=V,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(te){this.active<this.concurrent?this._tryNext(te):this.buffer.push(te)}_tryNext(te){let F;const V=this.index++;try{F=this.project(te,V)}catch(Q){return void this.destination.error(Q)}this.active++,this._innerSub(F)}_innerSub(te){const F=new k.IY(this),V=this.destination;V.add(F);const Q=(0,k.ft)(te,F);Q!==F&&V.add(Q)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(te){this.destination.next(te)}notifyComplete(){const te=this.buffer;this.active--,te.length>0?this._next(te.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:(Je,be,L)=>{"use strict";L.d(be,{ht:()=>V,QV:()=>te});var p=L(7393),X=L(9193),k=L(5917),ce=L(7574);class le{constructor(ue,Ce,pe){this.kind=ue,this.value=Ce,this.error=pe,this.hasValue="N"===ue}observe(ue){switch(this.kind){case"N":return ue.next&&ue.next(this.value);case"E":return ue.error&&ue.error(this.error);case"C":return ue.complete&&ue.complete()}}do(ue,Ce,pe){switch(this.kind){case"N":return ue&&ue(this.value);case"E":return Ce&&Ce(this.error);case"C":return pe&&pe()}}accept(ue,Ce,pe){return ue&&"function"==typeof ue.next?this.observe(ue):this.do(ue,Ce,pe)}toObservable(){switch(this.kind){case"N":return(0,k.of)(this.value);case"E":return Z=this.error,new ce.y(Ce=>Ce.error(Z));case"C":return(0,X.c)()}var Z;throw new Error("unexpected notification kind value")}static createNext(ue){return void 0!==ue?new le("N",ue):le.undefinedValueNotification}static createError(ue){return new le("E",void 0,ue)}static createComplete(){return le.completeNotification}}function te(Z,ue=0){return function(pe){return pe.lift(new F(Z,ue))}}le.completeNotification=new le("C"),le.undefinedValueNotification=new le("N",void 0);class F{constructor(ue,Ce=0){this.scheduler=ue,this.delay=Ce}call(ue,Ce){return Ce.subscribe(new V(ue,this.scheduler,this.delay))}}class V extends p.L{constructor(ue,Ce,pe=0){super(ue),this.scheduler=Ce,this.delay=pe}static dispatch(ue){const{notification:Ce,destination:pe}=ue;Ce.observe(pe),this.unsubscribe()}scheduleMessage(ue){this.destination.add(this.scheduler.schedule(V.dispatch,this.delay,new Q(ue,this.destination)))}_next(ue){this.scheduleMessage(le.createNext(ue))}_error(ue){this.scheduleMessage(le.createError(ue)),this.unsubscribe()}_complete(){this.scheduleMessage(le.createComplete()),this.unsubscribe()}}class Q{constructor(ue,Ce){this.notification=ue,this.destination=Ce}}},1307:(Je,be,L)=>{"use strict";L.d(be,{x:()=>X});var p=L(7393);function X(){return function(ie){return ie.lift(new k(ie))}}class k{constructor(ie){this.connectable=ie}call(ie,fe){const{connectable:le}=this;le._refCount++;const te=new ce(ie,le),F=fe.subscribe(te);return te.closed||(te.connection=le.connect()),F}}class ce extends p.L{constructor(ie,fe){super(ie),this.connectable=fe}_unsubscribe(){const{connectable:ie}=this;if(!ie)return void(this.connection=null);this.connectable=null;const fe=ie._refCount;if(fe<=0)return void(this.connection=null);if(ie._refCount=fe-1,fe>1)return void(this.connection=null);const{connection:le}=this,te=ie._connection;this.connection=null,te&&(!le||te===le)&&te.unsubscribe()}}},3101:(Je,be,L)=>{"use strict";L.d(be,{R:()=>K});var p=L(7574);let X=1;const k=Promise.resolve(),ce={};function re(me){return me in ce&&(delete ce[me],!0)}const ie={setImmediate(me){const ge=X++;return ce[ge]=!0,k.then(()=>re(ge)&&me()),ge},clearImmediate(me){re(me)}};var le=L(6465),F=L(6102);const Z=new class extends F.v{flush(ge){this.active=!0,this.scheduled=void 0;const{actions:Ne}=this;let Ge,ke=-1,Pt=Ne.length;ge=ge||Ne.shift();do{if(Ge=ge.execute(ge.state,ge.delay))break}while(++ke<Pt&&(ge=Ne.shift()));if(this.active=!1,Ge){for(;++ke<Pt&&(ge=Ne.shift());)ge.unsubscribe();throw Ge}}}(class extends le.o{constructor(ge,Ne){super(ge,Ne),this.scheduler=ge,this.work=Ne}requestAsyncId(ge,Ne,Ge=0){return null!==Ge&&Ge>0?super.requestAsyncId(ge,Ne,Ge):(ge.actions.push(this),ge.scheduled||(ge.scheduled=ie.setImmediate(ge.flush.bind(ge,null))))}recycleAsyncId(ge,Ne,Ge=0){if(null!==Ge&&Ge>0||null===Ge&&this.delay>0)return super.recycleAsyncId(ge,Ne,Ge);0===ge.actions.length&&(ie.clearImmediate(Ne),ge.scheduled=void 0)}});var ue=L(9796);class pe extends p.y{constructor(ge,Ne=0,Ge=Z){var me;super(),this.source=ge,this.delayTime=Ne,this.scheduler=Ge,(!(!(0,ue.k)(me=Ne)&&me-parseFloat(me)+1>=0)||Ne<0)&&(this.delayTime=0),(!Ge||"function"!=typeof Ge.schedule)&&(this.scheduler=Z)}static create(ge,Ne=0,Ge=Z){return new pe(ge,Ne,Ge)}static dispatch(ge){const{source:Ne,subscriber:Ge}=ge;return this.add(Ne.subscribe(Ge))}_subscribe(ge){return this.scheduler.schedule(pe.dispatch,this.delayTime,{source:this.source,subscriber:ge})}}function K(me,ge=0){return function(Ge){return Ge.lift(new _e(me,ge))}}class _e{constructor(ge,Ne){this.scheduler=ge,this.delay=Ne}call(ge,Ne){return new pe(Ne,this.delay,this.scheduler).subscribe(ge)}}},3342:(Je,be,L)=>{"use strict";L.d(be,{b:()=>ce});var p=L(7393);function X(){}var k=L(9105);function ce(fe,le,te){return function(V){return V.lift(new re(fe,le,te))}}class re{constructor(le,te,F){this.nextOrObserver=le,this.error=te,this.complete=F}call(le,te){return te.subscribe(new ie(le,this.nextOrObserver,this.error,this.complete))}}class ie extends p.L{constructor(le,te,F,V){super(le),this._tapNext=X,this._tapError=X,this._tapComplete=X,this._tapError=F||X,this._tapComplete=V||X,(0,k.m)(te)?(this._context=this,this._tapNext=te):te&&(this._context=te,this._tapNext=te.next||X,this._tapError=te.error||X,this._tapComplete=te.complete||X)}_next(le){try{this._tapNext.call(this._context,le)}catch(te){return void this.destination.error(te)}this.destination.next(le)}_error(le){try{this._tapError.call(this._context,le)}catch(te){return void this.destination.error(te)}this.destination.error(le)}_complete(){try{this._tapComplete.call(this._context)}catch(le){return void this.destination.error(le)}return this.destination.complete()}}},4087:(Je,be,L)=>{"use strict";L.d(be,{r:()=>k});var p=L(7574),X=L(5319);function k(ce,re){return new p.y(ie=>{const fe=new X.w;let le=0;return fe.add(re.schedule(function(){le!==ce.length?(ie.next(ce[le++]),ie.closed||fe.add(this.schedule())):ie.complete()})),fe})}},6465:(Je,be,L)=>{"use strict";L.d(be,{o:()=>k});var p=L(5319);class X extends p.w{constructor(re,ie){super()}schedule(re,ie=0){return this}}class k extends X{constructor(re,ie){super(re,ie),this.scheduler=re,this.work=ie,this.pending=!1}schedule(re,ie=0){if(this.closed)return this;this.state=re;const fe=this.id,le=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(le,fe,ie)),this.pending=!0,this.delay=ie,this.id=this.id||this.requestAsyncId(le,this.id,ie),this}requestAsyncId(re,ie,fe=0){return setInterval(re.flush.bind(re,this),fe)}recycleAsyncId(re,ie,fe=0){if(null!==fe&&this.delay===fe&&!1===this.pending)return ie;clearInterval(ie)}execute(re,ie){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const fe=this._execute(re,ie);if(fe)return fe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(re,ie){let le,fe=!1;try{this.work(re)}catch(te){fe=!0,le=!!te&&te||new Error(te)}if(fe)return this.unsubscribe(),le}_unsubscribe(){const re=this.id,ie=this.scheduler,fe=ie.actions,le=fe.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==le&&fe.splice(le,1),null!=re&&(this.id=this.recycleAsyncId(ie,re,null)),this.delay=null}}},6102:(Je,be,L)=>{"use strict";L.d(be,{v:()=>X});let p=(()=>{class k{constructor(re,ie=k.now){this.SchedulerAction=re,this.now=ie}schedule(re,ie=0,fe){return new this.SchedulerAction(this,re).schedule(fe,ie)}}return k.now=()=>Date.now(),k})();class X extends p{constructor(ce,re=p.now){super(ce,()=>X.delegate&&X.delegate!==this?X.delegate.now():re()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(ce,re=0,ie){return X.delegate&&X.delegate!==this?X.delegate.schedule(ce,re,ie):super.schedule(ce,re,ie)}flush(ce){const{actions:re}=this;if(this.active)return void re.push(ce);let ie;this.active=!0;do{if(ie=ce.execute(ce.state,ce.delay))break}while(ce=re.shift());if(this.active=!1,ie){for(;ce=re.shift();)ce.unsubscribe();throw ie}}}},3637:(Je,be,L)=>{"use strict";L.d(be,{z:()=>k});var p=L(6465);const k=new(L(6102).v)(p.o)},7771:(Je,be,L)=>{"use strict";L.d(be,{c:()=>ie,N:()=>re});var p=L(6465),k=L(6102);const re=new class extends k.v{}(class extends p.o{constructor(le,te){super(le,te),this.scheduler=le,this.work=te}schedule(le,te=0){return te>0?super.schedule(le,te):(this.delay=te,this.state=le,this.scheduler.flush(this),this)}execute(le,te){return te>0||this.closed?super.execute(le,te):this._execute(le,te)}requestAsyncId(le,te,F=0){return null!==F&&F>0||null===F&&this.delay>0?super.requestAsyncId(le,te,F):le.flush(this)}}),ie=re},377:(Je,be,L)=>{"use strict";L.d(be,{hZ:()=>X});const X="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(Je,be,L)=>{"use strict";L.d(be,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(Je,be,L)=>{"use strict";L.d(be,{b:()=>p});const p="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(Je,be,L)=>{"use strict";L.d(be,{N:()=>X});const X=(()=>{function k(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return k.prototype=Object.create(Error.prototype),k})()},4449:(Je,be,L)=>{"use strict";function p(X){setTimeout(()=>{throw X},0)}L.d(be,{z:()=>p})},4487:(Je,be,L)=>{"use strict";function p(X){return X}L.d(be,{y:()=>p})},9796:(Je,be,L)=>{"use strict";L.d(be,{k:()=>p});const p=Array.isArray||(X=>X&&"number"==typeof X.length)},9489:(Je,be,L)=>{"use strict";L.d(be,{z:()=>p});const p=X=>X&&"number"==typeof X.length&&"function"!=typeof X},9105:(Je,be,L)=>{"use strict";function p(X){return"function"==typeof X}L.d(be,{m:()=>p})},1555:(Je,be,L)=>{"use strict";function p(X){return null!==X&&"object"==typeof X}L.d(be,{K:()=>p})},4072:(Je,be,L)=>{"use strict";function p(X){return!!X&&"function"!=typeof X.subscribe&&"function"==typeof X.then}L.d(be,{t:()=>p})},4869:(Je,be,L)=>{"use strict";function p(X){return X&&"function"==typeof X.schedule}L.d(be,{K:()=>p})},7444:(Je,be,L)=>{"use strict";L.d(be,{s:()=>V});var p=L(5015),X=L(4449),ce=L(377),ie=L(6554),le=L(9489),te=L(4072),F=L(1555);const V=Q=>{if(Q&&"function"==typeof Q[ie.L])return(Q=>Z=>{const ue=Q[ie.L]();if("function"!=typeof ue.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ue.subscribe(Z)})(Q);if((0,le.z)(Q))return(0,p.V)(Q);if((0,te.t)(Q))return(Q=>Z=>(Q.then(ue=>{Z.closed||(Z.next(ue),Z.complete())},ue=>Z.error(ue)).then(null,X.z),Z))(Q);if(Q&&"function"==typeof Q[ce.hZ])return(Q=>Z=>{const ue=Q[ce.hZ]();for(;;){let Ce;try{Ce=ue.next()}catch(pe){return Z.error(pe),Z}if(Ce.done){Z.complete();break}if(Z.next(Ce.value),Z.closed)break}return"function"==typeof ue.return&&Z.add(()=>{ue.return&&ue.return()}),Z})(Q);{const ue=`You provided ${(0,F.K)(Q)?"an invalid object":`'${Q}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ue)}}},5015:(Je,be,L)=>{"use strict";L.d(be,{V:()=>p});const p=X=>k=>{for(let ce=0,re=X.length;ce<re&&!k.closed;ce++)k.next(X[ce]);k.complete()}},6564:(Je,be,L)=>{"use strict";var p=L(3018);let X=null;function k(){return X}const fe=new p.OlP("DocumentToken");let le=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,p.Yz7)({factory:te,token:n,providedIn:"platform"}),n})();function te(){return(0,p.LFG)(V)}const F=new p.OlP("Location Initialized");let V=(()=>{class n extends le{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return k().getBaseHref(this._doc)}onPopState(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=k().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,a){Q()?this._history.pushState(t,r,a):this.location.hash=a}replaceState(t,r,a){Q()?this._history.replaceState(t,r,a):this.location.hash=a}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fe))},n.\u0275prov=(0,p.Yz7)({factory:Z,token:n,providedIn:"platform"}),n})();function Q(){return!!window.history.pushState}function Z(){return new V((0,p.LFG)(fe))}function ue(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function pe(n){return n&&"?"!==n[0]?"?"+n:n}let K=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,p.Yz7)({factory:_e,token:n,providedIn:"root"}),n})();function _e(n){const e=(0,p.LFG)(fe).location;return new ge((0,p.LFG)(le),e&&e.origin||"")}const me=new p.OlP("appBaseHref");let ge=(()=>{class n extends K{constructor(t,r){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==r&&(r=this._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=r}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ue(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+pe(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,l){const h=this.prepareExternalUrl(a+pe(l));this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){const h=this.prepareExternalUrl(a+pe(l));this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(le),p.LFG(me,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Ne=(()=>{class n extends K{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ue(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,a,l){let h=this.prepareExternalUrl(a+pe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.pushState(t,r,h)}replaceState(t,r,a,l){let h=this.prepareExternalUrl(a+pe(l));0==h.length&&(h=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,h)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformLocation).historyGo)||void 0===a||a.call(r,t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(le),p.LFG(me,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Ge=(()=>{class n{constructor(t,r){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const a=this._platformStrategy.getBaseHref();this._platformLocation=r,this._baseHref=Ce(vt(a)),this._platformStrategy.onPopState(l=>{this._subject.emit({url:this.path(!0),pop:!0,state:l.state,type:l.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+pe(r))}normalize(t){return n.stripTrailingSlash(function(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,vt(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._platformStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pe(r)),a)}replaceState(t,r="",a=null){this._platformStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pe(r)),a)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var r,a;null===(a=(r=this._platformStrategy).historyGo)||void 0===a||a.call(r,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}))}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r,complete:a})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(K),p.LFG(le))},n.normalizeQueryParams=pe,n.joinWithSlash=ue,n.stripTrailingSlash=Ce,n.\u0275prov=(0,p.Yz7)({factory:ke,token:n,providedIn:"root"}),n})();function ke(){return new Ge((0,p.LFG)(K),(0,p.LFG)(le))}function vt(n){return n.replace(/\/index.html$/,"")}const _n={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var wt=(()=>((wt=wt||{})[wt.Decimal=0]="Decimal",wt[wt.Percent=1]="Percent",wt[wt.Currency=2]="Currency",wt[wt.Scientific=3]="Scientific",wt))(),It=(()=>((It=It||{})[It.Zero=0]="Zero",It[It.One=1]="One",It[It.Two=2]="Two",It[It.Few=3]="Few",It[It.Many=4]="Many",It[It.Other=5]="Other",It))(),Ke=(()=>((Ke=Ke||{})[Ke.Decimal=0]="Decimal",Ke[Ke.Group=1]="Group",Ke[Ke.List=2]="List",Ke[Ke.PercentSign=3]="PercentSign",Ke[Ke.PlusSign=4]="PlusSign",Ke[Ke.MinusSign=5]="MinusSign",Ke[Ke.Exponential=6]="Exponential",Ke[Ke.SuperscriptingExponent=7]="SuperscriptingExponent",Ke[Ke.PerMille=8]="PerMille",Ke[Ke.Infinity=9]="Infinity",Ke[Ke.NaN=10]="NaN",Ke[Ke.TimeSeparator=11]="TimeSeparator",Ke[Ke.CurrencyDecimal=12]="CurrencyDecimal",Ke[Ke.CurrencyGroup=13]="CurrencyGroup",Ke))();function nr(n,e){const t=(0,p.cg1)(n),r=t[p.wAp.NumberSymbols][e];if(void 0===r){if(e===Ke.CurrencyDecimal)return t[p.wAp.NumberSymbols][Ke.Decimal];if(e===Ke.CurrencyGroup)return t[p.wAp.NumberSymbols][Ke.Group]}return r}const Dr=p.kL8;const di=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function uh(n,e,t,r,a){const h=function(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),a=r[0],l=r[1],h=-1!==a.indexOf(".")?a.split("."):[a.substring(0,a.lastIndexOf("0")+1),a.substring(a.lastIndexOf("0")+1)],y=h[0],w=h[1]||"";t.posPre=y.substr(0,y.indexOf("#"));for(let R=0;R<w.length;R++){const M=w.charAt(R);"0"===M?t.minFrac=t.maxFrac=R+1:"#"===M?t.maxFrac=R+1:t.posSuf+=M}const T=y.split(",");if(t.gSize=T[1]?T[1].length:0,t.lgSize=T[2]||T[1]?(T[2]||T[1]).length:0,l){const R=a.length-t.posPre.length-t.posSuf.length,M=l.indexOf("#");t.negPre=l.substr(0,M).replace(/'/g,""),t.negSuf=l.substr(M+R).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function(n,e){return(0,p.cg1)(n)[p.wAp.NumberFormats][e]}(e,wt.Currency),nr(e,Ke.MinusSign));return h.minFrac=function(n){let e;const t=_n[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),h.maxFrac=h.minFrac,function(n,e,t,r,a,l,h=!1){let y="",w=!1;if(isFinite(n)){let T=function(n){let r,a,l,h,y,e=Math.abs(n)+"",t=0;for((a=e.indexOf("."))>-1&&(e=e.replace(".","")),(l=e.search(/e/i))>0?(a<0&&(a=l),a+=+e.slice(l+1),e=e.substring(0,l)):a<0&&(a=e.length),l=0;"0"===e.charAt(l);l++);if(l===(y=e.length))r=[0],a=1;else{for(y--;"0"===e.charAt(y);)y--;for(a-=l,r=[],h=0;l<=y;l++,h++)r[h]=Number(e.charAt(l))}return a>22&&(r=r.splice(0,21),t=a-1,a=1),{digits:r,exponent:t,integerLen:a}}(n);h&&(T=function(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(T));let R=e.minInt,M=e.minFrac,$=e.maxFrac;if(l){const at=l.match(di);if(null===at)throw new Error(`${l} is not a valid digit info`);const Ot=at[1],ot=at[3],dn=at[5];null!=Ot&&(R=un(Ot)),null!=ot&&(M=un(ot)),null!=dn?$=un(dn):null!=ot&&M>$&&($=M)}!function(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,a=r.length-n.integerLen;const l=Math.min(Math.max(e,a),t);let h=l+n.integerLen,y=r[h];if(h>0){r.splice(Math.max(n.integerLen,h));for(let M=h;M<r.length;M++)r[M]=0}else{a=Math.max(0,a),n.integerLen=1,r.length=Math.max(1,h=l+1),r[0]=0;for(let M=1;M<h;M++)r[M]=0}if(y>=5)if(h-1<0){for(let M=0;M>h;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[h-1]++;for(;a<Math.max(0,l);a++)r.push(0);let w=0!==l;const T=e+n.integerLen,R=r.reduceRight(function(M,$,q,ee){return ee[q]=($+=M)<10?$:$-10,w&&(0===ee[q]&&q>=T?ee.pop():w=!1),$>=10?1:0},0);R&&(r.unshift(R),n.integerLen++)}(T,M,$);let q=T.digits,ee=T.integerLen;const ye=T.exponent;let xe=[];for(w=q.every(at=>!at);ee<R;ee++)q.unshift(0);for(;ee<0;ee++)q.unshift(0);ee>0?xe=q.splice(ee,q.length):(xe=q,q=[0]);const Xe=[];for(q.length>=e.lgSize&&Xe.unshift(q.splice(-e.lgSize,q.length).join(""));q.length>e.gSize;)Xe.unshift(q.splice(-e.gSize,q.length).join(""));q.length&&Xe.unshift(q.join("")),y=Xe.join(nr(t,r)),xe.length&&(y+=nr(t,a)+xe.join("")),ye&&(y+=nr(t,Ke.Exponential)+"+"+ye)}else y=nr(t,Ke.Infinity);return y=n<0&&!w?e.negPre+y+e.negSuf:e.posPre+y+e.posSuf,y}(n,h,e,Ke.CurrencyGroup,Ke.CurrencyDecimal,a).replace("\xa4",t).replace("\xa4","").trim()}function un(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}class rr{}let Bn=(()=>{class n extends rr{constructor(t){super(),this.locale=t}getPluralCategory(t,r){switch(Dr(r||this.locale)(t)){case It.Zero:return"zero";case It.One:return"one";case It.Two:return"two";case It.Few:return"few";case It.Many:return"many";default:return"other"}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.soG))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class bo{constructor(e,t,r,a){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=a}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ki=(()=>{class n{constructor(t,r,a){this._viewContainer=t,this._template=r,this._differs=a,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(n){return n.name||typeof n}(t)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=[];t.forEachOperation((a,l,h)=>{if(null==a.previousIndex){const y=this._viewContainer.createEmbeddedView(this._template,new bo(null,this._ngForOf,-1,-1),null===h?void 0:h),w=new Sr(a,y);r.push(w)}else if(null==h)this._viewContainer.remove(null===l?void 0:l);else if(null!==l){const y=this._viewContainer.get(l);this._viewContainer.move(y,h);const w=new Sr(a,y);r.push(w)}});for(let a=0;a<r.length;a++)this._perViewChange(r[a].view,r[a].record);for(let a=0,l=this._viewContainer.length;a<l;a++){const h=this._viewContainer.get(a);h.context.index=a,h.context.count=l,h.context.ngForOf=this._ngForOf}t.forEachIdentityChange(a=>{this._viewContainer.get(a.currentIndex).context.$implicit=a.item})}_perViewChange(t,r){t.context.$implicit=r.item}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();class Sr{constructor(e,t){this.record=e,this.view=t}}let fi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Pi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){nn("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){nn("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.s_b),p.Y36(p.Rgc))},n.\u0275dir=p.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Pi{constructor(){this.$implicit=null,this.ngIf=null}}function nn(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,p.AaK)(e)}'.`)}let up=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,a="symbol",l,h){if(!function(n){return!(null==n||""===n||n!=n)}(t))return null;h=h||this._locale,"boolean"==typeof a&&(a=a?"symbol":"code");let y=r||this._defaultCurrencyCode;"code"!==a&&(y="symbol"===a||"symbol-narrow"===a?function(n,e,t="en"){const r=function(n){return(0,p.cg1)(n)[p.wAp.Currencies]}(t)[n]||_n[n]||[],a=r[1];return"narrow"===e&&"string"==typeof a?a:r[0]||n}(y,"symbol"===a?"wide":"narrow",h):a);try{return uh(function(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),h,y,r,l)}catch(w){throw function(n,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,p.AaK)(n)}'`)}(n,w.message)}}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.soG,16),p.Y36(p.EJc,16))},n.\u0275pipe=p.Yjl({name:"currency",type:n,pure:!0}),n})();let ki=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[{provide:rr,useClass:Bn}]}),n})();function Xa(n){return"server"===n}let eu=(()=>{class n{}return n.\u0275prov=(0,p.Yz7)({token:n,providedIn:"root",factory:()=>new cp((0,p.LFG)(fe),window)}),n})();class cp{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let a=r.currentNode;for(;a;){const l=a.shadowRoot;if(l){const h=l.getElementById(e)||l.querySelector(`[name="${e}"]`);if(h)return h}a=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,a=t.top+this.window.pageYOffset,l=this.offset();this.window.scrollTo(r-l[0],a-l[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=fa(this.window.history)||fa(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(e){return!1}}}function fa(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class tu extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var n;n=new tu,X||(X=n)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(vs=vs||document.querySelector("base"),vs?vs.getAttribute("href"):null);return null==t?null:function(n){Ji=Ji||document.createElement("a"),Ji.setAttribute("href",n);const e=Ji.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){vs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[a,l]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===e)return decodeURIComponent(l)}return null}(document.cookie,e)}}let Ji,vs=null;const ol=new p.OlP("TRANSITION_ID"),vh=[{provide:p.ip1,useFactory:function(n,e,t){return()=>{t.get(p.CZH).donePromise.then(()=>{const r=k(),a=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let l=0;l<a.length;l++)r.remove(a[l])})}},deps:[ol,fe,p.zs3],multi:!0}];class Nt{static init(){(0,p.VLi)(new Nt)}addToWindow(e){p.dqk.getAngularTestability=(r,a=!0)=>{const l=e.findTestabilityInTree(r,a);if(null==l)throw new Error("Could not find testability for element.");return l},p.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(r=>{const a=p.dqk.getAllAngularTestabilities();let l=a.length,h=!1;const y=function(w){h=h||w,l--,0==l&&r(h)};a.forEach(function(w){w.whenStable(y)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const a=e.getTestability(t);return null!=a?a:r?k().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let pa=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const ws=new p.OlP("EventManagerPlugins");let qs=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(a=>a.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,a){return this._findPluginFor(r).addEventListener(t,r,a)}addGlobalEventListener(t,r,a){return this._findPluginFor(r).addGlobalEventListener(t,r,a)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const a=this._plugins;for(let l=0;l<a.length;l++){const h=a[l];if(h.supports(t))return this._eventNameToPlugin.set(t,h),h}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(ws),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class Do{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const a=k().getGlobalEventTarget(this._doc,e);if(!a)throw new Error(`Unsupported event target ${a} for event ${t}`);return this.addEventListener(a,t,r)}}let ll=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(a=>{this._stylesSet.has(a)||(this._stylesSet.add(a),r.add(a))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),bs=(()=>{class n extends ll{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,a){t.forEach(l=>{const h=this._doc.createElement("style");h.textContent=l,a.push(r.appendChild(h))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Fc),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,a)=>{this._addStylesToHost(t,a,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Fc))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Fc(n){k().remove(n)}const Ie={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Tt=/%COMP%/g;function zs(n,e,t){for(let r=0;r<e.length;r++){let a=e[r];Array.isArray(a)?zs(n,a,t):(a=a.replace(Tt,n),t.push(a))}return t}function Ch(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let es=(()=>{class n{constructor(t,r,a){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.rendererByCompId=new Map,this.defaultRenderer=new ts(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case p.ifc.Emulated:{let a=this.rendererByCompId.get(r.id);return a||(a=new Ws(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,a)),a.applyToHost(t),a}case 1:case p.ifc.ShadowDom:return new Fi(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const a=zs(r.id,r.styles,[]);this.sharedStylesHost.addStyles(a),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(qs),p.LFG(bs),p.LFG(p.AFp))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class ts{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ie[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,a){if(a){t=a+":"+t;const l=Ie[a];l?e.setAttributeNS(l,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const a=Ie[r];a?e.removeAttributeNS(a,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,a){a&(p.JOm.DashCase|p.JOm.Important)?e.style.setProperty(t,r,a&p.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&p.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ch(r)):this.eventManager.addEventListener(e,t,Ch(r))}}class Ws extends ts{constructor(e,t,r,a){super(e),this.component=r;const l=zs(a+"-"+r.id,r.styles,[]);t.addStyles(l),this.contentAttr="_ngcontent-%COMP%".replace(Tt,a+"-"+r.id),this.hostAttr=function(n){return"_nghost-%COMP%".replace(Tt,n)}(a+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Fi extends ts{constructor(e,t,r,a){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=zs(a.id,a.styles,[]);for(let h=0;h<l.length;h++){const y=document.createElement("style");y.textContent=l[h],this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Lc=(()=>{class n extends Do{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a){return t.addEventListener(r,a,!1),()=>this.removeEventListener(t,r,a)}removeEventListener(t,r,a){return t.removeEventListener(r,a)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const Cs=["alt","control","meta","shift"],ml={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},au={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Vr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Jr=(()=>{class n extends Do{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,a){const l=n.parseEventName(r),h=n.eventCallback(l.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>k().onAndCancel(t,l.domEventName,h))}static parseEventName(t){const r=t.toLowerCase().split("."),a=r.shift();if(0===r.length||"keydown"!==a&&"keyup"!==a)return null;const l=n._normalizeKey(r.pop());let h="";if(Cs.forEach(w=>{const T=r.indexOf(w);T>-1&&(r.splice(T,1),h+=w+".")}),h+=l,0!=r.length||0===l.length)return null;const y={};return y.domEventName=a,y.fullKey=h,y}static getEventFullKey(t){let r="",a=function(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&au.hasOwnProperty(e)&&(e=au[e]))}return ml[e]||e}(t);return a=a.toLowerCase()," "===a?a="space":"."===a&&(a="dot"),Cs.forEach(l=>{l!=a&&Vr[l](t)&&(r+=l+".")}),r+=a,r}static eventCallback(t,r,a){return l=>{n.getEventFullKey(l)===t&&a.runGuarded(()=>r(l))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),So=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,p.Yz7)({factory:function(){return(0,p.LFG)(uu)},token:n,providedIn:"root"}),n})(),uu=(()=>{class n extends So{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case p.q3G.NONE:return r;case p.q3G.HTML:return(0,p.qzn)(r,"HTML")?(0,p.z3N)(r):(0,p.EiD)(this._doc,String(r)).toString();case p.q3G.STYLE:return(0,p.qzn)(r,"Style")?(0,p.z3N)(r):r;case p.q3G.SCRIPT:if((0,p.qzn)(r,"Script"))return(0,p.z3N)(r);throw new Error("unsafe value used in a script context");case p.q3G.URL:return(0,p.yhl)(r),(0,p.qzn)(r,"URL")?(0,p.z3N)(r):(0,p.mCW)(String(r));case p.q3G.RESOURCE_URL:if((0,p.qzn)(r,"ResourceURL"))return(0,p.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,p.JVY)(t)}bypassSecurityTrustStyle(t){return(0,p.L6k)(t)}bypassSecurityTrustScript(t){return(0,p.eBb)(t)}bypassSecurityTrustUrl(t){return(0,p.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,p.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fe))},n.\u0275prov=(0,p.Yz7)({factory:function(){return function(n){return new uu(n.get(fe))}((0,p.LFG)(p.gxx))},token:n,providedIn:"root"}),n})();const El=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:"browser"},{provide:p.g9A,useValue:function(){tu.makeCurrent(),Nt.init()},multi:!0},{provide:fe,useFactory:function(){return(0,p.RDi)(document),document},deps:[]}]),Ks=[[],{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function(){return new p.qLn},deps:[]},{provide:ws,useClass:Lc,multi:!0,deps:[fe,p.R0b,p.Lbi]},{provide:ws,useClass:Jr,multi:!0,deps:[fe]},[],{provide:es,useClass:es,deps:[qs,bs,p.AFp]},{provide:p.FYo,useExisting:es},{provide:ll,useExisting:bs},{provide:bs,useClass:bs,deps:[fe]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:qs,useClass:qs,deps:[ws,p.R0b]},{provide:class{},useClass:pa,deps:[]},[]];let Ro=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:p.AFp,useValue:t.appId},{provide:ol,useExisting:p.AFp},vh]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(n,12))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:Ks,imports:[ki,p.hGG]}),n})();"undefined"!=typeof window&&window;var Vc=L(3637),$n=L(7574),cn=L(4402),tt=L(5917),In=L(1394),ns=L(3282);function ar(...n){return(0,ns.J)(1)((0,tt.of)(...n))}var Al=L(4869);function Sl(...n){const e=n[n.length-1];return(0,Al.K)(e)?(n.pop(),t=>ar(n,t,e)):t=>ar(n,t)}var vr=L(7393);function Nl(){return n=>n.lift(new xn)}class xn{call(e,t){return t.subscribe(new Uc(e))}}class Uc extends vr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}var Et=L(8002);function rs(n,e){let t=!1;return arguments.length>=2&&(t=!0),function(a){return a.lift(new Oo(n,e,t))}}class Oo{constructor(e,t,r=!1){this.accumulator=e,this.seed=t,this.hasSeed=r}call(e,t){return t.subscribe(new Bc(e,this.accumulator,this.seed,this.hasSeed))}}class Bc extends vr.L{constructor(e,t,r,a){super(e),this.accumulator=t,this._seed=r,this.hasSeed=a,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let r;try{r=this.accumulator(this.seed,e,t)}catch(a){this.destination.error(a)}this.seed=r,this.destination.next(r)}}class pu{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Ea(e,this.compare,this.keySelector))}}class Ea extends vr.L{constructor(e,t,r){super(e),this.keySelector=r,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:a}=this;t=a?a(e):e}catch(a){return this.destination.error(a)}let r=!1;if(this.hasKey)try{const{compare:a}=this;r=a(this.key,t)}catch(a){return this.destination.error(a)}else this.hasKey=!0;r||(this.key=t,this.destination.next(e))}}function Nr(n,e){return function(r){return r.lift(new jc(n,e))}}class jc{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Po(e,this.predicate,this.thisArg))}}class Po extends vr.L{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}var He,Hn=L(8939),Fo=(L(2584),L(3394)),he=L(8239),is=L(8026),Is=L(3910),Ts=L(5422),Rt=L(3854),xh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Zs={},Qt=Qt||{},ct=xh||self;function gu(){}function Mh(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wa(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var mu="closure_uid_"+(1e9*Math.random()>>>0),Oh=0;function Ph(n,e,t){return n.call.apply(n.bind,arguments)}function _p(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var a=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(a,r),n.apply(e,a)}}return function(){return n.apply(e,arguments)}}function Tn(n,e,t){return(Tn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ph:_p).apply(null,arguments)}function yu(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Mn(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,a,l){for(var h=Array(arguments.length-2),y=2;y<arguments.length;y++)h[y-2]=arguments[y];return e.prototype[a].apply(r,h)}}function ba(){this.s=this.s,this.o=this.o}var Rl={};ba.prototype.s=!1,ba.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function(n){return Object.prototype.hasOwnProperty.call(n,mu)&&n[mu]||(n[mu]=++Oh)}(this);delete Rl[n]}},ba.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _u=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},Ca=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,a="string"==typeof n?n.split(""):n;for(let l=0;l<r;l++)l in a&&e.call(t,a[l],l,n)};function Xr(n){return Array.prototype.concat.apply([],arguments)}function ei(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function ti(n){return/^[\s\xa0]*$/.test(n)}var Ur,Ys=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Jt(n,e){return-1!=n.indexOf(e)}function vu(n,e){return n<e?-1:n>e?1:0}e:{var Eu=ct.navigator;if(Eu){var vp=Eu.userAgent;if(vp){Ur=vp;break e}}Ur=""}function xl(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function Fh(n){const e={};for(const t in n)e[t]=n[t];return e}var C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function A(n,e){let t,r;for(let a=1;a<arguments.length;a++){for(t in r=arguments[a],r)n[t]=r[t];for(let l=0;l<C.length;l++)t=C[l],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function x(n){return x[" "](n),n}x[" "]=gu;var Pn,n,Y=Jt(Ur,"Opera"),oe=Jt(Ur,"Trident")||Jt(Ur,"MSIE"),Te=Jt(Ur,"Edge"),Be=Te||oe,je=Jt(Ur,"Gecko")&&!(Jt(Ur.toLowerCase(),"webkit")&&!Jt(Ur,"Edge"))&&!(Jt(Ur,"Trident")||Jt(Ur,"MSIE"))&&!Jt(Ur,"Edge"),Ut=Jt(Ur.toLowerCase(),"webkit")&&!Jt(Ur,"Edge");function qt(){var n=ct.document;return n?n.documentMode:void 0}e:{var Jn="",Xn=(n=Ur,je?/rv:([^\);]+)(\)|;)/.exec(n):Te?/Edge\/([\d\.]+)/.exec(n):oe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Ut?/WebKit\/(\S+)/.exec(n):Y?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(Xn&&(Jn=Xn?Xn[1]:""),oe){var ss=qt();if(null!=ss&&ss>parseFloat(Jn)){Pn=String(ss);break e}}Pn=Jn}var Lo={};function os(){return e=Lo,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let n=0;const e=Ys(String(Pn)).split("."),t=Ys("9").split("."),r=Math.max(e.length,t.length);for(let h=0;0==n&&h<r;h++){var a=e[h]||"",l=t[h]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],0==a[0].length&&0==l[0].length)break;n=vu(0==a[1].length?0:parseInt(a[1],10),0==l[1].length?0:parseInt(l[1],10))||vu(0==a[2].length,0==l[2].length)||vu(a[2],l[2]),a=a[3],l=l[3]}while(0==n)}return 0<=n}();var e}var Ml=ct.document&&oe&&(qt()||parseInt(Pn,10))||void 0,$c=function(){if(!ct.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{ct.addEventListener("test",gu,e),ct.removeEventListener("test",gu,e)}catch(t){}return n}();function ni(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function Qs(n,e){if(ni.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(je){e:{try{x(e.nodeName);var a=!0;break e}catch(l){}a=!1}a||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Hc[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Qs.Z.h.call(this)}}ni.prototype.h=function(){this.defaultPrevented=!0},Mn(Qs,ni);var Hc={2:"touch",3:"pen",4:"mouse"};Qs.prototype.h=function(){Qs.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Js="closure_listenable_"+(1e6*Math.random()|0),Ep=0;function kn(n,e,t,r,a){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=a,this.key=++Ep,this.ca=this.fa=!1}function wu(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function wp(n){this.src=n,this.g={},this.h=0}function Xs(n,e){var t=e.type;if(t in n.g){var l,r=n.g[t],a=_u(r,e);(l=0<=a)&&Array.prototype.splice.call(r,a,1),l&&(wu(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Ia(n,e,t,r){for(var a=0;a<n.length;++a){var l=n[a];if(!l.ca&&l.listener==e&&l.capture==!!t&&l.ia==r)return a}return-1}wp.prototype.add=function(n,e,t,r,a){var l=n.toString();(n=this.g[l])||(n=this.g[l]=[],this.h++);var h=Ia(n,e,r,a);return-1<h?(e=n[h],t||(e.fa=!1)):((e=new kn(e,this.src,l,!!r,a)).fa=t,n.push(e)),e};var bp="closure_lm_"+(1e6*Math.random()|0),Lh={};function Gc(n,e,t,r,a){if(r&&r.once)return as(n,e,t,r,a);if(Array.isArray(e)){for(var l=0;l<e.length;l++)Gc(n,e[l],t,r,a);return null}return t=Pl(t),n&&n[Js]?n.N(e,t,wa(r)?!!r.capture:!!r,a):ov(n,e,t,!1,r,a)}function ov(n,e,t,r,a,l){if(!e)throw Error("Invalid event type");var h=wa(a)?!!a.capture:!!a,y=bu(n);if(y||(n[bp]=y=new wp(n)),(t=y.add(e,t,r,h,l)).proxy)return t;if(r=function(){var e=Dm;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)$c||(a=h),void 0===a&&(a=!1),n.addEventListener(e.toString(),r,a);else if(n.attachEvent)n.attachEvent(Vh(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function as(n,e,t,r,a){if(Array.isArray(e)){for(var l=0;l<e.length;l++)as(n,e[l],t,r,a);return null}return t=Pl(t),n&&n[Js]?n.O(e,t,wa(r)?!!r.capture:!!r,a):ov(n,e,t,!0,r,a)}function qc(n,e,t,r,a){if(Array.isArray(e))for(var l=0;l<e.length;l++)qc(n,e[l],t,r,a);else r=wa(r)?!!r.capture:!!r,t=Pl(t),n&&n[Js]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Ia(l=n.g[e],t,r,a))&&(wu(l[t]),Array.prototype.splice.call(l,t,1),0==l.length&&(delete n.g[e],n.h--))):n&&(n=bu(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Ia(e,t,r,a)),(t=-1<n?e[n]:null)&&eo(t))}function eo(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Js])Xs(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Vh(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=bu(e))?(Xs(t,n),0==t.h&&(t.src=null,e[bp]=null)):wu(n)}}}function Vh(n){return n in Lh?Lh[n]:Lh[n]="on"+n}function Dm(n,e){if(n.ca)n=!0;else{e=new Qs(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&eo(n),n=t.call(r,e)}return n}function bu(n){return(n=n[bp])instanceof wp?n:null}var Uo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pl(n){return"function"==typeof n?n:(n[Uo]||(n[Uo]=function(e){return n.handleEvent(e)}),n[Uo])}function ur(){ba.call(this),this.i=new wp(this),this.P=this,this.I=null}function lr(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ni(e,n);else if(e instanceof ni)e.target=e.target||n;else{var a=e;A(e=new ni(r,n),a)}if(a=!0,t)for(var l=t.length-1;0<=l;l--){var h=e.g=t[l];a=Bo(h,r,!0,e)&&a}if(a=Bo(h=e.g=n,r,!0,e)&&a,a=Bo(h,r,!1,e)&&a,t)for(l=0;l<t.length;l++)a=Bo(h=e.g=t[l],r,!1,e)&&a}function Bo(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var a=!0,l=0;l<e.length;++l){var h=e[l];if(h&&!h.ca&&h.capture==t){var y=h.listener,w=h.ia||h.src;h.fa&&Xs(n.i,h),a=!1!==y.call(w,r)&&a}}return a&&!r.defaultPrevented}Mn(ur,ba),ur.prototype[Js]=!0,ur.prototype.removeEventListener=function(n,e,t,r){qc(this,n,e,t,r)},ur.prototype.M=function(){if(ur.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wu(t[r]);delete n.g[e],n.h--}}this.I=null},ur.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ur.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Ta=ct.JSON.stringify;function Am(){var n=Uh;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Tp,Cp=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Sm,n=>n.reset());class Sm{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Nm(n){ct.setTimeout(()=>{throw n},0)}function Ip(n,e){Tp||function(){var n=ct.Promise.resolve(void 0);Tp=function(){n.then(kl)}}(),Da||(Tp(),Da=!0),Uh.add(n,e)}var Da=!1,Uh=new class{constructor(){this.h=this.g=null}add(e,t){const r=Cp.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function kl(){for(var n;n=Am();){try{n.h.call(n.g)}catch(t){Nm(t)}var e=Cp;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Da=!1}function zc(n,e){ur.call(this),this.h=n||1,this.g=e||ct,this.j=Tn(this.kb,this),this.l=Date.now()}function Dp(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function Wc(n,e,t){if("function"==typeof n)t&&(n=Tn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Tn(n.handleEvent,n)}return 2147483647<Number(e)?-1:ct.setTimeout(n,e||0)}function Kc(n){n.g=Wc(()=>{n.g=null,n.i&&(n.i=!1,Kc(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Mn(zc,ur),(He=zc.prototype).da=!1,He.S=null,He.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lr(this,"tick"),this.da&&(Dp(this),this.start()))}},He.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},He.M=function(){zc.Z.M.call(this),Dp(this),delete this.g};class Ap extends ba{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Kc(this)}M(){super.M(),this.g&&(ct.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fl(n){ba.call(this),this.h=n,this.g={}}Mn(Fl,ba);var Sp=[];function Np(n,e,t,r){Array.isArray(t)||(t&&(Sp[0]=t.toString()),t=Sp);for(var a=0;a<t.length;a++){var l=Gc(e,t[a],r||n.handleEvent,!1,n.h||n);if(!l)break;n.g[l.key]=l}}function Aa(n){xl(n.g,function(e,t){this.g.hasOwnProperty(t)&&eo(e)},n),n.g={}}function Bh(){this.g=!0}function Ll(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var a=r[1];if(Array.isArray(a)&&!(1>a.length)){var l=a[0];if("noop"!=l&&"stop"!=l&&"close"!=l)for(var h=1;h<a.length;h++)a[h]=""}}}return Ta(t)}catch(y){return e}}(n,t)+(r?" "+r:"")})}Fl.prototype.M=function(){Fl.Z.M.call(this),Aa(this)},Fl.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Bh.prototype.Aa=function(){this.g=!1},Bh.prototype.info=function(){};var us={},xp=null;function Zc(){return xp=xp||new ur}function Rm(n){ni.call(this,us.Ma,n)}function Yc(n){const e=Zc();lr(e,new Rm(e,n))}function xm(n,e){ni.call(this,us.STAT_EVENT,n),this.stat=e}function ri(n){const e=Zc();lr(e,new xm(e,n))}function Qc(n,e){ni.call(this,us.Na,n),this.size=e}function Jc(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return ct.setTimeout(function(){n()},e)}us.Ma="serverreachability",Mn(Rm,ni),us.STAT_EVENT="statevent",Mn(xm,ni),us.Na="timingevent",Mn(Qc,ni);var Vl={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Mm={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function jh(){}function $h(){}jh.prototype.h=null;var Cu,$o={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Xc(){ni.call(this,"d")}function Ui(){ni.call(this,"c")}function ed(){}function Ul(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new Fl(this),this.P=Bl,this.W=new zc(n=Be?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Om}function Om(){this.i=null,this.g="",this.h=!1}Mn(Xc,ni),Mn(Ui,ni),Mn(ed,jh),ed.prototype.g=function(){return new XMLHttpRequest},ed.prototype.i=function(){return{}},Cu=new ed;var Bl=45e3,Pm={},Mp={};function Iu(n,e,t){n.K=1,n.v=Pp(ls(e)),n.s=t,n.U=!0,Hh(n,null)}function Hh(n,e){n.F=Date.now(),Sa(n),n.A=ls(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),Qh(t.h,"t",r),n.C=0,t=n.l.H,n.h=new Om,n.g=wv(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Ap(Tn(n.Ia,n,n.g),n.O)),Np(n.V,n.g,"readystatechange",n.gb),e=n.H?Fh(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),Yc(1),function(n,e,t,r,a,l){n.info(function(){if(n.g)if(l)for(var h="",y=l.split("&"),w=0;w<y.length;w++){var T=y[w].split("=");if(1<T.length){var R=T[0];T=T[1];var M=R.split("_");h=2<=M.length&&"type"==M[1]?h+(R+"=")+T+"&":h+(R+"=redacted&")}}else h=null;else h=l;return"XMLHTTP REQ ("+r+") [attempt "+a+"]: "+e+"\n"+t+"\n"+h})}(n.j,n.u,n.A,n.m,n.X,n.s)}function jl(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function hv(n,e,t){let a,r=!0;for(;!n.I&&n.C<t.length;){if(a=Tb(n,t),a==Mp){4==e&&(n.o=4,ri(14),r=!1),Ll(n.j,n.m,null,"[Incomplete Response]");break}if(a==Pm){n.o=4,ri(15),Ll(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Ll(n.j,n.m,a,null),qh(n,a)}jl(n)&&a!=Mp&&a!=Pm&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,ri(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),nf(e),e.L=!0,ri(11))):(Ll(n.j,n.m,t,"[Invalid Chunked Response]"),Du(n),Tu(n))}function Tb(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Mp:(t=Number(e.substring(t,r)),isNaN(t)?Pm:(r+=1)+t>e.length?Mp:(e=e.substr(r,t),n.C=r+t,e))}function Sa(n){n.Y=Date.now()+n.P,km(n,n.P)}function km(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Jc(Tn(n.eb,n),e)}function Gh(n){n.B&&(ct.clearTimeout(n.B),n.B=null)}function Tu(n){0==n.l.G||n.I||jp(n.l,n)}function Du(n){Gh(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,Dp(n.W),Aa(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qh(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||sd(t.i,n)))if(t.I=n.N,!n.J&&sd(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(T){r=null}if(Array.isArray(r)&&3==r.length){var a=r;if(0==a[0])e:if(t.u)t.ta=a[1],0<t.ta-t.U&&37500>a[2]&&t.N&&0==t.A&&!t.v&&(t.v=Jc(Tn(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;Yl(t),$e(t)}Zl(t),ri(18)}if(1>=Vp(t.i)&&t.ka){try{t.ka()}catch(T){}t.ka=void 0}}else qo(t,11)}else if((n.J||t.g==n)&&Yl(t),!ti(e))for(a=t.Ca.g.parse(e),e=0;e<a.length;e++){let T=a[e];if(t.U=T[0],T=T[1],2==t.G)if("c"==T[0]){t.J=T[1],t.la=T[2];const R=T[3];null!=R&&(t.ma=R,t.h.info("VER="+t.ma));const M=T[4];null!=M&&(t.za=M,t.h.info("SVER="+t.za));const $=T[5];null!=$&&"number"==typeof $&&0<$&&(t.K=r=1.5*$,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const q=n.g;if(q){const ee=q.g?q.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ee){var l=r.i;!l.g&&(Jt(ee,"spdy")||Jt(ee,"quic")||Jt(ee,"h2"))&&(l.j=l.l,l.g=new Set,l.h&&(Jh(l,l.h),l.h=null))}if(r.D){const ye=q.g?q.g.getResponseHeader("X-HTTP-Session-Id"):null;ye&&(r.sa=ye,gn(r.F,r.D,ye))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var h=n;if((r=t).oa=Db(r,r.H?r.la:null,r.W),h.J){Up(r.i,h);var y=h,w=r.K;w&&y.setTimeout(w),y.B&&(Gh(y),Sa(y)),r.g=h}else ud(r);0<t.l.length&&Dn(t)}else"stop"!=T[0]&&"close"!=T[0]||qo(t,7);else 3==t.G&&("stop"==T[0]||"close"==T[0]?"stop"==T[0]?qo(t,7):Re(t):"noop"!=T[0]&&t.j&&t.j.wa(T),t.A=0)}Yc(4)}catch(T){}}function Wh(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Mh(n)||"string"==typeof n)Ca(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(Mh(n)||"string"==typeof n){t=[];for(var r=n.length,a=0;a<r;a++)t.push(a)}else for(a in t=[],r=0,n)t[r++]=a;a=(r=function(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(Mh(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n)).length;for(var l=0;l<a;l++)e.call(void 0,r[l],t&&t[l],n)}}function Na(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof Na)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function Kh(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Xt(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var a={};for(t=e=0;e<n.g.length;)Xt(a,r=n.g[e])||(n.g[t++]=r,a[r]=1),e++;n.g.length=t}}function Xt(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(He=Ul.prototype).setTimeout=function(n){this.P=n},He.gb=function(n){n=n.target;const e=this.L;e&&3==E(n)?e.l():this.Ia(n)},He.Ia=function(n){try{if(n==this.g)e:{const R=E(this.g);var e=this.g.Da();const M=this.g.ba();if(!(3>R)&&(3!=R||Be||this.g&&(this.h.h||this.g.ga()||D(this.g)))){this.I||4!=R||7==e||Yc(8==e||0>=M?3:2),Gh(this);var t=this.g.ba();this.N=t;t:if(jl(this)){var r=D(this.g);n="";var a=r.length,l=4==E(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Du(this),Tu(this);var h="";break t}this.h.i=new ct.TextDecoder}for(e=0;e<a;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:l&&e==a-1});r.splice(0,a),this.h.g+=n,this.C=0,h=this.h.g}else h=this.g.ga();if(this.i=200==t,function(n,e,t,r,a,l,h){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+a+"]: "+e+"\n"+t+"\n"+l+" "+h})}(this.j,this.u,this.A,this.m,this.X,R,t),this.i){if(this.$&&!this.J){t:{if(this.g){var y,w=this.g;if((y=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ti(y)){var T=y;break t}}T=null}if(!(t=T)){this.i=!1,this.o=3,ri(12),Du(this),Tu(this);break e}Ll(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qh(this,t)}this.U?(hv(this,R,h),Be&&this.i&&3==R&&(Np(this.V,this.W,"tick",this.fb),this.W.start())):(Ll(this.j,this.m,h,null),qh(this,h)),4==R&&Du(this),this.i&&!this.I&&(4==R?jp(this.l,this):(this.i=!1,Sa(this)))}else 400==t&&0<h.indexOf("Unknown SID")?(this.o=3,ri(12)):(this.o=0,ri(13)),Du(this),Tu(this)}}}catch(R){}},He.fb=function(){if(this.g){var n=E(this.g),e=this.g.ga();this.C<e.length&&(Gh(this),hv(this,n,e),this.i&&4!=n&&Sa(this))}},He.cancel=function(){this.I=!0,Du(this)},He.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Yc(3),ri(17)),Du(this),this.o=2,Tu(this)):km(this,this.Y-n)},(He=Na.prototype).R=function(){Kh(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},He.T=function(){return Kh(this),this.g.concat()},He.get=function(n,e){return Xt(this.h,n)?this.h[n]:e},He.set=function(n,e){Xt(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},He.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var a=t[r],l=this.get(a);n.call(e,l,a,this)}};var Op=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ds(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Ds){this.g=void 0!==e?e:n.g,Zh(this,n.j),this.s=n.s,Yh(this,n.i),Au(this,n.m),this.l=n.l,e=n.h;var t=new nd;t.i=e.i,e.g&&(t.g=new Na(e.g),t.h=e.h),Fm(this,t),this.o=n.o}else n&&(t=String(n).match(Op))?(this.g=!!e,Zh(this,t[1]||"",!0),this.s=cr(t[2]||""),Yh(this,t[3]||"",!0),Au(this,t[4]),this.l=cr(t[5]||"",!0),Fm(this,t[6]||"",!0),this.o=cr(t[7]||"")):(this.g=!!e,this.h=new nd(null,this.g))}function ls(n){return new Ds(n)}function Zh(n,e,t){n.j=t?cr(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Yh(n,e,t){n.i=t?cr(e,!0):e}function Au(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function Fm(n,e,t){e instanceof nd?(n.h=e,function(n,e){e&&!n.j&&(Ho(n),n.i=null,n.g.forEach(function(t,r){var a=r.toLowerCase();r!=a&&(Fp(this,r),Qh(this,a,t))},n)),n.j=e}(n.h,n.g)):(t||(e=Su(e,kp)),n.h=new nd(e,n.g))}function gn(n,e,t){n.h.set(e,t)}function Pp(n){return gn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cr(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Su(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Lm),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Lm(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ds.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Su(e,$l,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Su(e,$l,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(Su(t,"/"==t.charAt(0)?Hl:Br,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Su(t,gv)),n.join("")};var $l=/[#\/\?@]/g,Br=/[#\?:]/g,Hl=/[#\?]/g,kp=/[#\?@]/g,gv=/#/g;function nd(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Ho(n){n.g||(n.g=new Na,n.h=0,n.i&&function(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),a=null;if(0<=r){var l=n[t].substring(0,r);a=n[t].substring(r+1)}else l=n[t];e(l,a?decodeURIComponent(a.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Fp(n,e){Ho(n),e=Ra(n,e),Xt(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Xt((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Kh(n)))}function rd(n,e){return Ho(n),e=Ra(n,e),Xt(n.g.h,e)}function Qh(n,e,t){Fp(n,e),0<t.length&&(n.i=null,n.g.set(Ra(n,e),ei(t)),n.h+=t.length)}function Ra(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function yi(n){this.l=n||Gl,n=ct.PerformanceNavigationTiming?0<(n=ct.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(ct.g&&ct.g.Ea&&ct.g.Ea()&&ct.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(He=nd.prototype).add=function(n,e){Ho(this),this.i=null,n=Ra(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},He.forEach=function(n,e){Ho(this),this.g.forEach(function(t,r){Ca(t,function(a){n.call(e,a,r,this)},this)},this)},He.T=function(){Ho(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var a=n[r],l=0;l<a.length;l++)t.push(e[r]);return t},He.R=function(n){Ho(this);var e=[];if("string"==typeof n)rd(this,n)&&(e=Xr(e,this.g.get(Ra(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=Xr(e,n[t])}return e},He.set=function(n,e){return Ho(this),this.i=null,rd(this,n=Ra(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},He.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},He.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],a=encodeURIComponent(String(r));r=this.R(r);for(var l=0;l<r.length;l++){var h=a;""!==r[l]&&(h+="="+encodeURIComponent(String(r[l]))),n.push(h)}}return this.i=n.join("&")};var Gl=10;function id(n){return!!n.h||!!n.g&&n.g.size>=n.j}function Vp(n){return n.h?1:n.g?n.g.size:0}function sd(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Jh(n,e){n.g?n.g.add(e):n.h=e}function Up(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function ql(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return ei(n.i)}function Bp(){}function xa(){this.g=new Bp}function Nu(n,e,t){const r=t||"";try{Wh(n,function(a,l){let h=a;wa(a)&&(h=Ta(a)),e.push(r+l+"="+encodeURIComponent(h))})}catch(a){throw e.push(r+"type="+encodeURIComponent("_badmap")),a}}function Xh(n,e,t,r,a){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,a(r)}catch(l){}}function od(n){this.l=n.$b||null,this.j=n.ib||!1}function ad(n,e){ur.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=jr,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yi.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Bp.prototype.stringify=function(n){return ct.JSON.stringify(n,void 0)},Bp.prototype.parse=function(n){return ct.JSON.parse(n,void 0)},Mn(od,jh),od.prototype.g=function(){return new ad(this.l,this.j)},od.prototype.i=function(n){return function(){return n}}({}),Mn(ad,ur);var jr=0;function Ru(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Er(n){n.readyState=4,n.l=null,n.j=null,n.A=null,zl(n)}function zl(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(He=ad.prototype).open=function(n,e){if(this.readyState!=jr)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,zl(this)},He.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||ct).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},He.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Er(this)),this.readyState=jr},He.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,zl(this)),this.g&&(this.readyState=3,zl(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ct.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ru(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},He.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Er(this):zl(this),3==this.readyState&&Ru(this)}},He.Ua=function(n){this.g&&(this.response=this.responseText=n,Er(this))},He.Ta=function(n){this.g&&(this.response=n,Er(this))},He.ha=function(){this.g&&Er(this)},He.setRequestHeader=function(n,e){this.v.append(n,e)},He.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},He.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(ad.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Go=ct.JSON.parse;function mn(n){ur.call(this),this.headers=new Na,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ef,this.K=this.L=!1}Mn(mn,ur);var ef="",_v=/^https?$/i,tf=["POST","PUT"];function Ev(n){return"content-type"==n.toLowerCase()}function Vm(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,xu(n),f(n)}function xu(n){n.D||(n.D=!0,lr(n,"complete"),lr(n,"error"))}function _(n){if(n.h&&void 0!==Qt&&(!n.C[1]||4!=E(n)||2!=n.ba()))if(n.v&&4==E(n))Wc(n.Fa,0,n);else if(lr(n,"readystatechange"),4==E(n)){n.h=!1;try{const y=n.ba();e:switch(y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===y){var a=String(n.H).match(Op)[1]||null;if(!a&&ct.self&&ct.self.location){var l=ct.self.location.protocol;a=l.substr(0,l.length-1)}r=!_v.test(a?a.toLowerCase():"")}t=r}if(t)lr(n,"complete"),lr(n,"success");else{n.m=6;try{var h=2<E(n)?n.g.statusText:""}catch(w){h=""}n.j=h+" ["+n.ba()+"]",xu(n)}}finally{f(n)}}}function f(n,e){if(n.g){g(n);const t=n.g,r=n.C[0]?gu:null;n.g=null,n.C=null,e||lr(n,"ready");try{t.onreadystatechange=r}catch(a){}}}function g(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(ct.clearTimeout(n.A),n.A=null)}function E(n){return n.g?n.g.readyState:0}function D(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case ef:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function j(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function(n){let e="";return xl(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):gn(n,e,t))}function ne(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Oe(n){this.za=0,this.l=[],this.h=new Bh,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ne("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ne("baseRetryDelayMs",5e3,n),this.$a=ne("retryDelaySeedMs",1e4,n),this.Ya=ne("forwardChannelMaxRetries",2,n),this.ra=ne("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new yi(n&&n.concurrentRequestLimit),this.Ca=new xa,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function Re(n){if(ze(n),3==n.G){var e=n.V++,t=ls(n.F);gn(t,"SID",n.J),gn(t,"RID",e),gn(t,"TYPE","terminate"),Kl(n,t),(e=new Ul(n,n.h,e,void 0)).K=2,e.v=Pp(ls(t)),t=!1,ct.navigator&&ct.navigator.sendBeacon&&(t=ct.navigator.sendBeacon(e.v.toString(),"")),!t&&ct.Image&&((new Image).src=e.v,t=!0),t||(e.g=wv(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Sa(e)}Bm(n)}function $e(n){n.g&&(nf(n),n.g.cancel(),n.g=null)}function ze(n){$e(n),n.u&&(ct.clearTimeout(n.u),n.u=null),Yl(n),n.i.cancel(),n.m&&("number"==typeof n.m&&ct.clearTimeout(n.m),n.m=null)}function Mt(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Dn(n)}function Dn(n){id(n.i)||n.m||(n.m=!0,Ip(n.Ha,n),n.C=0)}function Wl(n,e){var t;t=e?e.m:n.V++;const r=ls(n.F);gn(r,"SID",n.J),gn(r,"RID",t),gn(r,"AID",n.U),Kl(n,r),n.o&&n.s&&j(r,n.o,n.s),t=new Ul(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=Ma(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),Jh(n.i,t),Iu(t,r,e)}function Kl(n,e){n.j&&Wh({},function(t,r){gn(e,r,t)})}function Ma(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Tn(n.j.Oa,n.j,n):null;e:{var a=n.l;let l=-1;for(;;){const h=["count="+t];-1==l?0<t?(l=a[0].h,h.push("ofs="+l)):l=0:h.push("ofs="+l);let y=!0;for(let w=0;w<t;w++){let T=a[w].h;const R=a[w].g;if(T-=l,0>T)l=Math.max(0,a[w].h-100),y=!1;else try{Nu(R,h,"req"+T+"_")}catch(M){r&&r(R)}}if(y){r=h.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function ud(n){n.g||n.u||(n.Y=1,Ip(n.Ga,n),n.A=0)}function Zl(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Jc(Tn(n.Ga,n),Um(n,n.A)),n.A++,0))}function nf(n){null!=n.B&&(ct.clearTimeout(n.B),n.B=null)}function ld(n){n.g=new Ul(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=ls(n.oa);gn(e,"RID","rpc"),gn(e,"SID",n.J),gn(e,"CI",n.N?"0":"1"),gn(e,"AID",n.U),Kl(n,e),gn(e,"TYPE","xmlhttp"),n.o&&n.s&&j(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=Pp(ls(e)),t.s=null,t.U=!0,Hh(t,n)}function Yl(n){null!=n.v&&(ct.clearTimeout(n.v),n.v=null)}function jp(n,e){var t=null;if(n.g==e){Yl(n),nf(n),n.g=null;var r=2}else{if(!sd(n.i,e))return;t=e.D,Up(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var a=n.C;lr(r=Zc(),new Qc(r,t,e,a)),Dn(n)}else ud(n);else if(3==(a=e.o)||0==a&&0<n.I||!(1==r&&function(n,e){return!(Vp(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Jc(Tn(n.Ha,n,e),Um(n,n.C)),n.C++,0)))}(n,e)||2==r&&Zl(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),a){case 1:qo(n,5);break;case 4:qo(n,10);break;case 3:qo(n,6);break;default:qo(n,2)}}function Um(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function qo(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Tn(n.jb,n);t||(t=new Ds("//www.google.com/images/cleardot.gif"),ct.location&&"http"==ct.location.protocol||Zh(t,"https"),Pp(t)),function(n,e){const t=new Bh;if(ct.Image){const r=new Image;r.onload=yu(Xh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yu(Xh,t,r,"TestLoadImage: error",!1,e),r.onabort=yu(Xh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yu(Xh,t,r,"TestLoadImage: timeout",!1,e),ct.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else ri(2);n.G=0,n.j&&n.j.va(e),Bm(n),ze(n)}function Bm(n){n.G=0,n.I=-1,n.j&&((0!=ql(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ei(n.l),n.l.length=0),n.j.ua())}function Db(n,e,t){let r=function(n){return n instanceof Ds?ls(n):new Ds(n,void 0)}(t);if(""!=r.i)e&&Yh(r,e+"."+r.i),Au(r,r.m);else{const a=ct.location;r=function(n,e,t,r){var a=new Ds(null,void 0);return n&&Zh(a,n),e&&Yh(a,e),t&&Au(a,t),r&&(a.l=r),a}(a.protocol,e?e+"."+a.hostname:a.hostname,+a.port,t)}return n.aa&&xl(n.aa,function(a,l){gn(r,l,a)}),t=n.sa,(e=n.D)&&t&&gn(r,e,t),gn(r,"VER",n.ma),Kl(n,r),r}function wv(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new mn(t&&n.Ba&&!n.qa?new od({ib:!0}):n.qa)).L=n.H,e}function jm(){}function $p(){if(oe&&!(10<=Number(Ml)))throw Error("Environmental error: no available transport.")}function Bi(n,e){ur.call(this),this.g=new Oe(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!ti(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!ti(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new cd(this)}function Ab(n){Xc.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Sb(){Ui.call(this),this.status=1}function cd(n){this.g=n}(He=mn.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Cu.g(),this.C=function(n){return n.h||(n.h=n.i())}(this.u?this.u:Cu),this.g.onreadystatechange=Tn(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(l){return void Vm(this,l)}n=t||"";const a=new Na(this.headers);r&&Wh(r,function(l,h){a.set(h,l)}),r=function(n){e:{var e=Ev;const t=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<t;a++)if(a in r&&e.call(void 0,r[a],a,n)){e=a;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(a.T()),t=ct.FormData&&n instanceof ct.FormData,!(0<=_u(tf,e))||r||t||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(l,h){this.g.setRequestHeader(h,l)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{g(this),0<this.B&&((this.K=function(n){return oe&&os()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Tn(this.pa,this)):this.A=Wc(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(l){Vm(this,l)}},He.pa=function(){void 0!==Qt&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lr(this,"timeout"),this.abort(8))},He.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,lr(this,"complete"),lr(this,"abort"),f(this))},He.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),f(this,!0)),mn.Z.M.call(this)},He.Fa=function(){this.s||(this.F||this.v||this.l?_(this):this.cb())},He.cb=function(){_(this)},He.ba=function(){try{return 2<E(this)?this.g.status:-1}catch(n){return-1}},He.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},He.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Go(e)}},He.Da=function(){return this.m},He.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(He=Oe.prototype).ma=8,He.G=1,He.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},He.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const a=new Ul(this,this.h,n,void 0);let l=this.s;if(this.P&&(l?(l=Fh(l),A(l,this.P)):l=this.P),null===this.o&&(a.H=l),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=Ma(this,a,e),gn(t=ls(this.F),"RID",n),gn(t,"CVER",22),this.D&&gn(t,"X-HTTP-Session-Id",this.D),Kl(this,t),this.o&&l&&j(t,this.o,l),Jh(this.i,a),this.Ra&&gn(t,"TYPE","init"),this.ja?(gn(t,"$req",e),gn(t,"SID","null"),a.$=!0,Iu(a,t,null)):Iu(a,t,e),this.G=2}}else 3==this.G&&(n?Wl(this,n):0==this.l.length||id(this.i)||Wl(this))},He.Ga=function(){if(this.u=null,ld(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Jc(Tn(this.bb,this),n)}},He.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,ri(10),$e(this),ld(this))},He.ab=function(){null!=this.v&&(this.v=null,$e(this),Zl(this),ri(19))},He.jb=function(n){n?(this.h.info("Successfully pinged google.com"),ri(2)):(this.h.info("Failed to ping google.com"),ri(1))},(He=jm.prototype).xa=function(){},He.wa=function(){},He.va=function(){},He.ua=function(){},He.Oa=function(){},$p.prototype.g=function(n,e){return new Bi(n,e)},Mn(Bi,ur),Bi.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Ip(Tn(n.hb,n,e))),ri(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=Db(n,null,n.W),Dn(n)},Bi.prototype.close=function(){Re(this.g)},Bi.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Mt(this.g,e)}else this.v?((e={}).__data__=Ta(n),Mt(this.g,e)):Mt(this.g,n)},Bi.prototype.M=function(){this.g.j=null,delete this.j,Re(this.g),delete this.g,Bi.Z.M.call(this)},Mn(Ab,Xc),Mn(Sb,Ui),Mn(cd,jm),cd.prototype.xa=function(){lr(this.g,"a")},cd.prototype.wa=function(n){lr(this.g,new Ab(n))},cd.prototype.va=function(n){lr(this.g,new Sb(n))},cd.prototype.ua=function(){lr(this.g,"b")},$p.prototype.createWebChannel=$p.prototype.g,Bi.prototype.send=Bi.prototype.u,Bi.prototype.open=Bi.prototype.m,Bi.prototype.close=Bi.prototype.close,Vl.NO_ERROR=0,Vl.TIMEOUT=8,Vl.HTTP_ERROR=6,Mm.COMPLETE="complete",$h.EventType=$o,$o.OPEN="a",$o.CLOSE="b",$o.ERROR="c",$o.MESSAGE="d",ur.prototype.listen=ur.prototype.N,mn.prototype.listenOnce=mn.prototype.O,mn.prototype.getLastError=mn.prototype.La,mn.prototype.getLastErrorCode=mn.prototype.Da,mn.prototype.getStatus=mn.prototype.ba,mn.prototype.getResponseJson=mn.prototype.Qa,mn.prototype.getResponseText=mn.prototype.ga,mn.prototype.send=mn.prototype.ea;var Nb=Zs.createWebChannelTransport=function(){return new $p},dd=Zs.getStatEventTarget=function(){return Zc()},$m=Zs.ErrorCode=Vl,Rb=Zs.EventType=Mm,KD=Zs.Event=us,Hp=Zs.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},ZD=Zs.FetchXmlHttpFactory=od,Gp=Zs.WebChannel=$h,xb=Zs.XhrIo=mn;const bv="@firebase/firestore";class Rr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let hd="9.3.0";const zo=new Ts.Yd("@firebase/firestore");function rf(){return zo.logLevel}function Pe(n,...e){if(zo.logLevel<=Ts.in.DEBUG){const t=e.map(pd);zo.debug(`Firestore (${hd}): ${n}`,...t)}}function dr(n,...e){if(zo.logLevel<=Ts.in.ERROR){const t=e.map(pd);zo.error(`Firestore (${hd}): ${n}`,...t)}}function fd(n,...e){if(zo.logLevel<=Ts.in.WARN){const t=e.map(pd);zo.warn(`Firestore (${hd}): ${n}`,...t)}}function pd(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function et(n="Unexpected state"){const e=`FIRESTORE (${hd}) INTERNAL ASSERTION FAILED: `+n;throw dr(e),new Error(e)}function dt(n,e){n||et()}function Le(n,e){return n}const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Error{constructor(e,t){super(t),this.code=e,this.message=t,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class QD{constructor(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${e}`}}class Ob{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Rr.UNAUTHENTICATED))}shutdown(){}}class JD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Pb{constructor(e){this.t=e,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let a=this.i;const l=T=>this.i!==a?(a=this.i,t(T)):Promise.resolve();let h=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new xr,e.enqueueRetryable(()=>l(this.currentUser))};const y=()=>{const T=h;e.enqueueRetryable((0,he.Z)(function*(){yield T.promise,yield l(r.currentUser)}))},w=T=>{Pe("FirebaseCredentialsProvider","Auth detected"),this.auth=T,this.auth.addAuthTokenListener(this.o),y()};this.t.onInit(T=>w(T)),setTimeout(()=>{if(!this.auth){const T=this.t.getImmediate({optional:!0});T?w(T):(Pe("FirebaseCredentialsProvider","Auth not yet detected"),h.resolve(),h=new xr)}},0),y()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Pe("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(dt("string"==typeof r.accessToken),new QD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return dt(null===e||"string"==typeof e),new Rr(e)}}class XD{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Rr.FIRST_PARTY}get authHeaders(){const e={"X-Goog-AuthUser":this.l},t=this.h.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.m&&(e["X-Goog-Iam-Authorization-Token"]=this.m),e}}class eA{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new XD(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Gn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.g(r),this.p=r=>t.writeSequenceNumber(r))}g(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.p&&this.p(e),e}}function tA(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}Gn.T=-1;class Cv{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const a=tA(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%e.length))}return r}}function Bt(n,e){return n<e?-1:n>e?1:0}function sf(n,e,t){return n.length===e.length&&n.every((r,a)=>t(r,e[a]))}function kb(n){return n+"\0"}class $r{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $r.fromMillis(Date.now())}static fromDate(e){return $r.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new $r(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Bt(this.nanoseconds,e.nanoseconds):Bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Dt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Dt(e)}static min(){return new Dt(new $r(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Fb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function gd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Lb(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ht{constructor(e,t,r){void 0===t?t=0:t>e.length&&et(),void 0===r?r=e.length-t:r>e.length-t&&et(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ht.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ht?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=e.get(a),h=t.get(a);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends ht{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(a=>a.length>0))}return new en(t)}static emptyPath(){return new en([])}}const Vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class wr extends ht{construct(e,t,r){return new wr(e,t,r)}static isValidIdentifier(e){return Vb.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),wr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new wr(["__name__"])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(0===r.length)throw new Se(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let h=!1;for(;a<e.length;){const y=e[a];if("\\"===y){if(a+1===e.length)throw new Se(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[a+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Se(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,a+=2}else"`"===y?(h=!h,a++):"."!==y||h?(r+=y,a++):(l(),a++)}if(l(),h)throw new Se(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new wr(t)}static emptyPath(){return new wr([])}}class _i{constructor(e){this.fields=e,e.sort(wr.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Hr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Hr(t)}static fromUint8Array(e){const t=function(r){let a="";for(let l=0;l<r.length;++l)a+=String.fromCharCode(r[l]);return a}(e);return new Hr(t)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Hr.EMPTY_BYTE_STRING=new Hr("");const Iv=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(n){if(dt(!!n),"string"==typeof n){let e=0;const t=Iv.exec(n);if(dt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:er(n.seconds),nanos:er(n.nanos)}}function er(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function md(n){return"string"==typeof n?Hr.fromBase64String(n):Hr.fromUint8Array(n)}function qp(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function nA(n){const e=n.mapValue.fields.__previous_value__;return qp(e)?nA(e):e}function of(n){const e=vi(n.mapValue.fields.__local_write_time__.timestampValue);return new $r(e.seconds,e.nanos)}function af(n){return null==n}function no(n){return 0===n&&1/n==-1/0}function zp(n){return"number"==typeof n&&Number.isInteger(n)&&!no(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}class Ye{constructor(e){this.path=e}static fromPath(e){return new Ye(en.fromString(e))}static fromName(e){return new Ye(en.fromString(e).popFirst(5))}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ye(new en(e.slice()))}}function Mu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qp(n)?4:10:et()}function Ou(n,e){const t=Mu(n);if(t!==Mu(e))return!1;switch(t){case 0:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return of(n).isEqual(of(e));case 3:return function(r,a){if("string"==typeof r.timestampValue&&"string"==typeof a.timestampValue&&r.timestampValue.length===a.timestampValue.length)return r.timestampValue===a.timestampValue;const l=vi(r.timestampValue),h=vi(a.timestampValue);return l.seconds===h.seconds&&l.nanos===h.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return a=e,md(n.bytesValue).isEqual(md(a.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,a){return er(r.geoPointValue.latitude)===er(a.geoPointValue.latitude)&&er(r.geoPointValue.longitude)===er(a.geoPointValue.longitude)}(n,e);case 2:return function(r,a){if("integerValue"in r&&"integerValue"in a)return er(r.integerValue)===er(a.integerValue);if("doubleValue"in r&&"doubleValue"in a){const l=er(r.doubleValue),h=er(a.doubleValue);return l===h?no(l)===no(h):isNaN(l)&&isNaN(h)}return!1}(n,e);case 9:return sf(n.arrayValue.values||[],e.arrayValue.values||[],Ou);case 10:return function(r,a){const l=r.mapValue.fields||{},h=a.mapValue.fields||{};if(Fb(l)!==Fb(h))return!1;for(const y in l)if(l.hasOwnProperty(y)&&(void 0===h[y]||!Ou(l[y],h[y])))return!1;return!0}(n,e);default:return et()}var a}function Wp(n,e){return void 0!==(n.values||[]).find(t=>Ou(t,e))}function yd(n,e){const t=Mu(n),r=Mu(e);if(t!==r)return Bt(t,r);switch(t){case 0:return 0;case 1:return Bt(n.booleanValue,e.booleanValue);case 2:return function(a,l){const h=er(a.integerValue||a.doubleValue),y=er(l.integerValue||l.doubleValue);return h<y?-1:h>y?1:h===y?0:isNaN(h)?isNaN(y)?0:-1:1}(n,e);case 3:return rA(n.timestampValue,e.timestampValue);case 4:return rA(of(n),of(e));case 5:return Bt(n.stringValue,e.stringValue);case 6:return function(a,l){const h=md(a),y=md(l);return h.compareTo(y)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const h=a.split("/"),y=l.split("/");for(let w=0;w<h.length&&w<y.length;w++){const T=Bt(h[w],y[w]);if(0!==T)return T}return Bt(h.length,y.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const h=Bt(er(a.latitude),er(l.latitude));return 0!==h?h:Bt(er(a.longitude),er(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(a,l){const h=a.values||[],y=l.values||[];for(let w=0;w<h.length&&w<y.length;++w){const T=yd(h[w],y[w]);if(T)return T}return Bt(h.length,y.length)}(n.arrayValue,e.arrayValue);case 10:return function(a,l){const h=a.fields||{},y=Object.keys(h),w=l.fields||{},T=Object.keys(w);y.sort(),T.sort();for(let R=0;R<y.length&&R<T.length;++R){const M=Bt(y[R],T[R]);if(0!==M)return M;const $=yd(h[y[R]],w[T[R]]);if(0!==$)return $}return Bt(y.length,T.length)}(n.mapValue,e.mapValue);default:throw et()}}function rA(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Bt(n,e);const t=vi(n),r=vi(e),a=Bt(t.seconds,r.seconds);return 0!==a?a:Bt(t.nanos,r.nanos)}function Tv(n){return Bb(n)}function Bb(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const a=vi(r);return`time(${a.seconds},${a.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?md(n.bytesValue).toBase64():"referenceValue"in n?Ye.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let a="[",l=!0;for(const h of r.values||[])l?l=!1:a+=",",a+=Bb(h);return a+"]"}(n.arrayValue):"mapValue"in n?function(r){const a=Object.keys(r.fields||{}).sort();let l="{",h=!0;for(const y of a)h?h=!1:l+=",",l+=`${y}:${Bb(r.fields[y])}`;return l+"}"}(n.mapValue):et();var e}function Kp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Hm(n){return!!n&&"integerValue"in n}function Dv(n){return!!n&&"arrayValue"in n}function Gm(n){return!!n&&"nullValue"in n}function iA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Av(n){return!!n&&"mapValue"in n}function qm(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return gd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qm(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qm(n.arrayValue.values[t]);return e}return Object.assign({},n)}class ji{constructor(e){this.value=e}static empty(){return new ji({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Av(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qm(t)}setAll(e){let t=wr.emptyPath(),r={},a=[];e.forEach((h,y)=>{if(!t.isImmediateParentOf(y)){const w=this.getFieldsMap(t);this.applyChanges(w,r,a),r={},a=[],t=y.popLast()}h?r[y.lastSegment()]=qm(h):a.push(y.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Av(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ou(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Av(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){gd(t,(a,l)=>e[a]=l);for(const a of r)delete e[a]}clone(){return new ji(qm(this.value))}}function sA(n){const e=[];return gd(n.fields,(t,r)=>{const a=new wr([t]);if(Av(r)){const l=sA(r.mapValue).fields;if(0===l.length)e.push(a);else for(const h of l)e.push(a.child(h))}else e.push(a)}),new _i(e)}class qn{constructor(e,t,r,a,l){this.key=e,this.documentType=t,this.version=r,this.data=a,this.documentState=l}static newInvalidDocument(e){return new qn(e,0,Dt.min(),ji.empty(),0)}static newFoundDocument(e,t,r){return new qn(e,1,t,r,0)}static newNoDocument(e,t){return new qn(e,2,t,ji.empty(),0)}static newUnknownDocument(e,t){return new qn(e,3,t,ji.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ji.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ji.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}clone(){return new qn(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Wx{constructor(e,t=null,r=[],a=[],l=null,h=null,y=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=h,this.endAt=y,this.A=null}}function oA(n,e=null,t=[],r=[],a=null,l=null,h=null){return new Wx(n,e,t,r,a,l,h)}function zm(n){const e=Le(n);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>function(n){return n.field.canonicalString()+n.op.toString()+Tv(n.value)}(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(a=r).field.canonicalString()+a.dir;var a}).join(","),af(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=uf(e.startAt)),e.endAt&&(t+="|ub:",t+=uf(e.endAt)),e.A=t}return e.A}function Sv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let a=0;a<n.orderBy.length;a++)if(!Gb(n.orderBy[a],e.orderBy[a]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let a=0;a<n.filters.length;a++)if((t=n.filters[a]).op!==(r=e.filters[a]).op||!t.field.isEqual(r.field)||!Ou(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!zb(n.startAt,e.startAt)&&zb(n.endAt,e.endAt)}function Wo(n){return Ye.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class ii extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.R(e,t,r):new jb(e,t,r):"array-contains"===t?new uA(e,r):"in"===t?new Ql(e,r):"not-in"===t?new Hb(e,r):"array-contains-any"===t?new lA(e,r):new ii(e,t,r)}static R(e,t,r){return"in"===t?new Nv(e,r):new $b(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.P(yd(t,this.value)):null!==t&&Mu(this.value)===Mu(t)&&this.P(yd(t,this.value))}P(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return et()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jb extends ii{constructor(e,t,r){super(e,t,r),this.key=Ye.fromName(r.referenceValue)}matches(e){const t=Ye.comparator(e.key,this.key);return this.P(t)}}class Nv extends ii{constructor(e,t){super(e,"in",t),this.keys=Wm(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $b extends ii{constructor(e,t){super(e,"not-in",t),this.keys=Wm(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Wm(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ye.fromName(r.referenceValue))}class uA extends ii{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dv(t)&&Wp(t.arrayValue,this.value)}}class Ql extends ii{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Wp(this.value.arrayValue,t)}}class Hb extends ii{constructor(e,t){super(e,"not-in",t)}matches(e){if(Wp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Wp(this.value.arrayValue,t)}}class lA extends ii{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Wp(this.value.arrayValue,r))}}class Km{constructor(e,t){this.position=e,this.before=t}}function uf(n){return`${n.before?"b":"a"}:${n.position.map(e=>Tv(e)).join(",")}`}class lf{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qb(n,e,t){let r=0;for(let a=0;a<n.position.length;a++){const l=e[a],h=n.position[a];if(r=l.field.isKeyField()?Ye.comparator(Ye.fromName(h.referenceValue),t.key):yd(h,t.data.field(l.field)),"desc"===l.dir&&(r*=-1),0!==r)break}return n.before?r<=0:r<0}function zb(n,e){if(null===n)return null===e;if(null===e||n.before!==e.before||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ou(n.position[t],e.position[t]))return!1;return!0}class As{constructor(e,t=null,r=[],a=[],l=null,h="F",y=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=h,this.startAt=y,this.endAt=w,this.V=null,this.S=null}}function _d(n,e,t,r,a,l,h,y){return new As(n,e,t,r,a,l,h,y)}function Jl(n){return new As(n)}function Pu(n){return!af(n.limit)&&"F"===n.limitType}function Xl(n){return!af(n.limit)&&"L"===n.limitType}function ec(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Rv(n){for(const e of n.filters)if(e.v())return e.field;return null}function Zm(n){return null!==n.collectionGroup}function vd(n){const e=Le(n);if(null===e.V){e.V=[];const t=Rv(e),r=ec(e);if(null!==t&&null===r)t.isKeyField()||e.V.push(new lf(t)),e.V.push(new lf(wr.keyField(),"asc"));else{let a=!1;for(const l of e.explicitOrderBy)e.V.push(l),l.field.isKeyField()&&(a=!0);if(!a){const l=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new lf(wr.keyField(),l))}}}return e.V}function cs(n){const e=Le(n);if(!e.S)if("F"===e.limitType)e.S=oA(e.path,e.collectionGroup,vd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const l of vd(e))t.push(new lf(l.field,"desc"===l.dir?"asc":"desc"));const r=e.endAt?new Km(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Km(e.startAt.position,!e.startAt.before):null;e.S=oA(e.path,e.collectionGroup,t,e.filters,e.limit,r,a)}return e.S}function Ym(n,e,t){return new As(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cf(n,e){return Sv(cs(n),cs(e))&&n.limitType===e.limitType}function Zp(n){return`${zm(cs(n))}|lt:${n.limitType}`}function xv(n){return`Query(target=${function(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${Tv(r.value)}`;var r}).join(", ")}]`),af(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: "+uf(n.startAt)),n.endAt&&(e+=", endAt: "+uf(n.endAt)),`Target(${e})`}(cs(n))}; limitType=${n.limitType})`}function df(n,e){return e.isFoundDocument()&&function(t,r){const a=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(a):Ye.isDocumentKey(t.path)?t.path.isEqual(a):t.path.isImmediateParentOf(a)}(n,e)&&function(t,r){for(const a of t.explicitOrderBy)if(!a.field.isKeyField()&&null===r.data.field(a.field))return!1;return!0}(n,e)&&function(t,r){for(const a of t.filters)if(!a.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!qb(t.startAt,vd(t),r)||t.endAt&&qb(t.endAt,vd(t),r)));var t,r}function cA(n){return(e,t)=>{let r=!1;for(const a of vd(n)){const l=Wb(a,e,t);if(0!==l)return l;r=r||a.field.isKeyField()}return 0}}function Wb(n,e,t){const r=n.field.isKeyField()?Ye.comparator(e.key,t.key):function(a,l,h){const y=l.data.field(a),w=h.data.field(a);return null!==y&&null!==w?yd(y,w):et()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return et()}}function Mv(n,e){if(n.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:no(e)?"-0":e}}function Kb(n){return{integerValue:""+n}}function Ov(n,e){return zp(e)?Kb(e):Mv(n,e)}class Qm{constructor(){this._=void 0}}function dA(n,e,t){return n instanceof hf?function(r,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return a&&(l.fields.__previous_value__=a),{mapValue:l}}(t,e):n instanceof ff?hA(n,e):n instanceof tc?fA(n,e):function(r,a){const l=Zb(r,a),h=Jm(l)+Jm(r.C);return Hm(l)&&Hm(r.C)?Kb(h):Mv(r.N,h)}(n,e)}function Ss(n,e,t){return n instanceof ff?hA(n,e):n instanceof tc?fA(n,e):t}function Zb(n,e){return n instanceof pf?Hm(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class hf extends Qm{}class ff extends Qm{constructor(e){super(),this.elements=e}}function hA(n,e){const t=Pv(e);for(const r of n.elements)t.some(a=>Ou(a,r))||t.push(r);return{arrayValue:{values:t}}}class tc extends Qm{constructor(e){super(),this.elements=e}}function fA(n,e){let t=Pv(e);for(const r of n.elements)t=t.filter(a=>!Ou(a,r));return{arrayValue:{values:t}}}class pf extends Qm{constructor(e,t){super(),this.N=e,this.C=t}}function Jm(n){return er(n.integerValue||n.doubleValue)}function Pv(n){return Dv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yp{constructor(e,t){this.field=e,this.transform=t}}class gA{constructor(e,t){this.version=e,this.transformResults=t}}class hr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new hr}static exists(e){return new hr(void 0,e)}static updateTime(e){return new hr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xm(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qp{}function mA(n,e,t){n instanceof ds?function(r,a,l){const h=r.value.clone(),y=Xb(r.fieldTransforms,a,l.transformResults);h.setAll(y),a.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):n instanceof Oa?function(r,a,l){if(!Xm(r.precondition,a))return void a.convertToUnknownDocument(l.version);const h=Xb(r.fieldTransforms,a,l.transformResults),y=a.data;y.setAll(Jb(r)),y.setAll(h),a.convertToFoundDocument(l.version,y).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function kv(n,e,t){var a;n instanceof ds?function(r,a,l){if(!Xm(r.precondition,a))return;const h=r.value.clone(),y=yA(r.fieldTransforms,l,a);h.setAll(y),a.convertToFoundDocument(Qb(a),h).setHasLocalMutations()}(n,e,t):n instanceof Oa?function(r,a,l){if(!Xm(r.precondition,a))return;const h=yA(r.fieldTransforms,l,a),y=a.data;y.setAll(Jb(r)),y.setAll(h),a.convertToFoundDocument(Qb(a),y).setHasLocalMutations()}(n,e,t):Xm(n.precondition,a=e)&&a.convertToNoDocument(Dt.min())}function Yb(n,e){let t=null;for(const r of n.fieldTransforms){const a=e.data.field(r.field),l=Zb(r.transform,a||null);null!=l&&(null==t&&(t=ji.empty()),t.set(r.field,l))}return t||null}function Fv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&sf(t,r,(a,l)=>function(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof ff&&r instanceof ff||t instanceof tc&&r instanceof tc?sf(t.elements,r.elements,Ou):t instanceof pf&&r instanceof pf?Ou(t.C,r.C):t instanceof hf&&r instanceof hf);var t,r}(a,l))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function Qb(n){return n.isFoundDocument()?n.version:Dt.min()}class ds extends Qp{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}}class Oa extends Qp{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}}function Jb(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Xb(n,e,t){const r=new Map;dt(n.length===t.length);for(let a=0;a<t.length;a++){const l=n[a],h=l.transform,y=e.data.field(l.field);r.set(l.field,Ss(h,y,t[a]))}return r}function yA(n,e,t){const r=new Map;for(const a of n){const l=a.transform,h=t.data.field(a.field);r.set(a.field,dA(l,h,e))}return r}class gf extends Qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Lv extends Qp{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class _A{constructor(e){this.count=e}}var br,jt;function e0(n){switch(n){default:return et();case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0}}function t0(n){if(void 0===n)return dr("GRPC error has no .code"),de.UNKNOWN;switch(n){case br.OK:return de.OK;case br.CANCELLED:return de.CANCELLED;case br.UNKNOWN:return de.UNKNOWN;case br.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case br.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case br.INTERNAL:return de.INTERNAL;case br.UNAVAILABLE:return de.UNAVAILABLE;case br.UNAUTHENTICATED:return de.UNAUTHENTICATED;case br.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case br.NOT_FOUND:return de.NOT_FOUND;case br.ALREADY_EXISTS:return de.ALREADY_EXISTS;case br.PERMISSION_DENIED:return de.PERMISSION_DENIED;case br.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case br.ABORTED:return de.ABORTED;case br.OUT_OF_RANGE:return de.OUT_OF_RANGE;case br.UNIMPLEMENTED:return de.UNIMPLEMENTED;case br.DATA_LOSS:return de.DATA_LOSS;default:return et()}}(jt=br||(br={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";class tr{constructor(e,t){this.comparator=e,this.root=t||si.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,si.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,si.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(0===a)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mf(this.root,e,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mf(this.root,e,this.comparator,!0)}}class mf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(0===l){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class si{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=null!=r?r:si.RED,this.left=null!=a?a:si.EMPTY,this.right=null!=l?l:si.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new si(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=a?a:this.left,null!=l?l:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):0===l?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return si.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),0===t(e,a.key)){if(a.right.isEmpty())return si.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,si.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,si.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw et();const e=this.left.check();if(e!==this.right.check())throw et();return e+(this.isRed()?0:1)}}si.EMPTY=null,si.RED=!0,si.BLACK=!1,si.EMPTY=new class{constructor(){this.size=0}get key(){throw et()}get value(){throw et()}get color(){throw et()}get left(){throw et()}get right(){throw et()}copy(n,e,t,r,a){return this}insert(n,e,t){return new si(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Fn{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ey(this.data.getIterator())}getIteratorFrom(e){return new ey(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(0!==this.comparator(a,l))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fn(this.comparator);return t.data=e,t}}class ey{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const n0=new tr(Ye.comparator);function ro(){return n0}const vA=new tr(Ye.comparator);function Jp(){return vA}const Zx=new tr(Ye.comparator);function r0(){return Zx}const s0=new Fn(Ye.comparator);function on(...n){let e=s0;for(const t of n)e=e.add(t);return e}const o0=new Fn(Bt);function Xp(){return o0}class yf{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ns.createSynthesizedTargetChangeForCurrentChange(e,t)),new yf(Dt.min(),r,Xp(),ro(),on())}}class Ns{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ns(Hr.EMPTY_BYTE_STRING,t,on(),on(),on())}}class Ed{constructor(e,t,r,a){this.k=e,this.removedTargetIds=t,this.key=r,this.$=a}}class a0{constructor(e,t){this.targetId=e,this.O=t}}class u0{constructor(e,t,r=Hr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class EA{constructor(){this.F=0,this.M=vf(),this.L=Hr.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(e){e.approximateByteSize()>0&&(this.U=!0,this.L=e)}W(){let e=on(),t=on(),r=on();return this.M.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:et()}}),new Ns(this.L,this.B,e,t,r)}G(){this.U=!1,this.M=vf()}H(e,t){this.U=!0,this.M=this.M.insert(e,t)}J(e){this.U=!0,this.M=this.M.remove(e)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class _f{constructor(e){this.tt=e,this.et=new Map,this.nt=ro(),this.st=Vv(),this.it=new Fn(Bt)}rt(e){for(const t of e.k)e.$&&e.$.isFoundDocument()?this.ot(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}at(e){this.forEachTarget(e,t=>{const r=this.ut(t);switch(e.state){case 0:this.ht(t)&&r.j(e.resumeToken);break;case 1:r.X(),r.q||r.G(),r.j(e.resumeToken);break;case 2:r.X(),r.q||this.removeTarget(t);break;case 3:this.ht(t)&&(r.Z(),r.j(e.resumeToken));break;case 4:this.ht(t)&&(this.lt(t),r.j(e.resumeToken));break;default:et()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.et.forEach((r,a)=>{this.ht(a)&&t(a)})}ft(e){const t=e.targetId,r=e.O.count,a=this.dt(t);if(a){const l=a.target;if(Wo(l))if(0===r){const h=new Ye(l.path);this.ct(t,h,qn.newNoDocument(h,Dt.min()))}else dt(1===r);else this.wt(t)!==r&&(this.lt(t),this.it=this.it.add(t))}}_t(e){const t=new Map;this.et.forEach((l,h)=>{const y=this.dt(h);if(y){if(l.current&&Wo(y.target)){const w=new Ye(y.target.path);null!==this.nt.get(w)||this.gt(h,w)||this.ct(h,w,qn.newNoDocument(w,e))}l.K&&(t.set(h,l.W()),l.G())}});let r=on();this.st.forEach((l,h)=>{let y=!0;h.forEachWhile(w=>{const T=this.dt(w);return!T||2===T.purpose||(y=!1,!1)}),y&&(r=r.add(l))});const a=new yf(e,t,this.it,this.nt,r);return this.nt=ro(),this.st=Vv(),this.it=new Fn(Bt),a}ot(e,t){if(!this.ht(e))return;const r=this.gt(e,t.key)?2:0;this.ut(e).H(t.key,r),this.nt=this.nt.insert(t.key,t),this.st=this.st.insert(t.key,this.yt(t.key).add(e))}ct(e,t,r){if(!this.ht(e))return;const a=this.ut(e);this.gt(e,t)?a.H(t,1):a.J(t),this.st=this.st.insert(t,this.yt(t).delete(e)),r&&(this.nt=this.nt.insert(t,r))}removeTarget(e){this.et.delete(e)}wt(e){const t=this.ut(e).W();return this.tt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Y(e){this.ut(e).Y()}ut(e){let t=this.et.get(e);return t||(t=new EA,this.et.set(e,t)),t}yt(e){let t=this.st.get(e);return t||(t=new Fn(Bt),this.st=this.st.insert(e,t)),t}ht(e){const t=null!==this.dt(e);return t||Pe("WatchChangeAggregator","Detected inactive target",e),t}dt(e){const t=this.et.get(e);return t&&t.q?null:this.tt.Tt(e)}lt(e){this.et.set(e,new EA),this.tt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}gt(e,t){return this.tt.getRemoteKeysForTarget(e).has(t)}}function Vv(){return new tr(Ye.comparator)}function vf(){return new tr(Ye.comparator)}const eg={asc:"ASCENDING",desc:"DESCENDING"},wA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Uv{constructor(e,t){this.databaseId=e,this.D=t}}function Ef(n,e){return n.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function l0(n,e){return n.D?e.toBase64():e.toUint8Array()}function c0(n,e){return Ef(n,e.toTimestamp())}function Gr(n){return dt(!!n),Dt.fromTimestamp(function(e){const t=vi(e);return new $r(t.seconds,t.nanos)}(n))}function tg(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function d0(n){const e=en.fromString(n);return dt(y0(e)),e}function ng(n,e){return tg(n.databaseId,e.path)}function Ko(n,e){const t=d0(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(de.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ye(h0(t))}function nc(n,e){return tg(n.databaseId,e)}function Bv(n){const e=d0(n);return 4===e.length?en.emptyPath():h0(e)}function rg(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function h0(n){return dt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function wd(n,e,t){return{name:ng(n,e),fields:t.value.mapValue.fields}}function f0(n,e,t){const r=Ko(n,e.name),a=Gr(e.updateTime),l=new ji({mapValue:{fields:e.fields}}),h=qn.newFoundDocument(r,a,l);return t&&h.setHasCommittedMutations(),t?h.setHasCommittedMutations():h}function ty(n,e){let t;if(e instanceof ds)t={update:wd(n,e.key,e.value)};else if(e instanceof gf)t={delete:ng(n,e.key)};else if(e instanceof Oa)t={update:wd(n,e.key,e.data),updateMask:m0(e.fieldMask)};else{if(!(e instanceof Lv))return et();t={verify:ng(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const h=l.transform;if(h instanceof hf)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof ff)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof tc)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof pf)return{fieldPath:l.field.canonicalString(),increment:h.C};throw et()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(a=e.precondition).updateTime?{updateTime:c0(n,a.updateTime)}:void 0!==a.exists?{exists:a.exists}:et()),t;var a}function IA(n,e){const t=e.currentDocument?void 0!==(a=e.currentDocument).updateTime?hr.updateTime(Gr(a.updateTime)):void 0!==a.exists?hr.exists(a.exists):hr.none():hr.none(),r=e.updateTransforms?e.updateTransforms.map(a=>function(l,h){let y=null;"setToServerValue"in h?(dt("REQUEST_TIME"===h.setToServerValue),y=new hf):"appendMissingElements"in h?y=new ff(h.appendMissingElements.values||[]):"removeAllFromArray"in h?y=new tc(h.removeAllFromArray.values||[]):"increment"in h?y=new pf(l,h.increment):et();const w=wr.fromServerFormat(h.fieldPath);return new Yp(w,y)}(n,a)):[];var a;if(e.update){const a=Ko(n,e.update.name),l=new ji({mapValue:{fields:e.update.fields}});if(e.updateMask){const h=new _i((e.updateMask.fieldPaths||[]).map(T=>wr.fromServerFormat(T)));return new Oa(a,l,h,t,r)}return new ds(a,l,t,r)}if(e.delete){const a=Ko(n,e.delete);return new gf(a,t)}if(e.verify){const a=Ko(n,e.verify);return new Lv(a,t)}return et()}function jv(n,e){return{documents:[nc(n,e.path)]}}function An(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=nc(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=nc(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const a=function(y){if(0===y.length)return;const w=y.map(T=>function(R){if("=="===R.op){if(iA(R.value))return{unaryFilter:{field:wf(R.field),op:"IS_NAN"}};if(Gm(R.value))return{unaryFilter:{field:wf(R.field),op:"IS_NULL"}}}else if("!="===R.op){if(iA(R.value))return{unaryFilter:{field:wf(R.field),op:"IS_NOT_NAN"}};if(Gm(R.value))return{unaryFilter:{field:wf(R.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wf(R.field),op:DA(R.op),value:R.value}}}(T));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);a&&(t.structuredQuery.where=a);const l=function(y){if(0!==y.length)return y.map(w=>{return{field:wf((T=w).field),direction:Qx(T.dir)};var T})}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const h=(w=e.limit,n.D||af(w)?w:{value:w});var w;return null!==h&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=ry(e.startAt)),e.endAt&&(t.structuredQuery.endAt=ry(e.endAt)),t}function ny(n){let e=Bv(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){dt(1===r);const R=t.from[0];R.allDescendants?a=R.collectionId:e=e.child(R.collectionId)}let l=[];t.where&&(l=Pa(t.where));let h=[];t.orderBy&&(h=t.orderBy.map(R=>{return new lf(bd((M=R).field),function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let y=null;t.limit&&(y=function(R){let M;return M="object"==typeof R?R.value:R,af(M)?null:M}(t.limit));let w=null;t.startAt&&(w=iy(t.startAt));let T=null;return t.endAt&&(T=iy(t.endAt)),_d(e,a,h,l,y,"F",w,T)}function Pa(n){return n?void 0!==n.unaryFilter?[g0(n)]:void 0!==n.fieldFilter?[p0(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>Pa(e)).reduce((e,t)=>e.concat(t)):et():[]}function ry(n){return{before:n.before,values:n.position}}function iy(n){return new Km(n.values||[],!!n.before)}function Qx(n){return eg[n]}function DA(n){return wA[n]}function wf(n){return{fieldPath:n.canonicalString()}}function bd(n){return wr.fromServerFormat(n.fieldPath)}function p0(n){return ii.create(bd(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return et()}}(n.fieldFilter.op),n.fieldFilter.value)}function g0(n){switch(n.unaryFilter.op){case"IS_NAN":const e=bd(n.unaryFilter.field);return ii.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=bd(n.unaryFilter.field);return ii.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=bd(n.unaryFilter.field);return ii.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=bd(n.unaryFilter.field);return ii.create(a,"!=",{nullValue:"NULL_VALUE"});default:return et()}}function m0(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function y0(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Zo(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=sy(e)),e=ig(n.get(t),e);return sy(e)}function ig(n,e){let t=e;const r=n.length;for(let a=0;a<r;a++){const l=n.charAt(a);switch(l){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=l}}return t}function sy(n){return n+"\x01\x01"}function ka(n){const e=n.length;if(dt(e>=2),2===e)return dt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),en.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const h=n.indexOf("\x01",l);switch((h<0||h>t)&&et(),n.charAt(h+1)){case"\x01":const y=n.substring(l,h);let w;0===a.length?w=y:(a+=y,w=a,a=""),r.push(w);break;case"\x10":a+=n.substring(l,h),a+="\0";break;case"\x11":a+=n.substring(l,h+1);break;default:et()}l=h+2}return new en(r)}class _0{constructor(e,t){this.seconds=e,this.nanoseconds=t}}class hs{constructor(e,t,r){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=r}}hs.store="owner",hs.key="owner";class ku{constructor(e,t,r){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=r}}ku.store="mutationQueues",ku.keyPath="userId";class Sn{constructor(e,t,r,a,l){this.userId=e,this.batchId=t,this.localWriteTimeMs=r,this.baseMutations=a,this.mutations=l}}Sn.store="mutations",Sn.keyPath="batchId",Sn.userMutationsIndex="userMutationsIndex",Sn.userMutationsKeyPath=["userId","batchId"];class Ei{constructor(){}static prefixForUser(e){return[e]}static prefixForPath(e,t){return[e,Zo(t)]}static key(e,t,r){return[e,Zo(t),r]}}Ei.store="documentMutations",Ei.PLACEHOLDER=new Ei;class AA{constructor(e,t){this.path=e,this.readTime=t}}class SA{constructor(e,t){this.path=e,this.version=t}}class zn{constructor(e,t,r,a,l,h){this.unknownDocument=e,this.noDocument=t,this.document=r,this.hasCommittedMutations=a,this.readTime=l,this.parentPath=h}}zn.store="remoteDocuments",zn.readTimeIndex="readTimeIndex",zn.readTimeIndexPath="readTime",zn.collectionReadTimeIndex="collectionReadTimeIndex",zn.collectionReadTimeIndexPath=["parentPath","readTime"];class Fu{constructor(e){this.byteSize=e}}Fu.store="remoteDocumentGlobal",Fu.key="remoteDocumentGlobalKey";class $i{constructor(e,t,r,a,l,h,y){this.targetId=e,this.canonicalId=t,this.readTime=r,this.resumeToken=a,this.lastListenSequenceNumber=l,this.lastLimboFreeSnapshotVersion=h,this.query=y}}$i.store="targets",$i.keyPath="targetId",$i.queryTargetsIndexName="queryTargetsIndex",$i.queryTargetsKeyPath=["canonicalId","targetId"];class oi{constructor(e,t,r){this.targetId=e,this.path=t,this.sequenceNumber=r}}oi.store="targetDocuments",oi.keyPath=["targetId","path"],oi.documentTargetsIndex="documentTargetsIndex",oi.documentTargetsKeyPath=["path","targetId"];class Rs{constructor(e,t,r,a){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=r,this.targetCount=a}}Rs.key="targetGlobalKey",Rs.store="targetGlobal";class bf{constructor(e,t){this.collectionId=e,this.parent=t}}bf.store="collectionParents",bf.keyPath=["collectionId","parent"];class rc{constructor(e,t,r,a){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=r,this.inForeground=a}}rc.store="clientMetadata",rc.keyPath="clientId";class ic{constructor(e,t,r){this.bundleId=e,this.createTime=t,this.version=r}}ic.store="bundles",ic.keyPath="bundleId";class Cf{constructor(e,t,r){this.name=e,this.readTime=t,this.bundledQuery=r}}Cf.store="namedQueries",Cf.keyPath="name";const v0=[ku.store,Sn.store,Ei.store,zn.store,$i.store,hs.store,Rs.store,oi.store,rc.store,Fu.store,bf.store,ic.store,Cf.store],$v="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class we{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&et(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new we((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof we?t:we.resolve(t)}catch(t){return we.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):we.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):we.reject(t)}static resolve(e){return new we((t,r)=>{t(e)})}static reject(e){return new we((t,r)=>{r(e)})}static waitFor(e){return new we((t,r)=>{let a=0,l=0,h=!1;e.forEach(y=>{++a,y.next(()=>{++l,h&&l===a&&t()},w=>r(w))}),h=!0,l===a&&t()})}static or(e){let t=we.resolve(!1);for(const r of e)t=t.next(a=>a?we.resolve(a):r());return t}static forEach(e,t){const r=[];return e.forEach((a,l)=>{r.push(t.call(this,a,l))}),this.waitFor(r)}}class Hv{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.Et=new xr,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{t.error?this.Et.reject(new If(e,t.error)):this.Et.resolve()},this.transaction.onerror=r=>{const a=oy(r.target.error);this.Et.reject(new If(e,a))}}static open(e,t,r,a){try{return new Hv(t,e.transaction(a,r))}catch(l){throw new If(t,l)}}get It(){return this.Et.promise}abort(e){e&&this.Et.reject(e),this.aborted||(Pe("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(e){const t=this.transaction.objectStore(e);return new E0(t)}}class Fa{constructor(e,t,r){this.name=e,this.version=t,this.At=r,12.2===Fa.Rt((0,Rt.z$)())&&dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Pe("SimpleDb","Removing database:",e),Cd(window.indexedDB.deleteDatabase(e)).toPromise()}static bt(){if(!(0,Rt.hl)())return!1;if(Fa.Pt())return!0;const e=(0,Rt.z$)(),t=Fa.Rt(e),r=0<t&&t<10,a=Fa.vt(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static Pt(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Vt)}static St(e,t){return e.store(t)}static Rt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static vt(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}Dt(e){var t=this;return(0,he.Z)(function*(){return t.db||(Pe("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,a)=>{const l=indexedDB.open(t.name,t.version);l.onsuccess=h=>{r(h.target.result)},l.onblocked=()=>{a(new If(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},l.onerror=h=>{const y=h.target.error;a("VersionError"===y.name?new Se(de.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===y.name?new Se(de.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+y):new If(e,y))},l.onupgradeneeded=h=>{Pe("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',h.oldVersion),t.At.Ct(h.target.result,l.transaction,h.oldVersion,t.version).next(()=>{Pe("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Nt&&(t.db.onversionchange=r=>t.Nt(r)),t.db})()}xt(e){this.Nt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,a){var l=this;return(0,he.Z)(function*(){const h="readonly"===t;let y=0;for(;;){++y;try{l.db=yield l.Dt(e);const w=Hv.open(l.db,e,h?"readonly":"readwrite",r),T=a(w).catch(R=>(w.abort(R),we.reject(R))).toPromise();return T.catch(()=>{}),yield w.It,T}catch(w){const T="FirebaseError"!==w.name&&y<3;if(Pe("SimpleDb","Transaction failed with error:",w.message,"Retrying:",T),l.close(),!T)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Jx{constructor(e){this.kt=e,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(e){this.kt=e}done(){this.$t=!0}Mt(e){this.Ot=e}delete(){return Cd(this.kt.delete())}}class If extends Se{constructor(e,t){super(de.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function sc(n){return"IndexedDbTransactionError"===n.name}class E0{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Pe("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Pe("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Cd(r)}add(e){return Pe("SimpleDb","ADD",this.store.name,e,e),Cd(this.store.add(e))}get(e){return Cd(this.store.get(e)).next(t=>(void 0===t&&(t=null),Pe("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Pe("SimpleDb","DELETE",this.store.name,e),Cd(this.store.delete(e))}count(){return Pe("SimpleDb","COUNT",this.store.name),Cd(this.store.count())}Lt(e,t){const r=this.cursor(this.options(e,t)),a=[];return this.Bt(r,(l,h)=>{a.push(h)}).next(()=>a)}Ut(e,t){Pe("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.qt=!1;const a=this.cursor(r);return this.Bt(a,(l,h,y)=>y.delete())}Kt(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.Bt(a,t)}jt(e){const t=this.cursor({});return new we((r,a)=>{t.onerror=l=>{const h=oy(l.target.error);a(h)},t.onsuccess=l=>{const h=l.target.result;h?e(h.primaryKey,h.value).next(y=>{y?h.continue():r()}):r()}})}Bt(e,t){const r=[];return new we((a,l)=>{e.onerror=h=>{l(h.target.error)},e.onsuccess=h=>{const y=h.target.result;if(!y)return void a();const w=new Jx(y),T=t(y.primaryKey,y.value,w);if(T instanceof we){const R=T.catch(M=>(w.done(),we.reject(M)));r.push(R)}w.isDone?a():null===w.Ft?y.continue():y.continue(w.Ft)}}).next(()=>we.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.qt?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Cd(n){return new we((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const a=oy(r.target.error);t(a)}})}let RA=!1;function oy(n){const e=Fa.Rt((0,Rt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Se("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return RA||(RA=!0,setTimeout(()=>{throw r},0)),r}}return n}class ay extends NA{constructor(e,t){super(),this.Qt=e,this.currentSequenceNumber=t}}function fs(n,e){const t=Le(n);return Fa.St(t.Qt,e)}class sg{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&mA(l,e,r[a])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&kv(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&kv(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),a=r;this.applyToLocalView(a),r.isValidDocument()||a.convertToNoDocument(Dt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),on())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,(t,r)=>Fv(t,r))&&sf(this.baseMutations,e.baseMutations,(t,r)=>Fv(t,r))}}class Gv{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){dt(e.mutations.length===r.length);let a=r0();const l=e.mutations;for(let h=0;h<l.length;h++)a=a.insert(l[h].key,r[h].version);return new Gv(e,t,r,a)}}class oc{constructor(e,t,r,a,l=Dt.min(),h=Dt.min(),y=Hr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=y}withSequenceNumber(e){return new oc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new oc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class w0{constructor(e){this.Wt=e}}function qv(n,e){if(e.document)return f0(n.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Ye.fromSegments(e.noDocument.path),r=Id(e.noDocument.readTime),a=qn.newNoDocument(t,r);return e.hasCommittedMutations?a.setHasCommittedMutations():a}if(e.unknownDocument){const t=Ye.fromSegments(e.unknownDocument.path),r=Id(e.unknownDocument.version);return qn.newUnknownDocument(t,r)}return et()}function b0(n,e,t){const r=zv(t),a=e.key.path.popLast().toArray();if(e.isFoundDocument()){const l={name:ng(y=n.Wt,(w=e).key),fields:w.data.value.mapValue.fields,updateTime:Ef(y,w.version.toTimestamp())};return new zn(null,null,l,e.hasCommittedMutations,r,a)}var y,w;if(e.isNoDocument()){const l=e.key.path.toArray(),h=Yo(e.version),y=e.hasCommittedMutations;return new zn(null,new AA(l,h),null,y,r,a)}if(e.isUnknownDocument()){const l=e.key.path.toArray(),h=Yo(e.version);return new zn(new SA(l,h),null,null,!0,r,a)}return et()}function zv(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function og(n){const e=new $r(n[0],n[1]);return Dt.fromTimestamp(e)}function Yo(n){const e=n.toTimestamp();return new _0(e.seconds,e.nanoseconds)}function Id(n){const e=new $r(n.seconds,n.nanoseconds);return Dt.fromTimestamp(e)}function wi(n,e){const t=(e.baseMutations||[]).map(l=>IA(n.Wt,l));for(let l=0;l<e.mutations.length-1;++l){const h=e.mutations[l];l+1<e.mutations.length&&void 0!==e.mutations[l+1].transform&&(h.updateTransforms=e.mutations[l+1].transform.fieldTransforms,e.mutations.splice(l+1,1),++l)}const r=e.mutations.map(l=>IA(n.Wt,l)),a=$r.fromMillis(e.localWriteTimeMs);return new sg(e.batchId,a,t,r)}function Lu(n){const e=Id(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Id(n.lastLimboFreeSnapshotVersion):Dt.min();let r;var a;return void 0!==n.query.documents?(dt(1===(a=n.query).documents.length),r=cs(Jl(Bv(a.documents[0])))):r=cs(ny(n.query)),new oc(r,n.targetId,0,n.lastListenSequenceNumber,e,t,Hr.fromBase64String(n.resumeToken))}function C0(n,e){const t=Yo(e.snapshotVersion),r=Yo(e.lastLimboFreeSnapshotVersion);let a;a=Wo(e.target)?jv(n.Wt,e.target):An(n.Wt,e.target);const l=e.resumeToken.toBase64();return new $i(e.targetId,zm(e.target),t,l,e.sequenceNumber,r,a)}function Wv(n){const e=ny({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Ym(e,e.limit,"L"):e}class Kv{getBundleMetadata(e,t){return Qo(e).get(t).next(r=>{if(r)return{id:(a=r).bundleId,createTime:Id(a.createTime),version:a.version};var a})}saveBundleMetadata(e,t){return Qo(e).put({bundleId:(r=t).id,createTime:Yo(Gr(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return Tf(e).get(t).next(r=>{if(r)return{name:(a=r).name,query:Wv(a.bundledQuery),readTime:Id(a.readTime)};var a})}saveNamedQuery(e,t){return Tf(e).put({name:(r=t).name,readTime:Yo(Gr(r.readTime)),bundledQuery:r.bundledQuery});var r}}function Qo(n){return fs(n,ic.store)}function Tf(n){return fs(n,Cf.store)}class bi{constructor(){this.Gt=new Vu}addToCollectionParentIndex(e,t){return this.Gt.add(t),we.resolve()}getCollectionParents(e,t){return we.resolve(this.Gt.getEntries(t))}}class Vu{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new Fn(en.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new Fn(en.comparator)).toArray()}}class uy{constructor(){this.zt=new Vu}addToCollectionParentIndex(e,t){if(!this.zt.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener(()=>{this.zt.add(t)});const l={collectionId:r,parent:Zo(a)};return xs(e).put(l)}return we.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[kb(t),""],!1,!0);return xs(e).Lt(a).next(l=>{for(const h of l){if(h.collectionId!==t)break;r.push(ka(h.parent))}return r})}}function xs(n){return fs(n,bf.store)}const ly={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Mr{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Mr(e,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Td(n,e,t){const r=n.store(Sn.store),a=n.store(Ei.store),l=[],h=IDBKeyRange.only(t.batchId);let y=0;const w=r.Kt({range:h},(R,M,$)=>(y++,$.delete()));l.push(w.next(()=>{dt(1===y)}));const T=[];for(const R of t.mutations){const M=Ei.key(e,R.key.path,t.batchId);l.push(a.delete(M)),T.push(R.key)}return we.waitFor(l).next(()=>T)}function Uu(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw et();e=n.noDocument}return JSON.stringify(e).length}Mr.DEFAULT_COLLECTION_PERCENTILE=10,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mr.DEFAULT=new Mr(41943040,Mr.DEFAULT_COLLECTION_PERCENTILE,Mr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mr.DISABLED=new Mr(-1,0,0);class ac{constructor(e,t,r,a){this.userId=e,this.N=t,this.Ht=r,this.referenceDelegate=a,this.Jt={}}static Yt(e,t,r,a){dt(""!==e.uid);const l=e.isAuthenticated()?e.uid:"";return new ac(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ms(e).Kt({index:Sn.userMutationsIndex,range:r},(a,l,h)=>{t=!1,h.done()}).next(()=>t)}addMutationBatch(e,t,r,a){const l=Jo(e),h=Ms(e);return h.add({}).next(y=>{dt("number"==typeof y);const w=new sg(y,t,r,a),T=function($,q,ee){const ye=ee.baseMutations.map(Xe=>ty($.Wt,Xe)),xe=ee.mutations.map(Xe=>ty($.Wt,Xe));return new Sn(q,ee.batchId,ee.localWriteTime.toMillis(),ye,xe)}(this.N,this.userId,w),R=[];let M=new Fn(($,q)=>Bt($.canonicalString(),q.canonicalString()));for(const $ of a){const q=Ei.key(this.userId,$.key.path,y);M=M.add($.key.path.popLast()),R.push(h.put(T)),R.push(l.put(q,Ei.PLACEHOLDER))}return M.forEach($=>{R.push(this.Ht.addToCollectionParentIndex(e,$))}),e.addOnCommittedListener(()=>{this.Jt[y]=w.keys()}),we.waitFor(R).next(()=>w)})}lookupMutationBatch(e,t){return Ms(e).get(t).next(r=>r?(dt(r.userId===this.userId),wi(this.N,r)):null)}Xt(e,t){return this.Jt[t]?we.resolve(this.Jt[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const a=r.keys();return this.Jt[t]=a,a}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return Ms(e).Kt({index:Sn.userMutationsIndex,range:a},(h,y,w)=>{y.userId===this.userId&&(dt(y.batchId>=r),l=wi(this.N,y)),w.done()}).next(()=>l)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ms(e).Kt({index:Sn.userMutationsIndex,range:t,reverse:!0},(a,l,h)=>{r=l.batchId,h.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ms(e).Lt(Sn.userMutationsIndex,t).next(r=>r.map(a=>wi(this.N,a)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=Ei.prefixForPath(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return Jo(e).Kt({range:a},(h,y,w)=>{const[T,R,M]=h,$=ka(R);if(T===this.userId&&t.path.isEqual($))return Ms(e).get(M).next(q=>{if(!q)throw et();dt(q.userId===this.userId),l.push(wi(this.N,q))});w.done()}).next(()=>l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Bt);const a=[];return t.forEach(l=>{const h=Ei.prefixForPath(this.userId,l.path),y=IDBKeyRange.lowerBound(h),w=Jo(e).Kt({range:y},(T,R,M)=>{const[$,q,ee]=T,ye=ka(q);$===this.userId&&l.path.isEqual(ye)?r=r.add(ee):M.done()});a.push(w)}),we.waitFor(a).next(()=>this.Zt(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=Ei.prefixForPath(this.userId,r),h=IDBKeyRange.lowerBound(l);let y=new Fn(Bt);return Jo(e).Kt({range:h},(w,T,R)=>{const[M,$,q]=w,ee=ka($);M===this.userId&&r.isPrefixOf(ee)?ee.length===a&&(y=y.add(q)):R.done()}).next(()=>this.Zt(e,y))}Zt(e,t){const r=[],a=[];return t.forEach(l=>{a.push(Ms(e).get(l).next(h=>{if(null===h)throw et();dt(h.userId===this.userId),r.push(wi(this.N,h))}))}),we.waitFor(a).next(()=>r)}removeMutationBatch(e,t){return Td(e.Qt,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.te(t.batchId)}),we.forEach(r,a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))}te(e){delete this.Jt[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return we.resolve();const r=IDBKeyRange.lowerBound(Ei.prefixForUser(this.userId)),a=[];return Jo(e).Kt({range:r},(l,h,y)=>{if(l[0]===this.userId){const w=ka(l[1]);a.push(w)}else y.done()}).next(()=>{dt(0===a.length)})})}containsKey(e,t){return Dd(e,this.userId,t)}ee(e){return Ad(e).get(this.userId).next(t=>t||new ku(this.userId,-1,""))}}function Dd(n,e,t){const r=Ei.prefixForPath(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let h=!1;return Jo(n).Kt({range:l,qt:!0},(y,w,T)=>{const[R,M,$]=y;R===e&&M===a&&(h=!0),T.done()}).next(()=>h)}function Ms(n){return fs(n,Sn.store)}function Jo(n){return fs(n,Ei.store)}function Ad(n){return fs(n,ku.store)}class io{constructor(e){this.ne=e}next(){return this.ne+=2,this.ne}static se(){return new io(0)}static ie(){return new io(-1)}}class I0{constructor(e,t){this.referenceDelegate=e,this.N=t}allocateTargetId(e){return this.re(e).next(t=>{const r=new io(t.highestTargetId);return t.highestTargetId=r.next(),this.oe(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.re(e).next(t=>Dt.fromTimestamp(new $r(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.re(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.re(e).next(a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.oe(e,a)))}addTargetData(e,t){return this.ce(e,t).next(()=>this.re(e).next(r=>(r.targetCount+=1,this.ae(t,r),this.oe(e,r))))}updateTargetData(e,t){return this.ce(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Sd(e).delete(t.targetId)).next(()=>this.re(e)).next(r=>(dt(r.targetCount>0),r.targetCount-=1,this.oe(e,r)))}removeTargets(e,t,r){let a=0;const l=[];return Sd(e).Kt((h,y)=>{const w=Lu(y);w.sequenceNumber<=t&&null===r.get(w.targetId)&&(a++,l.push(this.removeTargetData(e,w)))}).next(()=>we.waitFor(l)).next(()=>a)}forEachTarget(e,t){return Sd(e).Kt((r,a)=>{const l=Lu(a);t(l)})}re(e){return Zv(e).get(Rs.key).next(t=>(dt(null!==t),t))}oe(e,t){return Zv(e).put(Rs.key,t)}ce(e,t){return Sd(e).put(C0(this.N,t))}ae(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.re(e).next(t=>t.targetCount)}getTargetData(e,t){const r=zm(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return Sd(e).Kt({range:a,index:$i.queryTargetsIndexName},(h,y,w)=>{const T=Lu(y);Sv(t,T.target)&&(l=T,w.done())}).next(()=>l)}addMatchingKeys(e,t,r){const a=[],l=Bu(e);return t.forEach(h=>{const y=Zo(h.path);a.push(l.put(new oi(r,y))),a.push(this.referenceDelegate.addReference(e,r,h))}),we.waitFor(a)}removeMatchingKeys(e,t,r){const a=Bu(e);return we.forEach(t,l=>{const h=Zo(l.path);return we.waitFor([a.delete([r,h]),this.referenceDelegate.removeReference(e,r,l)])})}removeMatchingKeysForTargetId(e,t){const r=Bu(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Bu(e);let l=on();return a.Kt({range:r,qt:!0},(h,y,w)=>{const T=ka(h[1]),R=new Ye(T);l=l.add(R)}).next(()=>l)}containsKey(e,t){const r=Zo(t.path),a=IDBKeyRange.bound([r],[kb(r)],!1,!0);let l=0;return Bu(e).Kt({index:oi.documentTargetsIndex,qt:!0,range:a},([h,y],w,T)=>{0!==h&&(l++,T.done())}).next(()=>l>0)}Tt(e,t){return Sd(e).get(t).next(r=>r?Lu(r):null)}}function Sd(n){return fs(n,$i.store)}function Zv(n){return fs(n,Rs.store)}function Bu(n){return fs(n,oi.store)}function uc(n){return cy.apply(this,arguments)}function cy(){return(cy=(0,he.Z)(function*(n){if(n.code!==de.FAILED_PRECONDITION||n.message!==$v)throw n;Pe("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Yv([n,e],[t,r]){const a=Bt(n,t);return 0===a?Bt(e,r):a}class T0{constructor(e){this.ue=e,this.buffer=new Fn(Yv),this.he=0}le(){return++this.he}fe(e){const t=[e,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Yv(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class D0{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.de=!1,this.we=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(e)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(e){var t=this;const r=this.de?3e5:6e4;Pe("LruGarbageCollector",`Garbage collection scheduled in ${r}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",r,(0,he.Z)(function*(){t.we=null,t.de=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(a){sc(a)?Pe("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",a):yield uc(a)}yield t._e(e)}))}}class xA{constructor(e,t){this.me=e,this.params=t}calculateTargetCount(e,t){return this.me.ge(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return we.resolve(Gn.T);const r=new T0(t);return this.me.forEachTarget(e,a=>r.fe(a.sequenceNumber)).next(()=>this.me.ye(e,a=>r.fe(a))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.me.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.me.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector","Garbage collection skipped; disabled"),we.resolve(ly)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Pe("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ly):this.pe(e,t))}getCacheSize(e){return this.me.getCacheSize(e)}pe(e,t){let r,a,l,h,y,w,T;const R=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Pe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),a=this.params.maximumSequenceNumbersToCollect):a=M,h=Date.now(),this.nthSequenceNumber(e,a))).next(M=>(r=M,y=Date.now(),this.removeTargets(e,r,t))).next(M=>(l=M,w=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(T=Date.now(),rf()<=Ts.in.DEBUG&&Pe("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${h-R}ms\n\tDetermined least recently used ${a} in `+(y-h)+`ms\n\tRemoved ${l} targets in `+(w-y)+`ms\n\tRemoved ${M} documents in `+(T-w)+`ms\nTotal Duration: ${T-R}ms`),we.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:M})))}}class A0{constructor(e,t){this.db=e,this.garbageCollector=new xA(this,t)}ge(e){const t=this.Te(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(a=>r+a))}Te(e){let t=0;return this.ye(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}ye(e,t){return this.Ee(e,(r,a)=>t(a))}addReference(e,t,r){return dy(e,r)}removeReference(e,t,r){return dy(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return dy(e,t)}Ie(e,t){return function(r,a){let l=!1;return Ad(r).jt(h=>Dd(r,h,a).next(y=>(y&&(l=!0),we.resolve(!y)))).next(()=>l)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.Ee(e,(h,y)=>{if(y<=t){const w=this.Ie(e,h).next(T=>{if(!T)return l++,r.getEntry(e,h).next(()=>(r.removeEntry(h),Bu(e).delete([0,Zo(h.path)])))});a.push(w)}}).next(()=>we.waitFor(a)).next(()=>r.apply(e)).next(()=>l)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return dy(e,t)}Ee(e,t){const r=Bu(e);let a,l=Gn.T;return r.Kt({index:oi.documentTargetsIndex},([h,y],{path:w,sequenceNumber:T})=>{0===h?(l!==Gn.T&&t(new Ye(ka(a)),l),l=T,a=w):l=Gn.T}).next(()=>{l!==Gn.T&&t(new Ye(ka(a)),l)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function dy(n,e){return Bu(n).put((r=n.currentSequenceNumber,new oi(0,Zo(e.path),r)));var r}class Df{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[a,l]of r)if(this.equalsFn(a,e))return l}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(void 0!==a){for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t])}else this.inner[r]=[[e,t]]}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return 1===r.length?delete this.inner[t]:r.splice(a,1),!0;return!1}forEach(e){gd(this.inner,(t,r)=>{for(const[a,l]of r)e(a,l)})}isEmpty(){return Lb(this.inner)}}class Qv{constructor(){this.changes=new Df(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}getReadTime(e){const t=this.changes.get(e);return t?t.readTime:Dt.min()}addEntry(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})}removeEntry(e,t=null){this.assertNotApplied(),this.changes.set(e,{document:qn.newInvalidDocument(e),readTime:t})}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?we.resolve(r.document):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class MA{constructor(e,t){this.N=e,this.Ht=t}addEntry(e,t,r){return ju(e).put(hy(t),r)}removeEntry(e,t){const r=ju(e),a=hy(t);return r.delete(a)}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Ae(e,r)))}getEntry(e,t){return ju(e).get(hy(t)).next(r=>this.Re(t,r))}be(e,t){return ju(e).get(hy(t)).next(r=>({document:this.Re(t,r),size:Uu(r)}))}getEntries(e,t){let r=ro();return this.Pe(e,t,(a,l)=>{const h=this.Re(a,l);r=r.insert(a,h)}).next(()=>r)}ve(e,t){let r=ro(),a=new tr(Ye.comparator);return this.Pe(e,t,(l,h)=>{const y=this.Re(l,h);r=r.insert(l,y),a=a.insert(l,Uu(h))}).next(()=>({documents:r,Ve:a}))}Pe(e,t,r){if(t.isEmpty())return we.resolve();const a=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),l=t.getIterator();let h=l.getNext();return ju(e).Kt({range:a},(y,w,T)=>{const R=Ye.fromSegments(y);for(;h&&Ye.comparator(h,R)<0;)r(h,null),h=l.getNext();h&&h.isEqual(R)&&(r(h,w),h=l.hasNext()?l.getNext():null),h?T.Mt(h.path.toArray()):T.done()}).next(()=>{for(;h;)r(h,null),h=l.hasNext()?l.getNext():null})}getDocumentsMatchingQuery(e,t,r){let a=ro();const l=t.path.length+1,h={};if(r.isEqual(Dt.min())){const y=t.path.toArray();h.range=IDBKeyRange.lowerBound(y)}else{const y=t.path.toArray(),w=zv(r);h.range=IDBKeyRange.lowerBound([y,w],!0),h.index=zn.collectionReadTimeIndex}return ju(e).Kt(h,(y,w,T)=>{if(y.length!==l)return;const R=qv(this.N,w);t.path.isPrefixOf(R.key.path)?df(t,R)&&(a=a.insert(R.key,R)):T.done()}).next(()=>a)}newChangeBuffer(e){return new Xx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return S0(e).get(Fu.key).next(t=>(dt(!!t),t))}Ae(e,t){return S0(e).put(Fu.key,t)}Re(e,t){if(t){const r=qv(this.N,t);if(!r.isNoDocument()||!r.version.isEqual(Dt.min()))return r}return qn.newInvalidDocument(e)}}class Xx extends Qv{constructor(e,t){super(),this.Se=e,this.trackRemovals=t,this.De=new Df(r=>r.toString(),(r,a)=>r.isEqual(a))}applyChanges(e){const t=[];let r=0,a=new Fn((l,h)=>Bt(l.canonicalString(),h.canonicalString()));return this.changes.forEach((l,h)=>{const y=this.De.get(l);if(h.document.isValidDocument()){const w=b0(this.Se.N,h.document,this.getReadTime(l));a=a.add(l.path.popLast()),r+=Uu(w)-y,t.push(this.Se.addEntry(e,l,w))}else if(r-=y,this.trackRemovals){const w=b0(this.Se.N,qn.newNoDocument(l,Dt.min()),this.getReadTime(l));t.push(this.Se.addEntry(e,l,w))}else t.push(this.Se.removeEntry(e,l))}),a.forEach(l=>{t.push(this.Se.Ht.addToCollectionParentIndex(e,l))}),t.push(this.Se.updateMetadata(e,r)),we.waitFor(t)}getFromCache(e,t){return this.Se.be(e,t).next(r=>(this.De.set(t,r.size),r.document))}getAllFromCache(e,t){return this.Se.ve(e,t).next(({documents:r,Ve:a})=>(a.forEach((l,h)=>{this.De.set(l,h)}),r))}}function S0(n){return fs(n,Fu.store)}function ju(n){return fs(n,zn.store)}function hy(n){return n.path.toArray()}class N0{constructor(e){this.N=e}Ct(e,t,r,a){dt(r<a&&r>=0&&a<=11);const l=new Hv("createOrUpgrade",t);var y;r<1&&a>=1&&(e.createObjectStore(hs.store),(y=e).createObjectStore(ku.store,{keyPath:ku.keyPath}),y.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0}),y.createObjectStore(Ei.store),R0(e),function(y){y.createObjectStore(zn.store)}(e));let h=we.resolve();return r<3&&a>=3&&(0!==r&&(function(y){y.deleteObjectStore(oi.store),y.deleteObjectStore($i.store),y.deleteObjectStore(Rs.store)}(e),R0(e)),h=h.next(()=>function(y){const w=y.store(Rs.store),T=new Rs(0,0,Dt.min().toTimestamp(),0);return w.put(Rs.key,T)}(l))),r<4&&a>=4&&(0!==r&&(h=h.next(()=>function(y,w){return w.store(Sn.store).Lt().next(T=>{y.deleteObjectStore(Sn.store),y.createObjectStore(Sn.store,{keyPath:Sn.keyPath,autoIncrement:!0}).createIndex(Sn.userMutationsIndex,Sn.userMutationsKeyPath,{unique:!0});const R=w.store(Sn.store),M=T.map($=>R.put($));return we.waitFor(M)})}(e,l))),h=h.next(()=>{!function(y){y.createObjectStore(rc.store,{keyPath:rc.keyPath})}(e)})),r<5&&a>=5&&(h=h.next(()=>this.Ce(l))),r<6&&a>=6&&(h=h.next(()=>(function(y){y.createObjectStore(Fu.store)}(e),this.Ne(l)))),r<7&&a>=7&&(h=h.next(()=>this.xe(l))),r<8&&a>=8&&(h=h.next(()=>this.ke(e,l))),r<9&&a>=9&&(h=h.next(()=>{(function(y){y.objectStoreNames.contains("remoteDocumentChanges")&&y.deleteObjectStore("remoteDocumentChanges")})(e),function(y){const w=y.objectStore(zn.store);w.createIndex(zn.readTimeIndex,zn.readTimeIndexPath,{unique:!1}),w.createIndex(zn.collectionReadTimeIndex,zn.collectionReadTimeIndexPath,{unique:!1})}(t)})),r<10&&a>=10&&(h=h.next(()=>this.$e(l))),r<11&&a>=11&&(h=h.next(()=>{(function(y){y.createObjectStore(ic.store,{keyPath:ic.keyPath})})(e),function(y){y.createObjectStore(Cf.store,{keyPath:Cf.keyPath})}(e)})),h}Ne(e){let t=0;return e.store(zn.store).Kt((r,a)=>{t+=Uu(a)}).next(()=>{const r=new Fu(t);return e.store(Fu.store).put(Fu.key,r)})}Ce(e){const t=e.store(ku.store),r=e.store(Sn.store);return t.Lt().next(a=>we.forEach(a,l=>{const h=IDBKeyRange.bound([l.userId,-1],[l.userId,l.lastAcknowledgedBatchId]);return r.Lt(Sn.userMutationsIndex,h).next(y=>we.forEach(y,w=>{dt(w.userId===l.userId);const T=wi(this.N,w);return Td(e,l.userId,T).next(()=>{})}))}))}xe(e){const t=e.store(oi.store),r=e.store(zn.store);return e.store(Rs.store).get(Rs.key).next(a=>{const l=[];return r.Kt((h,y)=>{const w=new en(h),T=[0,Zo(w)];l.push(t.get(T).next(R=>R?we.resolve():t.put(new oi(0,Zo(w),a.highestListenSequenceNumber))))}).next(()=>we.waitFor(l))})}ke(e,t){e.createObjectStore(bf.store,{keyPath:bf.keyPath});const r=t.store(bf.store),a=new Vu,l=h=>{if(a.add(h)){const y=h.lastSegment(),w=h.popLast();return r.put({collectionId:y,parent:Zo(w)})}};return t.store(zn.store).Kt({qt:!0},(h,y)=>{const w=new en(h);return l(w.popLast())}).next(()=>t.store(Ei.store).Kt({qt:!0},([h,y,w],T)=>{const R=ka(y);return l(R.popLast())}))}$e(e){const t=e.store($i.store);return t.Kt((r,a)=>{const l=Lu(a),h=C0(this.N,l);return t.put(h)})}}function R0(n){n.createObjectStore(oi.store,{keyPath:oi.keyPath}).createIndex(oi.documentTargetsIndex,oi.documentTargetsKeyPath,{unique:!0}),n.createObjectStore($i.store,{keyPath:$i.keyPath}).createIndex($i.queryTargetsIndexName,$i.queryTargetsKeyPath,{unique:!0}),n.createObjectStore(Rs.store)}const Jv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class x0{constructor(e,t,r,a,l,h,y,w,T,R){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Oe=l,this.window=h,this.document=y,this.Fe=T,this.Me=R,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=M=>Promise.resolve(),!x0.bt())throw new Se(de.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new A0(this,a),this.We=t+"main",this.N=new w0(w),this.Ge=new Fa(this.We,11,new N0(this.N)),this.ze=new I0(this.referenceDelegate,this.N),this.Ht=new uy,this.He=new MA(this.N,this.Ht),this.Je=new Kv,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===R&&dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,Jv);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ze.getHighestSequenceNumber(e))}).then(e=>{this.Le=new Gn(e,this.Fe)}).then(()=>{this.Be=!0}).catch(e=>(this.Ge&&this.Ge.close(),Promise.reject(e)))}nn(e){var t=this;return this.Qe=function(){var r=(0,he.Z)(function*(a){if(t.started)return e(a)});return function(a){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ge.xt(function(){var t=(0,he.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Oe.enqueueAndForget((0,he.Z)(function*(){t.started&&(yield t.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>ug(e).put(new rc(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(e).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(e)).next(t=>this.isPrimary&&!t?this.on(e).next(()=>!1):!!t&&this.cn(e).next(()=>!0))).catch(e=>{if(sc(e))return Pe("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Pe("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Oe.enqueueRetryable(()=>this.Qe(e)),this.isPrimary=e})}sn(e){return ag(e).get(hs.key).next(t=>we.resolve(this.an(t)))}un(e){return ug(e).delete(this.clientId)}hn(){var e=this;return(0,he.Z)(function*(){if(e.isPrimary&&!e.ln(e.je,18e5)){e.je=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const a=fs(r,rc.store);return a.Lt().next(l=>{const h=e.fn(l,18e5),y=l.filter(w=>-1===h.indexOf(w));return we.forEach(y,w=>a.delete(w.clientId)).next(()=>y)})}).catch(()=>[]);if(e.Ye)for(const r of t)e.Ye.removeItem(e.dn(r.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}an(e){return!!e&&e.ownerId===this.clientId}rn(e){return this.Me?we.resolve(!0):ag(e).get(hs.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)){if(this.an(t)&&this.networkEnabled)return!0;if(!this.an(t)){if(!t.allowTabSynchronization)throw new Se(de.FAILED_PRECONDITION,Jv);return!1}}return!(!this.networkEnabled||!this.inForeground)||ug(e).Lt().next(r=>void 0===this.fn(r,5e3).find(a=>{if(this.clientId!==a.clientId){const h=!this.inForeground&&a.inForeground,y=this.networkEnabled===a.networkEnabled;if(!this.networkEnabled&&a.networkEnabled||h&&y)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Pe("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,he.Z)(function*(){e.Be=!1,e._n(),e.Ke&&(e.Ke.cancel(),e.Ke=null),e.mn(),e.gn(),yield e.Ge.runTransaction("shutdown","readwrite",[hs.store,rc.store],t=>{const r=new ay(t,Gn.T);return e.on(r).next(()=>e.un(r))}),e.Ge.close(),e.yn()})()}fn(e,t){return e.filter(r=>this.ln(r.updateTimeMs,t)&&!this.wn(r.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",e=>ug(e).Lt().next(t=>this.fn(t,18e5).map(r=>r.clientId)))}get started(){return this.Be}getMutationQueue(e){return ac.Yt(e,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(e,t,r){let l;return Pe("IndexedDbPersistence","Starting transaction:",e),this.Ge.runTransaction(e,"readonly"===t?"readonly":"readwrite",v0,h=>(l=new ay(h,this.Le?this.Le.next():Gn.T),"readwrite-primary"===t?this.sn(l).next(y=>!!y||this.rn(l)).next(y=>{if(!y)throw dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new Se(de.FAILED_PRECONDITION,$v);return r(l)}).next(y=>this.cn(l).next(()=>y)):this.Tn(l).next(()=>r(l)))).then(h=>(l.raiseOnCommittedEvent(),h))}Tn(e){return ag(e).get(hs.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.an(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Se(de.FAILED_PRECONDITION,Jv)})}cn(e){const t=new hs(this.clientId,this.allowTabSynchronization,Date.now());return ag(e).put(hs.key,t)}static bt(){return Fa.bt()}on(e){const t=ag(e);return t.get(hs.key).next(r=>this.an(r)?(Pe("IndexedDbPersistence","Releasing primary lease."),t.delete(hs.key)):we.resolve())}ln(e,t){const r=Date.now();return!(e<r-t||e>r&&(dr(`Detected an update time that is in the future: ${e} > ${r}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Ue=()=>{this._n(),(0,Rt.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(e){var t;try{const r=null!==(null===(t=this.Ye)||void 0===t?void 0:t.getItem(this.dn(e)));return Pe("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(e){dr("Failed to set zombie client id.",e)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(e){}}dn(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function ag(n){return fs(n,hs.store)}function ug(n){return fs(n,rc.store)}function M0(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class eM{constructor(e,t){this.progress=e,this.En=t}}class OA{constructor(e,t,r){this.He=e,this.In=t,this.Ht=r}An(e,t){return this.In.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Rn(e,t,r))}Rn(e,t,r){return this.He.getEntry(e,t).next(a=>{for(const l of r)l.applyToLocalView(a);return a})}bn(e,t){e.forEach((r,a)=>{for(const l of t)l.applyToLocalView(a)})}Pn(e,t){return this.He.getEntries(e,t).next(r=>this.vn(e,r).next(()=>r))}vn(e,t){return this.In.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.bn(t,r))}getDocumentsMatchingQuery(e,t,r){return Ye.isDocumentKey((a=t).path)&&null===a.collectionGroup&&0===a.filters.length?this.Vn(e,t.path):Zm(t)?this.Sn(e,t,r):this.Dn(e,t,r);var a}Vn(e,t){return this.An(e,new Ye(t)).next(r=>{let a=Jp();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a})}Sn(e,t,r){const a=t.collectionGroup;let l=Jp();return this.Ht.getCollectionParents(e,a).next(h=>we.forEach(h,y=>{const w=(T=t,R=y.child(a),new As(R,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt));var T,R;return this.Dn(e,w,r).next(T=>{T.forEach((R,M)=>{l=l.insert(R,M)})})}).next(()=>l))}Dn(e,t,r){let a,l;return this.He.getDocumentsMatchingQuery(e,t,r).next(h=>(a=h,this.In.getAllMutationBatchesAffectingQuery(e,t))).next(h=>(l=h,this.Cn(e,l,a).next(y=>{a=y;for(const w of l)for(const T of w.mutations){const R=T.key;let M=a.get(R);null==M&&(M=qn.newInvalidDocument(R),a=a.insert(R,M)),kv(T,M,w.localWriteTime),M.isFoundDocument()||(a=a.remove(R))}}))).next(()=>(a.forEach((h,y)=>{df(t,y)||(a=a.remove(h))}),a))}Cn(e,t,r){let a=on();for(const h of t)for(const y of h.mutations)y instanceof Oa&&null===r.get(y.key)&&(a=a.add(y.key));let l=r;return this.He.getEntries(e,a).next(h=>(h.forEach((y,w)=>{w.isFoundDocument()&&(l=l.insert(y,w))}),l))}}class Xv{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Nn=r,this.xn=a}static kn(e,t){let r=on(),a=on();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Xv(e,t.fromCache,r,a)}}class PA{$n(e){this.On=e}getDocumentsMatchingQuery(e,t,r,a){return 0===(l=t).filters.length&&null===l.limit&&null==l.startAt&&null==l.endAt&&(0===l.explicitOrderBy.length||1===l.explicitOrderBy.length&&l.explicitOrderBy[0].field.isKeyField())||r.isEqual(Dt.min())?this.Fn(e,t):this.On.Pn(e,a).next(l=>{const h=this.Mn(t,l);return(Pu(t)||Xl(t))&&this.Ln(t.limitType,h,a,r)?this.Fn(e,t):(rf()<=Ts.in.DEBUG&&Pe("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),xv(t)),this.On.getDocumentsMatchingQuery(e,t,r).next(y=>(h.forEach(w=>{y=y.insert(w.key,w)}),y)))});var l}Mn(e,t){let r=new Fn(cA(e));return t.forEach((a,l)=>{df(e,l)&&(r=r.add(l))}),r}Ln(e,t,r,a){if(r.size!==t.size)return!0;const l="F"===e?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Fn(e,t){return rf()<=Ts.in.DEBUG&&Pe("QueryEngine","Using full collection scan to execute query:",xv(t)),this.On.getDocumentsMatchingQuery(e,t,Dt.min())}}class kA{constructor(e,t,r,a){this.persistence=e,this.Bn=t,this.N=a,this.Un=new tr(Bt),this.qn=new Df(l=>zm(l),Sv),this.Kn=Dt.min(),this.In=e.getMutationQueue(r),this.jn=e.getRemoteDocumentCache(),this.ze=e.getTargetCache(),this.Qn=new OA(this.jn,this.In,this.persistence.getIndexManager()),this.Je=e.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Un))}}function O0(n,e,t,r){return new kA(n,e,t,r)}function fy(n,e){return lg.apply(this,arguments)}function lg(){return(lg=(0,he.Z)(function*(n,e){const t=Le(n);let r=t.In,a=t.Qn;const l=yield t.persistence.runTransaction("Handle user change","readonly",h=>{let y;return t.In.getAllMutationBatches(h).next(w=>(y=w,r=t.persistence.getMutationQueue(e),a=new OA(t.jn,r,t.persistence.getIndexManager()),r.getAllMutationBatches(h))).next(w=>{const T=[],R=[];let M=on();for(const $ of y){T.push($.batchId);for(const q of $.mutations)M=M.add(q.key)}for(const $ of w){R.push($.batchId);for(const q of $.mutations)M=M.add(q.key)}return a.Pn(h,M).next($=>({Wn:$,removedBatchIds:T,addedBatchIds:R}))})});return t.In=r,t.Qn=a,t.Bn.$n(t.Qn),l})).apply(this,arguments)}function FA(n,e){const t=Le(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const a=e.batch.keys(),l=t.jn.newChangeBuffer({trackRemovals:!0});return function(h,y,w,T){const R=w.batch,M=R.keys();let $=we.resolve();return M.forEach(q=>{$=$.next(()=>T.getEntry(y,q)).next(ee=>{const ye=w.docVersions.get(q);dt(null!==ye),ee.version.compareTo(ye)<0&&(R.applyToRemoteDocument(ee,w),ee.isValidDocument()&&T.addEntry(ee,w.commitVersion))})}),$.next(()=>h.In.removeMutationBatch(y,R))}(t,r,e,l).next(()=>l.apply(r)).next(()=>t.In.performConsistencyCheck(r)).next(()=>t.Qn.Pn(r,a))})}function LA(n){const e=Le(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function tM(n,e){const t=Le(n),r=e.snapshotVersion;let a=t.Un;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.jn.newChangeBuffer({trackRemovals:!0});a=t.Un;const y=[];e.targetChanges.forEach((T,R)=>{const M=a.get(R);if(!M)return;y.push(t.ze.removeMatchingKeys(l,T.removedDocuments,R).next(()=>t.ze.addMatchingKeys(l,T.addedDocuments,R)));const $=T.resumeToken;if($.approximateByteSize()>0){const q=M.withResumeToken($,r).withSequenceNumber(l.currentSequenceNumber);a=a.insert(R,q),ee=M,xe=T,dt((ye=q).resumeToken.approximateByteSize()>0),(0===ee.resumeToken.approximateByteSize()||ye.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&y.push(t.ze.updateTargetData(l,q))}var ee,ye,xe});let w=ro();if(e.documentUpdates.forEach((T,R)=>{e.resolvedLimboDocuments.has(T)&&y.push(t.persistence.referenceDelegate.updateLimboDocument(l,T))}),y.push(VA(l,h,e.documentUpdates,r,void 0).next(T=>{w=T})),!r.isEqual(Dt.min())){const T=t.ze.getLastRemoteSnapshotVersion(l).next(R=>t.ze.setTargetsMetadata(l,l.currentSequenceNumber,r));y.push(T)}return we.waitFor(y).next(()=>h.apply(l)).next(()=>t.Qn.vn(l,w)).next(()=>w)}).then(l=>(t.Un=a,l))}function VA(n,e,t,r,a){let l=on();return t.forEach(h=>l=l.add(h)),e.getEntries(n,l).next(h=>{let y=ro();return t.forEach((w,T)=>{const R=h.get(w),M=(null==a?void 0:a.get(w))||r;T.isNoDocument()&&T.version.isEqual(Dt.min())?(e.removeEntry(w,M),y=y.insert(w,T)):!R.isValidDocument()||T.version.compareTo(R.version)>0||0===T.version.compareTo(R.version)&&R.hasPendingWrites?(e.addEntry(T,M),y=y.insert(w,T)):Pe("LocalStore","Ignoring outdated watch update for ",w,". Current version:",R.version," Watch version:",T.version)}),y})}function UA(n,e){const t=Le(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.In.getNextMutationBatchAfterBatchId(r,e)))}function Nd(n,e){const t=Le(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let a;return t.ze.getTargetData(r,e).next(l=>l?(a=l,we.resolve(a)):t.ze.allocateTargetId(r).next(h=>(a=new oc(e,h,0,r.currentSequenceNumber),t.ze.addTargetData(r,a).next(()=>a))))}).then(r=>{const a=t.Un.get(r.targetId);return(null===a||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.Un=t.Un.insert(r.targetId,r),t.qn.set(e,r.targetId)),r})}function cg(n,e,t){return eE.apply(this,arguments)}function eE(){return(eE=(0,he.Z)(function*(n,e,t){const r=Le(n),a=r.Un.get(e),l=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",l,h=>r.persistence.referenceDelegate.removeTarget(h,a)))}catch(h){if(!sc(h))throw h;Pe("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}r.Un=r.Un.remove(e),r.qn.delete(a.target)})).apply(this,arguments)}function $u(n,e,t){const r=Le(n);let a=Dt.min(),l=on();return r.persistence.runTransaction("Execute query","readonly",h=>function(y,w,T){const R=Le(y),M=R.qn.get(T);return void 0!==M?we.resolve(R.Un.get(M)):R.ze.getTargetData(w,T)}(r,h,cs(e)).next(y=>{if(y)return a=y.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(h,y.targetId).next(w=>{l=w})}).next(()=>r.Bn.getDocumentsMatchingQuery(h,e,t?a:Dt.min(),t?l:on())).next(y=>({documents:y,Gn:l})))}function P0(n,e){const t=Le(n),r=Le(t.ze),a=t.Un.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",l=>r.Tt(l,e).next(h=>h?h.target:null))}function tE(n){const e=Le(n);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(r,a,l){const h=Le(r);let y=ro(),w=zv(l);const T=ju(a),R=IDBKeyRange.lowerBound(w,!0);return T.Kt({index:zn.readTimeIndex,range:R},(M,$)=>{const q=qv(h.N,$);y=y.insert(q.key,q),w=$.readTime}).next(()=>({En:y,readTime:og(w)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:r})=>(e.Kn=r,t))}function py(){return(py=(0,he.Z)(function*(n){const e=Le(n);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(r){const a=ju(r);let l=Dt.min();return a.Kt({index:zn.readTimeIndex,reverse:!0},(h,y,w)=>{y.readTime&&(l=og(y.readTime)),w.done()}).next(()=>l)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function nE(){return(nE=(0,he.Z)(function*(n,e,t,r){const a=Le(n);let l=on(),h=ro(),y=r0();for(const R of t){const M=e.zn(R.metadata.name);R.document&&(l=l.add(M)),h=h.insert(M,e.Hn(R)),y=y.insert(M,e.Jn(R.metadata.readTime))}const w=a.jn.newChangeBuffer({trackRemovals:!0}),T=yield Nd(a,(R=r,cs(Jl(en.fromString(`__bundle__/docs/${R}`)))));var R;return a.persistence.runTransaction("Apply bundle documents","readwrite",R=>VA(R,w,h,Dt.min(),y).next(M=>(w.apply(R),M)).next(M=>a.ze.removeMatchingKeysForTargetId(R,T.targetId).next(()=>a.ze.addMatchingKeys(R,l,T.targetId)).next(()=>a.Qn.vn(R,M)).next(()=>M)))})).apply(this,arguments)}function k0(n,e){return rE.apply(this,arguments)}function rE(){return(rE=(0,he.Z)(function*(n,e,t=on()){const r=yield Nd(n,cs(Wv(e.bundledQuery))),a=Le(n);return a.persistence.runTransaction("Save named query","readwrite",l=>{const h=Gr(e.readTime);if(r.snapshotVersion.compareTo(h)>=0)return a.Je.saveNamedQuery(l,e);const y=r.withResumeToken(Hr.EMPTY_BYTE_STRING,h);return a.Un=a.Un.insert(y.targetId,y),a.ze.updateTargetData(l,y).next(()=>a.ze.removeMatchingKeysForTargetId(l,r.targetId)).next(()=>a.ze.addMatchingKeys(l,t,r.targetId)).next(()=>a.Je.saveNamedQuery(l,e))})})).apply(this,arguments)}class jA{constructor(e){this.N=e,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(e,t){return we.resolve(this.Yn.get(t))}saveBundleMetadata(e,t){var r;return this.Yn.set(t.id,{id:(r=t).id,version:r.version,createTime:Gr(r.createTime)}),we.resolve()}getNamedQuery(e,t){return we.resolve(this.Xn.get(t))}saveNamedQuery(e,t){return this.Xn.set(t.name,{name:(r=t).name,query:Wv(r.bundledQuery),readTime:Gr(r.readTime)}),we.resolve();var r}}class iE{constructor(){this.Zn=new Fn(qr.ts),this.es=new Fn(qr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const r=new qr(e,t);this.Zn=this.Zn.add(r),this.es=this.es.add(r)}ss(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.rs(new qr(e,t))}os(e,t){e.forEach(r=>this.removeReference(r,t))}cs(e){const t=new Ye(new en([])),r=new qr(t,e),a=new qr(t,e+1),l=[];return this.es.forEachInRange([r,a],h=>{this.rs(h),l.push(h.key)}),l}us(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new Ye(new en([])),r=new qr(t,e),a=new qr(t,e+1);let l=on();return this.es.forEachInRange([r,a],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new qr(e,0),r=this.Zn.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class qr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return Ye.comparator(e.key,t.key)||Bt(e.ls,t.ls)}static ns(e,t){return Bt(e.ls,t.ls)||Ye.comparator(e.key,t.key)}}class $A{constructor(e,t){this.Ht=e,this.referenceDelegate=t,this.In=[],this.fs=1,this.ds=new Fn(qr.ts)}checkEmpty(e){return we.resolve(0===this.In.length)}addMutationBatch(e,t,r,a){const l=this.fs;this.fs++;const h=new sg(l,t,r,a);this.In.push(h);for(const y of a)this.ds=this.ds.add(new qr(y.key,l)),this.Ht.addToCollectionParentIndex(e,y.key.path.popLast());return we.resolve(h)}lookupMutationBatch(e,t){return we.resolve(this.ws(t))}getNextMutationBatchAfterBatchId(e,t){const a=this._s(t+1),l=a<0?0:a;return we.resolve(this.In.length>l?this.In[l]:null)}getHighestUnacknowledgedBatchId(){return we.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(e){return we.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new qr(t,0),a=new qr(t,Number.POSITIVE_INFINITY),l=[];return this.ds.forEachInRange([r,a],h=>{const y=this.ws(h.ls);l.push(y)}),we.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fn(Bt);return t.forEach(a=>{const l=new qr(a,0),h=new qr(a,Number.POSITIVE_INFINITY);this.ds.forEachInRange([l,h],y=>{r=r.add(y.ls)})}),we.resolve(this.gs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;Ye.isDocumentKey(l)||(l=l.child(""));const h=new qr(new Ye(l),0);let y=new Fn(Bt);return this.ds.forEachWhile(w=>{const T=w.key.path;return!!r.isPrefixOf(T)&&(T.length===a&&(y=y.add(w.ls)),!0)},h),we.resolve(this.gs(y))}gs(e){const t=[];return e.forEach(r=>{const a=this.ws(r);null!==a&&t.push(a)}),t}removeMutationBatch(e,t){dt(0===this.ys(t.batchId,"removed")),this.In.shift();let r=this.ds;return we.forEach(t.mutations,a=>{const l=new qr(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.ds=r})}te(e){}containsKey(e,t){const r=new qr(t,0),a=this.ds.firstAfterOrEqual(r);return we.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return we.resolve()}ys(e,t){return this._s(e)}_s(e){return 0===this.In.length?0:e-this.In[0].batchId}ws(e){const t=this._s(e);return t<0||t>=this.In.length?null:this.In[t]}}class F0{constructor(e,t){this.Ht=e,this.ps=t,this.docs=new tr(Ye.comparator),this.size=0}addEntry(e,t,r){const a=t.key,l=this.docs.get(a),h=l?l.size:0,y=this.ps(t);return this.docs=this.docs.insert(a,{document:t.clone(),size:y,readTime:r}),this.size+=y-h,this.Ht.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return we.resolve(r?r.document.clone():qn.newInvalidDocument(t))}getEntries(e,t){let r=ro();return t.forEach(a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.clone():qn.newInvalidDocument(a))}),we.resolve(r)}getDocumentsMatchingQuery(e,t,r){let a=ro();const l=new Ye(t.path.child("")),h=this.docs.getIteratorFrom(l);for(;h.hasNext();){const{key:y,value:{document:w,readTime:T}}=h.getNext();if(!t.path.isPrefixOf(y.path))break;T.compareTo(r)<=0||df(t,w)&&(a=a.insert(w.key,w.clone()))}return we.resolve(a)}Ts(e,t){return we.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new HA(this)}getSize(e){return we.resolve(this.size)}}class HA extends Qv{constructor(e){super(),this.Se=e}applyChanges(e){const t=[];return this.changes.forEach((r,a)=>{a.document.isValidDocument()?t.push(this.Se.addEntry(e,a.document,this.getReadTime(r))):this.Se.removeEntry(r)}),we.waitFor(t)}getFromCache(e,t){return this.Se.getEntry(e,t)}getAllFromCache(e,t){return this.Se.getEntries(e,t)}}class L0{constructor(e){this.persistence=e,this.Es=new Df(t=>zm(t),Sv),this.lastRemoteSnapshotVersion=Dt.min(),this.highestTargetId=0,this.Is=0,this.As=new iE,this.targetCount=0,this.Rs=io.se()}forEachTarget(e,t){return this.Es.forEach((r,a)=>t(a)),we.resolve()}getLastRemoteSnapshotVersion(e){return we.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return we.resolve(this.Is)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),we.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Is&&(this.Is=t),we.resolve()}ce(e){this.Es.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new io(t),this.highestTargetId=t),e.sequenceNumber>this.Is&&(this.Is=e.sequenceNumber)}addTargetData(e,t){return this.ce(t),this.targetCount+=1,we.resolve()}updateTargetData(e,t){return this.ce(t),we.resolve()}removeTargetData(e,t){return this.Es.delete(t.target),this.As.cs(t.targetId),this.targetCount-=1,we.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.Es.forEach((h,y)=>{y.sequenceNumber<=t&&null===r.get(y.targetId)&&(this.Es.delete(h),l.push(this.removeMatchingKeysForTargetId(e,y.targetId)),a++)}),we.waitFor(l).next(()=>a)}getTargetCount(e){return we.resolve(this.targetCount)}getTargetData(e,t){const r=this.Es.get(t)||null;return we.resolve(r)}addMatchingKeys(e,t,r){return this.As.ss(t,r),we.resolve()}removeMatchingKeys(e,t,r){this.As.os(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(h=>{l.push(a.markPotentiallyOrphaned(e,h))}),we.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.As.cs(t),we.resolve()}getMatchingKeysForTargetId(e,t){const r=this.As.hs(t);return we.resolve(r)}containsKey(e,t){return we.resolve(this.As.containsKey(t))}}class V0{constructor(e,t){this.bs={},this.Le=new Gn(0),this.Be=!1,this.Be=!0,this.referenceDelegate=e(this),this.ze=new L0(this),this.Ht=new bi,this.He=new F0(this.Ht,r=>this.referenceDelegate.Ps(r)),this.N=new w0(t),this.Je=new jA(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(e){let t=this.bs[e.toKey()];return t||(t=new $A(this.Ht,this.referenceDelegate),this.bs[e.toKey()]=t),t}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(e,t,r){Pe("MemoryPersistence","Starting transaction:",e);const a=new sE(this.Le.next());return this.referenceDelegate.vs(),r(a).next(l=>this.referenceDelegate.Vs(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Ss(e,t){return we.or(Object.values(this.bs).map(r=>()=>r.containsKey(e,t)))}}class sE extends NA{constructor(e){super(),this.currentSequenceNumber=e}}class U0{constructor(e){this.persistence=e,this.Ds=new iE,this.Cs=null}static Ns(e){return new U0(e)}get xs(){if(this.Cs)return this.Cs;throw et()}addReference(e,t,r){return this.Ds.addReference(r,t),this.xs.delete(r.toString()),we.resolve()}removeReference(e,t,r){return this.Ds.removeReference(r,t),this.xs.add(r.toString()),we.resolve()}markPotentiallyOrphaned(e,t){return this.xs.add(t.toString()),we.resolve()}removeTarget(e,t){this.Ds.cs(t.targetId).forEach(a=>this.xs.add(a.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.xs.add(l.toString()))}).next(()=>r.removeTargetData(e,t))}vs(){this.Cs=new Set}Vs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return we.forEach(this.xs,r=>{const a=Ye.fromPath(r);return this.ks(e,a).next(l=>{l||t.removeEntry(a)})}).next(()=>(this.Cs=null,t.apply(e)))}updateLimboDocument(e,t){return this.ks(e,t).next(r=>{r?this.xs.delete(t.toString()):this.xs.add(t.toString())})}Ps(e){return 0}ks(e,t){return we.or([()=>we.resolve(this.Ds.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ss(e,t)])}}function my(n,e){return`firestore_clients_${n}_${e}`}function B0(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function j0(n,e){return`firestore_targets_${n}_${e}`}class lc{constructor(e,t,r,a){this.user=e,this.batchId=t,this.state=r,this.error=a}static $s(e,t,r){const a=JSON.parse(r);let l,h="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return h&&a.error&&(h="string"==typeof a.error.message&&"string"==typeof a.error.code,h&&(l=new Se(a.error.code,a.error.message))),h?new lc(e,t,a.state,l):(dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dg{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static $s(e,t){const r=JSON.parse(t);let a,l="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return l&&r.error&&(l="string"==typeof r.error.message&&"string"==typeof r.error.code,l&&(a=new Se(r.error.code,r.error.message))),l?new dg(e,r.state,a):(dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Os(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Af{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const r=JSON.parse(t);let a="object"==typeof r&&r.activeTargetIds instanceof Array,l=Xp();for(let h=0;a&&h<r.activeTargetIds.length;++h)a=zp(r.activeTargetIds[h]),l=l.add(r.activeTargetIds[h]);return a?new Af(e,l):(dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class hg{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new hg(t.clientId,t.onlineState):(dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class oE{constructor(){this.activeTargetIds=Xp()}Fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ms(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Os(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fg{constructor(e,t,r,a,l){this.window=e,this.Oe=t,this.persistenceKey=r,this.Ls=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new tr(Bt),this.started=!1,this.Ks=[];const h=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.js=my(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new oE),this.Ws=new RegExp(`^firestore_clients_${h}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${h}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${h}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(y){return`firestore_bundle_loaded_${y}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,he.Z)(function*(){const t=yield e.syncEngine.pn();for(const a of t){if(a===e.Ls)continue;const l=e.getItem(my(e.persistenceKey,a));if(l){const h=Af.$s(a,l);h&&(e.qs=e.qs.insert(h.clientId,h))}}e.Ys();const r=e.storage.getItem(e.Hs);if(r){const a=e.Xs(r);a&&e.Zs(a)}for(const a of e.Ks)e.Us(a);e.Ks=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.Qs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(e){let t=!1;return this.qs.forEach((r,a)=>{a.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.ei(e,"pending")}updateMutationState(e,t,r){this.ei(e,t,r),this.ni(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(j0(this.persistenceKey,e));if(r){const a=dg.$s(e,r);a&&(t=a.state)}}return this.si.Fs(e),this.Ys(),t}removeLocalQueryTarget(e){this.si.Ms(e),this.Ys()}isLocalQueryTarget(e){return this.si.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(j0(this.persistenceKey,e))}updateQueryState(e,t,r){this.ii(e,t,r)}handleUserChange(e,t,r){t.forEach(a=>{this.ni(a)}),this.currentUser=e,r.forEach(a=>{this.addPendingMutation(a)})}setOnlineState(e){this.ri(e)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Pe("SharedClientState","READ",e,t),t}setItem(e,t){Pe("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Pe("SharedClientState","REMOVE",e),this.storage.removeItem(e)}Us(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Pe("SharedClientState","EVENT",r.key,r.newValue),r.key===this.js)return void dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,he.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ws.test(r.key)){if(null==r.newValue){const a=t.ci(r.key);return t.ai(a,null)}{const a=t.ui(r.key,r.newValue);if(a)return t.ai(a.clientId,a)}}else if(t.Gs.test(r.key)){if(null!==r.newValue){const a=t.hi(r.key,r.newValue);if(a)return t.li(a)}}else if(t.zs.test(r.key)){if(null!==r.newValue){const a=t.fi(r.key,r.newValue);if(a)return t.di(a)}}else if(r.key===t.Hs){if(null!==r.newValue){const a=t.Xs(r.newValue);if(a)return t.Zs(a)}}else if(r.key===t.Qs){const a=function(l){let h=Gn.T;if(null!=l)try{const y=JSON.parse(l);dt("number"==typeof y),h=y}catch(y){dr("SharedClientState","Failed to read sequence number from WebStorage",y)}return h}(r.newValue);a!==Gn.T&&t.sequenceNumberHandler(a)}else if(r.key===t.Js)return t.syncEngine.wi()}else t.Ks.push(r)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(e,t,r){const a=new lc(this.currentUser,e,t,r),l=B0(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Os())}ni(e){const t=B0(this.persistenceKey,this.currentUser,e);this.removeItem(t)}ri(e){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:e}))}ii(e,t,r){const a=j0(this.persistenceKey,e),l=new dg(e,t,r);this.setItem(a,l.Os())}oi(){this.setItem(this.Js,"value-not-used")}ci(e){const t=this.Ws.exec(e);return t?t[1]:null}ui(e,t){const r=this.ci(e);return Af.$s(r,t)}hi(e,t){const r=this.Gs.exec(e),a=Number(r[1]);return lc.$s(new Rr(void 0!==r[2]?r[2]:null),a,t)}fi(e,t){const r=this.zs.exec(e),a=Number(r[1]);return dg.$s(a,t)}Xs(e){return hg.$s(e)}li(e){var t=this;return(0,he.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine._i(e.batchId,e.state,e.error);Pe("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}di(e){return this.syncEngine.mi(e.targetId,e.state,e.error)}ai(e,t){const r=t?this.qs.insert(e,t):this.qs.remove(e),a=this.ti(this.qs),l=this.ti(r),h=[],y=[];return l.forEach(w=>{a.has(w)||h.push(w)}),a.forEach(w=>{l.has(w)||y.push(w)}),this.syncEngine.gi(h,y).then(()=>{this.qs=r})}Zs(e){this.qs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ti(e){let t=Xp();return e.forEach((r,a)=>{t=t.unionWith(a.activeTargetIds)}),t}}class yy{constructor(){this.yi=new oE,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.yi.Fs(e),this.pi[e]||"not-current"}updateQueryState(e,t,r){this.pi[e]=t}removeLocalQueryTarget(e){this.yi.Ms(e)}isLocalQueryTarget(e){return this.yi.activeTargetIds.has(e)}clearQueryState(e){delete this.pi[e]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(e){return this.yi.activeTargetIds.has(e)}start(){return this.yi=new oE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class $0{Ti(e){}shutdown(){}}class GA{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(e){this.bi.push(e)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Pe("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.bi)e(0)}Ri(){Pe("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.bi)e(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const qA={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class aE{constructor(e){this.vi=e.vi,this.Vi=e.Vi}Si(e){this.Di=e}Ci(e){this.Ni=e}onMessage(e){this.xi=e}close(){this.Vi()}send(e){this.vi(e)}ki(){this.Di()}$i(e){this.Ni(e)}Oi(e){this.xi(e)}}class uE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.Fi=(e.ssl?"https":"http")+"://"+e.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(e,t,r,a){const l=this.Bi(e,t);Pe("RestConnection","Sending: ",l,r);const h={};return this.Ui(h,a),this.qi(e,l,h,r).then(y=>(Pe("RestConnection","Received: ",y),y),y=>{throw fd("RestConnection",`${e} failed with error: `,y,"url: ",l,"request:",r),y})}Ki(e,t,r,a){return this.Li(e,t,r,a)}Ui(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/"+hd,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(const r in t.authHeaders)t.authHeaders.hasOwnProperty(r)&&(e[r]=t.authHeaders[r])}Bi(e,t){return`${this.Fi}/v1/${t}:${qA[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}qi(e,t,r,a){return new Promise((l,h)=>{const y=new xb;y.listenOnce(Rb.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case $m.NO_ERROR:const T=y.getResponseJson();Pe("Connection","XHR received:",JSON.stringify(T)),l(T);break;case $m.TIMEOUT:Pe("Connection",'RPC "'+e+'" timed out'),h(new Se(de.DEADLINE_EXCEEDED,"Request time out"));break;case $m.HTTP_ERROR:const R=y.getStatus();if(Pe("Connection",'RPC "'+e+'" failed with status:',R,"response text:",y.getResponseText()),R>0){const M=y.getResponseJson().error;if(M&&M.status&&M.message){const $=function(q){const ee=q.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(ee)>=0?ee:de.UNKNOWN}(M.status);h(new Se($,M.message))}else h(new Se(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else h(new Se(de.UNAVAILABLE,"Connection failed."));break;default:et()}}finally{Pe("Connection",'RPC "'+e+'" completed.')}});const w=JSON.stringify(a);y.send(t,"POST",w,r,15)})}ji(e,t){const r=[this.Fi,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Nb(),l=dd(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new ZD({})),this.Ui(h.initMessageHeaders,t),(0,Rt.uI)()||(0,Rt.b$)()||(0,Rt.d)()||(0,Rt.w1)()||(0,Rt.Mn)()||(0,Rt.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const y=r.join("");Pe("Connection","Creating WebChannel: "+y,h);const w=a.createWebChannel(y,h);let T=!1,R=!1;const M=new aE({vi:q=>{R?Pe("Connection","Not sending because WebChannel is closed:",q):(T||(Pe("Connection","Opening WebChannel transport."),w.open(),T=!0),Pe("Connection","WebChannel sending:",q),w.send(q))},Vi:()=>w.close()}),$=(q,ee,ye)=>{q.listen(ee,xe=>{try{ye(xe)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return $(w,Gp.EventType.OPEN,()=>{R||Pe("Connection","WebChannel transport opened.")}),$(w,Gp.EventType.CLOSE,()=>{R||(R=!0,Pe("Connection","WebChannel transport closed"),M.$i())}),$(w,Gp.EventType.ERROR,q=>{R||(R=!0,fd("Connection","WebChannel transport errored:",q),M.$i(new Se(de.UNAVAILABLE,"The operation could not be completed")))}),$(w,Gp.EventType.MESSAGE,q=>{var ee;if(!R){const ye=q.data[0];dt(!!ye);const xe=ye,Xe=xe.error||(null===(ee=xe[0])||void 0===ee?void 0:ee.error);if(Xe){Pe("Connection","WebChannel received error:",Xe);const at=Xe.status;let Ot=function(dn){const pr=br[dn];if(void 0!==pr)return t0(pr)}(at),ot=Xe.message;void 0===Ot&&(Ot=de.INTERNAL,ot="Unknown error status: "+at+" with message "+Xe.message),R=!0,M.$i(new Se(Ot,ot)),w.close()}else Pe("Connection","WebChannel received:",ye),M.Oi(ye)}}),$(l,KD.STAT_EVENT,q=>{q.stat===Hp.PROXY?Pe("Connection","Detected buffering proxy"):q.stat===Hp.NOPROXY&&Pe("Connection","Detected no buffering proxy")}),setTimeout(()=>{M.ki()},0),M}}function H0(){return"undefined"!=typeof window?window:null}function pg(){return"undefined"!=typeof document?document:null}function Rd(n){return new Uv(n,!0)}class _y{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Oe=e,this.timerId=t,this.Qi=r,this.Wi=a,this.Gi=l,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(e){this.cancel();const t=Math.floor(this.zi+this.Zi()),r=Math.max(0,Date.now()-this.Ji),a=Math.max(0,t-r);a>0&&Pe("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.zi} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,a,()=>(this.Ji=Date.now(),e())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class vy{constructor(e,t,r,a,l,h,y){this.Oe=e,this.er=r,this.nr=a,this.sr=l,this.credentialsProvider=h,this.listener=y,this.state=0,this.ir=0,this.rr=null,this.cr=null,this.stream=null,this.ar=new _y(e,t)}ur(){return 1===this.state||5===this.state||this.hr()}hr(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.lr()}stop(){var e=this;return(0,he.Z)(function*(){e.ur()&&(yield e.close(0))})()}dr(){this.state=0,this.ar.reset()}wr(){this.hr()&&null===this.rr&&(this.rr=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this._r()))}mr(e){this.gr(),this.stream.send(e)}_r(){var e=this;return(0,he.Z)(function*(){if(e.hr())return e.close(0)})()}gr(){this.rr&&(this.rr.cancel(),this.rr=null)}yr(){this.cr&&(this.cr.cancel(),this.cr=null)}close(e,t){var r=this;return(0,he.Z)(function*(){r.gr(),r.yr(),r.ar.cancel(),r.ir++,4!==e?r.ar.reset():t&&t.code===de.RESOURCE_EXHAUSTED?(dr(t.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),r.ar.Yi()):t&&t.code===de.UNAUTHENTICATED&&3!==r.state&&r.credentialsProvider.invalidateToken(),null!==r.stream&&(r.pr(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Ci(t)})()}pr(){}auth(){this.state=1;const e=this.Tr(this.ir),t=this.ir;this.credentialsProvider.getToken().then(r=>{this.ir===t&&this.Er(r)},r=>{e(()=>{const a=new Se(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Ir(a)})})}Er(e){const t=this.Tr(this.ir);this.stream=this.Ar(e),this.stream.Si(()=>{t(()=>(this.state=2,this.cr=this.Oe.enqueueAfterDelay(this.nr,1e4,()=>(this.hr()&&(this.state=3),Promise.resolve())),this.listener.Si()))}),this.stream.Ci(r=>{t(()=>this.Ir(r))}),this.stream.onMessage(r=>{t(()=>this.onMessage(r))})}lr(){var e=this;this.state=5,this.ar.Xi((0,he.Z)(function*(){e.state=0,e.start()}))}Ir(e){return Pe("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Tr(e){return t=>{this.Oe.enqueueAndForget(()=>this.ir===e?t():(Pe("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class lE extends vy{constructor(e,t,r,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,l),this.N=a}Ar(e){return this.sr.ji("Listen",e)}onMessage(e){this.ar.reset();const t=function(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:et(),a=e.targetChange.targetIds||[],l=function(w,T){return w.D?(dt(void 0===T||"string"==typeof T),Hr.fromBase64String(T||"")):(dt(void 0===T||T instanceof Uint8Array),Hr.fromUint8Array(T||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,y=h&&function(w){const T=void 0===w.code?de.UNKNOWN:t0(w.code);return new Se(T,w.message||"")}(h);t=new u0(r,a,l,y||null)}else if("documentChange"in e){const r=e.documentChange,a=Ko(n,r.document.name),l=Gr(r.document.updateTime),h=new ji({mapValue:{fields:r.document.fields}}),y=qn.newFoundDocument(a,l,h);t=new Ed(r.targetIds||[],r.removedTargetIds||[],y.key,y)}else if("documentDelete"in e){const r=e.documentDelete,a=Ko(n,r.document),l=r.readTime?Gr(r.readTime):Dt.min(),h=qn.newNoDocument(a,l);t=new Ed([],r.removedTargetIds||[],h.key,h)}else if("documentRemove"in e){const r=e.documentRemove,a=Ko(n,r.document);t=new Ed([],r.removedTargetIds||[],a,null)}else{if(!("filter"in e))return et();{const r=e.filter,l=new _A(r.count||0);t=new a0(r.targetId,l)}}var w;return t}(this.N,e),r=function(a){if(!("targetChange"in a))return Dt.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?Dt.min():l.readTime?Gr(l.readTime):Dt.min()}(e);return this.listener.Rr(t,r)}br(e){const t={};t.database=rg(this.N),t.addTarget=function(a,l){let h;const y=l.target;return h=Wo(y)?{documents:jv(a,y)}:{query:An(a,y)},h.targetId=l.targetId,l.resumeToken.approximateByteSize()>0?h.resumeToken=l0(a,l.resumeToken):l.snapshotVersion.compareTo(Dt.min())>0&&(h.readTime=Ef(a,l.snapshotVersion.toTimestamp())),h}(this.N,e);const r=function(n,e){const t=function(r,a){switch(a){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return et()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.mr(t)}Pr(e){const t={};t.database=rg(this.N),t.removeTarget=e,this.mr(t)}}class G0 extends vy{constructor(e,t,r,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,l),this.N=a,this.vr=!1}get Vr(){return this.vr}start(){this.vr=!1,this.lastStreamToken=void 0,super.start()}pr(){this.vr&&this.Sr([])}Ar(e){return this.sr.ji("Write",e)}onMessage(e){if(dt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.vr){this.ar.reset();const t=function(n,e){return n&&n.length>0?(dt(void 0!==e),n.map(t=>function(r,a){let l=Gr(r.updateTime?r.updateTime:a);return l.isEqual(Dt.min())&&(l=Gr(a)),new gA(l,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Gr(e.commitTime);return this.listener.Dr(r,t)}return dt(!e.writeResults||0===e.writeResults.length),this.vr=!0,this.listener.Cr()}Nr(){const e={};e.database=rg(this.N),this.mr(e)}Sr(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>ty(this.N,r))};this.mr(t)}}class zA extends class{}{constructor(e,t,r){super(),this.credentials=e,this.sr=t,this.N=r,this.kr=!1}$r(){if(this.kr)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}Li(e,t,r){return this.$r(),this.credentials.getToken().then(a=>this.sr.Li(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Se(de.UNKNOWN,a.toString())})}Ki(e,t,r){return this.$r(),this.credentials.getToken().then(a=>this.sr.Ki(e,t,r,a)).catch(a=>{throw"FirebaseError"===a.name?(a.code===de.UNAUTHENTICATED&&this.credentials.invalidateToken(),a):new Se(de.UNKNOWN,a.toString())})}terminate(){this.kr=!0}}class q0{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Or=0,this.Fr=null,this.Mr=!0}Lr(){0===this.Or&&(this.Br("Unknown"),this.Fr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.Fr=null,this.Ur("Backend didn't respond within 10 seconds."),this.Br("Offline"),Promise.resolve())))}qr(e){"Online"===this.state?this.Br("Unknown"):(this.Or++,this.Or>=1&&(this.Kr(),this.Ur(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.Br("Offline")))}set(e){this.Kr(),this.Or=0,"Online"===e&&(this.Mr=!1),this.Br(e)}Br(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}Ur(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.Mr?(dr(t),this.Mr=!1):Pe("OnlineStateTracker",t)}Kr(){null!==this.Fr&&(this.Fr.cancel(),this.Fr=null)}}class z0{constructor(e,t,r,a,l){var h=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.jr=[],this.Qr=new Map,this.Wr=new Set,this.Gr=[],this.zr=l,this.zr.Ti(y=>{r.enqueueAndForget((0,he.Z)(function*(){var w;Hu(h)&&(Pe("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,he.Z)(function*(T){const R=Le(T);R.Wr.add(4),yield Sf(R),R.Hr.set("Unknown"),R.Wr.delete(4),yield xd(R)}),function(T){return w.apply(this,arguments)})(h))}))}),this.Hr=new q0(r,a)}}function xd(n){return Ey.apply(this,arguments)}function Ey(){return(Ey=(0,he.Z)(function*(n){if(Hu(n))for(const e of n.Gr)yield e(!0)})).apply(this,arguments)}function Sf(n){return cE.apply(this,arguments)}function cE(){return(cE=(0,he.Z)(function*(n){for(const e of n.Gr)yield e(!1)})).apply(this,arguments)}function wy(n,e){const t=Le(n);t.Qr.has(e.targetId)||(t.Qr.set(e.targetId,e),Cy(t)?by(t):Hi(t).hr()&&gg(t,e))}function Nf(n,e){const t=Le(n),r=Hi(t);t.Qr.delete(e),r.hr()&&dE(t,e),0===t.Qr.size&&(r.hr()?r.wr():Hu(t)&&t.Hr.set("Unknown"))}function gg(n,e){n.Jr.Y(e.targetId),Hi(n).br(e)}function dE(n,e){n.Jr.Y(e),Hi(n).Pr(e)}function by(n){n.Jr=new _f({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>n.Qr.get(e)||null}),Hi(n).start(),n.Hr.Lr()}function Cy(n){return Hu(n)&&!Hi(n).ur()&&n.Qr.size>0}function Hu(n){return 0===Le(n).Wr.size}function hE(n){n.Jr=void 0}function W0(n){return Iy.apply(this,arguments)}function Iy(){return(Iy=(0,he.Z)(function*(n){n.Qr.forEach((e,t)=>{gg(n,e)})})).apply(this,arguments)}function K0(n,e){return Z0.apply(this,arguments)}function Z0(){return(Z0=(0,he.Z)(function*(n,e){hE(n),Cy(n)?(n.Hr.qr(e),by(n)):n.Hr.set("Unknown")})).apply(this,arguments)}function WA(n,e,t){return fE.apply(this,arguments)}function fE(){return(fE=(0,he.Z)(function*(n,e,t){if(n.Hr.set("Online"),e instanceof u0&&2===e.state&&e.cause)try{yield(r=(0,he.Z)(function*(a,l){const h=l.cause;for(const y of l.targetIds)a.Qr.has(y)&&(yield a.remoteSyncer.rejectListen(y,h),a.Qr.delete(y),a.Jr.removeTarget(y))}),function(a,l){return r.apply(this,arguments)})(n,e)}catch(r){Pe("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mg(n,r)}else if(e instanceof Ed?n.Jr.rt(e):e instanceof a0?n.Jr.ft(e):n.Jr.at(e),!t.isEqual(Dt.min()))try{const r=yield LA(n.localStore);t.compareTo(r)>=0&&(yield function(a,l){const h=a.Jr._t(l);return h.targetChanges.forEach((y,w)=>{if(y.resumeToken.approximateByteSize()>0){const T=a.Qr.get(w);T&&a.Qr.set(w,T.withResumeToken(y.resumeToken,l))}}),h.targetMismatches.forEach(y=>{const w=a.Qr.get(y);if(!w)return;a.Qr.set(y,w.withResumeToken(Hr.EMPTY_BYTE_STRING,w.snapshotVersion)),dE(a,y);const T=new oc(w.target,y,1,w.sequenceNumber);gg(a,T)}),a.remoteSyncer.applyRemoteEvent(h)}(n,t))}catch(r){Pe("RemoteStore","Failed to raise snapshot:",r),yield mg(n,r)}var r})).apply(this,arguments)}function mg(n,e,t){return pE.apply(this,arguments)}function pE(){return(pE=(0,he.Z)(function*(n,e,t){if(!sc(e))throw e;n.Wr.add(1),yield Sf(n),n.Hr.set("Offline"),t||(t=()=>LA(n.localStore)),n.asyncQueue.enqueueRetryable((0,he.Z)(function*(){Pe("RemoteStore","Retrying IndexedDB access"),yield t(),n.Wr.delete(1),yield xd(n)}))})).apply(this,arguments)}function Cr(n,e){return e().catch(t=>mg(n,t,e))}function Md(n){return gE.apply(this,arguments)}function gE(){return(gE=(0,he.Z)(function*(n){const e=Le(n),t=dc(e);let r=e.jr.length>0?e.jr[e.jr.length-1].batchId:-1;for(;KA(e);)try{const a=yield UA(e.localStore,r);if(null===a){0===e.jr.length&&t.wr();break}r=a.batchId,Y0(e,a)}catch(a){yield mg(e,a)}Q0(e)&&mE(e)})).apply(this,arguments)}function KA(n){return Hu(n)&&n.jr.length<10}function Y0(n,e){n.jr.push(e);const t=dc(n);t.hr()&&t.Vr&&t.Sr(e.mutations)}function Q0(n){return Hu(n)&&!dc(n).ur()&&n.jr.length>0}function mE(n){dc(n).start()}function J0(n){return cc.apply(this,arguments)}function cc(){return(cc=(0,he.Z)(function*(n){dc(n).Nr()})).apply(this,arguments)}function ZA(n){return yE.apply(this,arguments)}function yE(){return(yE=(0,he.Z)(function*(n){const e=dc(n);for(const t of n.jr)e.Sr(t.mutations)})).apply(this,arguments)}function X0(n,e,t){return _E.apply(this,arguments)}function _E(){return(_E=(0,he.Z)(function*(n,e,t){const r=n.jr.shift(),a=Gv.from(r,e,t);yield Cr(n,()=>n.remoteSyncer.applySuccessfulWrite(a)),yield Md(n)})).apply(this,arguments)}function eC(n,e){return tC.apply(this,arguments)}function tC(){return(tC=(0,he.Z)(function*(n,e){var t;e&&dc(n).Vr&&(yield(t=(0,he.Z)(function*(r,a){if(e0(l=a.code)&&l!==de.ABORTED){const h=r.jr.shift();dc(r).dr(),yield Cr(r,()=>r.remoteSyncer.rejectFailedWrite(h.batchId,a)),yield Md(r)}var l}),function(r,a){return t.apply(this,arguments)})(n,e)),Q0(n)&&mE(n)})).apply(this,arguments)}function yg(n,e){return _g.apply(this,arguments)}function _g(){return(_g=(0,he.Z)(function*(n,e){const t=Le(n);e?(t.Wr.delete(2),yield xd(t)):e||(t.Wr.add(2),yield Sf(t),t.Hr.set("Unknown"))})).apply(this,arguments)}function Hi(n){return n.Yr||(n.Yr=function(e,t,r){const a=Le(e);return a.$r(),new lE(t,a.sr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:W0.bind(null,n),Ci:K0.bind(null,n),Rr:WA.bind(null,n)}),n.Gr.push(function(){var e=(0,he.Z)(function*(t){t?(n.Yr.dr(),Cy(n)?by(n):n.Hr.set("Unknown")):(yield n.Yr.stop(),hE(n))});return function(t){return e.apply(this,arguments)}}())),n.Yr}function dc(n){return n.Xr||(n.Xr=function(e,t,r){const a=Le(e);return a.$r(),new G0(t,a.sr,a.credentials,a.N,r)}(n.datastore,n.asyncQueue,{Si:J0.bind(null,n),Ci:eC.bind(null,n),Cr:ZA.bind(null,n),Dr:X0.bind(null,n)}),n.Gr.push(function(){var e=(0,he.Z)(function*(t){t?(n.Xr.dr(),yield Md(n)):(yield n.Xr.stop(),n.jr.length>0&&(Pe("RemoteStore",`Stopping write stream with ${n.jr.length} pending writes`),n.jr=[]))});return function(t){return e.apply(this,arguments)}}())),n.Xr}class Ty{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}static createAndSchedule(e,t,r,a,l){const h=Date.now()+r,y=new Ty(e,t,h,a,l);return y.start(r),y}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Se(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gi(n,e){if(dr("AsyncQueue",`${e}: ${n}`),sc(n))return new Se(de.UNAVAILABLE,`${e}: ${n}`);throw n}class Ci{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ye.comparator(t.key,r.key):(t,r)=>Ye.comparator(t.key,r.key),this.keyedMap=Jp(),this.sortedSet=new tr(this.comparator)}static emptySet(e){return new Ci(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ci)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ci;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class so{constructor(){this.Zr=new tr(Ye.comparator)}track(e){const t=e.doc.key,r=this.Zr.get(t);r?0!==e.type&&3===r.type?this.Zr=this.Zr.insert(t,e):3===e.type&&1!==r.type?this.Zr=this.Zr.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Zr=this.Zr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Zr=this.Zr.remove(t):1===e.type&&2===r.type?this.Zr=this.Zr.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Zr=this.Zr.insert(t,{type:2,doc:e.doc}):et():this.Zr=this.Zr.insert(t,e)}eo(){const e=[];return this.Zr.inorderTraversal((t,r)=>{e.push(r)}),e}}class Od{constructor(e,t,r,a,l,h,y,w){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=y,this.excludesMetadataChanges=w}static fromInitialDocuments(e,t,r,a){const l=[];return t.forEach(h=>{l.push({type:0,doc:h})}),new Od(e,t,Ci.emptySet(t),l,r,a,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class nC{constructor(){this.no=void 0,this.listeners=[]}}class YA{constructor(){this.queries=new Df(e=>Zp(e),cf),this.onlineState="Unknown",this.so=new Set}}function vE(n,e){return EE.apply(this,arguments)}function EE(){return(EE=(0,he.Z)(function*(n,e){const t=Le(n),r=e.query;let a=!1,l=t.queries.get(r);if(l||(a=!0,l=new nC),a)try{l.no=yield t.onListen(r)}catch(h){const y=Gi(h,`Initialization of query '${xv(e.query)}' failed`);return void e.onError(y)}t.queries.set(r,l),l.listeners.push(e),e.io(t.onlineState),l.no&&e.ro(l.no)&&Dy(t)})).apply(this,arguments)}function wE(n,e){return vg.apply(this,arguments)}function vg(){return(vg=(0,he.Z)(function*(n,e){const t=Le(n),r=e.query;let a=!1;const l=t.queries.get(r);if(l){const h=l.listeners.indexOf(e);h>=0&&(l.listeners.splice(h,1),a=0===l.listeners.length)}if(a)return t.queries.delete(r),t.onUnlisten(r)})).apply(this,arguments)}function Eg(n,e){const t=Le(n);let r=!1;for(const a of e){const h=t.queries.get(a.query);if(h){for(const y of h.listeners)y.ro(a)&&(r=!0);h.no=a}}r&&Dy(t)}function QA(n,e,t){const r=Le(n),a=r.queries.get(e);if(a)for(const l of a.listeners)l.onError(t);r.queries.delete(e)}function Dy(n){n.so.forEach(e=>{e.next()})}class bE{constructor(e,t,r){this.query=e,this.oo=t,this.co=!1,this.ao=null,this.onlineState="Unknown",this.options=r||{}}ro(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)3!==a.type&&r.push(a);e=new Od(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.co?this.uo(e)&&(this.oo.next(e),t=!0):this.ho(e,this.onlineState)&&(this.lo(e),t=!0),this.ao=e,t}onError(e){this.oo.error(e)}io(e){this.onlineState=e;let t=!1;return this.ao&&!this.co&&this.ho(this.ao,e)&&(this.lo(this.ao),t=!0),t}ho(e,t){return!e.fromCache||!(this.options.fo&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}uo(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ao&&this.ao.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}lo(e){e=Od.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.co=!0,this.oo.next(e)}}class rC{constructor(e,t){this.payload=e,this.byteLength=t}wo(){return"metadata"in this.payload}}class CE{constructor(e){this.N=e}zn(e){return Ko(this.N,e)}Hn(e){return e.metadata.exists?f0(this.N,e.document,!1):qn.newNoDocument(this.zn(e.metadata.name),this.Jn(e.metadata.readTime))}Jn(e){return Gr(e)}}class Ay{constructor(e,t,r){this._o=e,this.localStore=t,this.N=r,this.queries=[],this.documents=[],this.progress=iC(e)}mo(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}yo(e){const t=new Map,r=new CE(this.N);for(const a of e)if(a.metadata.queries){const l=r.zn(a.metadata.name);for(const h of a.metadata.queries){const y=(t.get(h)||on()).add(l);t.set(h,y)}}return t}complete(){var e=this;return(0,he.Z)(function*(){const t=yield function(n,e,t,r){return nE.apply(this,arguments)}(e.localStore,new CE(e.N),e.documents,e._o.id),r=e.yo(e.documents);for(const a of e.queries)yield k0(e.localStore,a,r.get(a.name));return e.progress.taskState="Success",new eM(Object.assign({},e.progress),t)})()}}function iC(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class IE{constructor(e){this.key=e}}class TE{constructor(e){this.key=e}}class Sy{constructor(e,t){this.query=e,this.po=t,this.To=null,this.current=!1,this.Eo=on(),this.mutatedKeys=on(),this.Io=cA(e),this.Ao=new Ci(this.Io)}get Ro(){return this.po}bo(e,t){const r=t?t.Po:new so,a=t?t.Ao:this.Ao;let l=t?t.mutatedKeys:this.mutatedKeys,h=a,y=!1;const w=Pu(this.query)&&a.size===this.query.limit?a.last():null,T=Xl(this.query)&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((R,M)=>{const $=a.get(R),q=df(this.query,M)?M:null,ee=!!$&&this.mutatedKeys.has($.key),ye=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let xe=!1;$&&q?$.data.isEqual(q.data)?ee!==ye&&(r.track({type:3,doc:q}),xe=!0):this.vo($,q)||(r.track({type:2,doc:q}),xe=!0,(w&&this.Io(q,w)>0||T&&this.Io(q,T)<0)&&(y=!0)):!$&&q?(r.track({type:0,doc:q}),xe=!0):$&&!q&&(r.track({type:1,doc:$}),xe=!0,(w||T)&&(y=!0)),xe&&(q?(h=h.add(q),l=ye?l.add(R):l.delete(R)):(h=h.delete(R),l=l.delete(R)))}),Pu(this.query)||Xl(this.query))for(;h.size>this.query.limit;){const R=Pu(this.query)?h.last():h.first();h=h.delete(R.key),l=l.delete(R.key),r.track({type:1,doc:R})}return{Ao:h,Po:r,Ln:y,mutatedKeys:l}}vo(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const a=this.Ao;this.Ao=e.Ao,this.mutatedKeys=e.mutatedKeys;const l=e.Po.eo();l.sort((T,R)=>function(M,$){const q=ee=>{switch(ee){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return et()}};return q(M)-q($)}(T.type,R.type)||this.Io(T.doc,R.doc)),this.Vo(r);const h=t?this.So():[],y=0===this.Eo.size&&this.current?1:0,w=y!==this.To;return this.To=y,0!==l.length||w?{snapshot:new Od(this.query,e.Ao,a,l,e.mutatedKeys,0===y,w,!1),Do:h}:{Do:h}}io(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ao:this.Ao,Po:new so,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{Do:[]}}Co(e){return!this.po.has(e)&&!!this.Ao.has(e)&&!this.Ao.get(e).hasLocalMutations}Vo(e){e&&(e.addedDocuments.forEach(t=>this.po=this.po.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.po=this.po.delete(t)),this.current=e.current)}So(){if(!this.current)return[];const e=this.Eo;this.Eo=on(),this.Ao.forEach(r=>{this.Co(r.key)&&(this.Eo=this.Eo.add(r.key))});const t=[];return e.forEach(r=>{this.Eo.has(r)||t.push(new TE(r))}),this.Eo.forEach(r=>{e.has(r)||t.push(new IE(r))}),t}No(e){this.po=e.Gn,this.Eo=on();const t=this.bo(e.documents);return this.applyChanges(t,!0)}xo(){return Od.fromInitialDocuments(this.query,this.Ao,this.mutatedKeys,0===this.To)}}class Ny{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class sC{constructor(e){this.key=e,this.ko=!1}}class oC{constructor(e,t,r,a,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.$o={},this.Oo=new Df(y=>Zp(y),cf),this.Fo=new Map,this.Mo=new Set,this.Lo=new tr(Ye.comparator),this.Bo=new Map,this.Uo=new iE,this.qo={},this.Ko=new Map,this.jo=io.ie(),this.onlineState="Unknown",this.Qo=void 0}get isPrimaryClient(){return!0===this.Qo}}function aC(n,e){return Ry.apply(this,arguments)}function Ry(){return(Ry=(0,he.Z)(function*(n,e){const t=VE(n);let r,a;const l=t.Oo.get(e);if(l)r=l.targetId,t.sharedClientState.addLocalQueryTarget(r),a=l.view.xo();else{const h=yield Nd(t.localStore,cs(e)),y=t.sharedClientState.addLocalQueryTarget(h.targetId);r=h.targetId,a=yield xy(t,e,r,"current"===y),t.isPrimaryClient&&wy(t.remoteStore,h)}return a})).apply(this,arguments)}function xy(n,e,t,r){return My.apply(this,arguments)}function My(){return(My=(0,he.Z)(function*(n,e,t,r){n.Wo=(R,M,$)=>{return(q=(0,he.Z)(function*(ee,ye,xe,Xe){let at=ye.view.bo(xe);at.Ln&&(at=yield $u(ee.localStore,ye.query,!1).then(({documents:dn})=>ye.view.bo(dn,at)));const Ot=Xe&&Xe.targetChanges.get(ye.targetId),ot=ye.view.applyChanges(at,ee.isPrimaryClient,Ot);return PE(ee,ye.targetId,ot.Do),ot.snapshot}),function(ee,ye,xe,Xe){return q.apply(this,arguments)})(n,R,M,$);var q};const a=yield $u(n.localStore,e,!0),l=new Sy(e,a.Gn),h=l.bo(a.documents),y=Ns.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),w=l.applyChanges(h,n.isPrimaryClient,y);PE(n,t,w.Do);const T=new Ny(e,t,l);return n.Oo.set(e,T),n.Fo.has(t)?n.Fo.get(t).push(e):n.Fo.set(t,[e]),w.snapshot})).apply(this,arguments)}function uC(n,e){return Oy.apply(this,arguments)}function Oy(){return(Oy=(0,he.Z)(function*(n,e){const t=Le(n),r=t.Oo.get(e),a=t.Fo.get(r.targetId);if(a.length>1)return t.Fo.set(r.targetId,a.filter(l=>!cf(l,e))),void t.Oo.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield cg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Nf(t.remoteStore,r.targetId),Rf(t,r.targetId)}).catch(uc))):(Rf(t,r.targetId),yield cg(t.localStore,r.targetId,!0))})).apply(this,arguments)}function DE(){return(DE=(0,he.Z)(function*(n,e,t){const r=UE(n);try{const a=yield function(l,h){const y=Le(l),w=$r.now(),T=h.reduce((M,$)=>M.add($.key),on());let R;return y.persistence.runTransaction("Locally write mutations","readwrite",M=>y.Qn.Pn(M,T).next($=>{R=$;const q=[];for(const ee of h){const ye=Yb(ee,R.get(ee.key));null!=ye&&q.push(new Oa(ee.key,ye,sA(ye.value.mapValue),hr.exists(!0)))}return y.In.addMutationBatch(M,w,q,h)})).then(M=>(M.applyToLocalDocumentSet(R),{batchId:M.batchId,changes:R}))}(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),function(l,h,y){let w=l.qo[l.currentUser.toKey()];w||(w=new tr(Bt)),w=w.insert(h,y),l.qo[l.currentUser.toKey()]=w}(r,a.batchId,t),yield La(r,a.changes),yield Md(r.remoteStore)}catch(a){const l=Gi(a,"Failed to persist write");t.reject(l)}})).apply(this,arguments)}function lC(n,e){return AE.apply(this,arguments)}function AE(){return(AE=(0,he.Z)(function*(n,e){const t=Le(n);try{const r=yield tM(t.localStore,e);e.targetChanges.forEach((a,l)=>{const h=t.Bo.get(l);h&&(dt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.ko=!0:a.modifiedDocuments.size>0?dt(h.ko):a.removedDocuments.size>0&&(dt(h.ko),h.ko=!1))}),yield La(t,r,e)}catch(r){yield uc(r)}})).apply(this,arguments)}function cC(n,e,t){const r=Le(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const a=[];r.Oo.forEach((l,h)=>{const y=h.view.io(e);y.snapshot&&a.push(y.snapshot)}),function(l,h){const y=Le(l);y.onlineState=h;let w=!1;y.queries.forEach((T,R)=>{for(const M of R.listeners)M.io(h)&&(w=!0)}),w&&Dy(y)}(r.eventManager,e),a.length&&r.$o.Rr(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function XA(n,e,t){return SE.apply(this,arguments)}function SE(){return(SE=(0,he.Z)(function*(n,e,t){const r=Le(n);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Bo.get(e),l=a&&a.key;if(l){let h=new tr(Ye.comparator);h=h.insert(l,qn.newNoDocument(l,Dt.min()));const y=on().add(l),w=new yf(Dt.min(),new Map,new Fn(Bt),h,y);yield lC(r,w),r.Lo=r.Lo.remove(l),r.Bo.delete(e),Py(r)}else yield cg(r.localStore,e,!1).then(()=>Rf(r,e,t)).catch(uc)})).apply(this,arguments)}function eS(n,e){return NE.apply(this,arguments)}function NE(){return(NE=(0,he.Z)(function*(n,e){const t=Le(n),r=e.batch.batchId;try{const a=yield FA(t.localStore,e);OE(t,r,null),ME(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield La(t,a)}catch(a){yield uc(a)}})).apply(this,arguments)}function tS(n,e,t){return RE.apply(this,arguments)}function RE(){return(RE=(0,he.Z)(function*(n,e,t){const r=Le(n);try{const a=yield function(l,h){const y=Le(l);return y.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let T;return y.In.lookupMutationBatch(w,h).next(R=>(dt(null!==R),T=R.keys(),y.In.removeMutationBatch(w,R))).next(()=>y.In.performConsistencyCheck(w)).next(()=>y.Qn.Pn(w,T))})}(r.localStore,e);OE(r,e,t),ME(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield La(r,a)}catch(a){yield uc(a)}})).apply(this,arguments)}function xE(){return(xE=(0,he.Z)(function*(n,e){const t=Le(n);Hu(t.remoteStore)||Pe("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(l){const h=Le(l);return h.persistence.runTransaction("Get highest unacknowledged batch id","readonly",y=>h.In.getHighestUnacknowledgedBatchId(y))}(t.localStore);if(-1===r)return void e.resolve();const a=t.Ko.get(r)||[];a.push(e),t.Ko.set(r,a)}catch(r){const a=Gi(r,"Initialization of waitForPendingWrites() operation failed");e.reject(a)}})).apply(this,arguments)}function ME(n,e){(n.Ko.get(e)||[]).forEach(t=>{t.resolve()}),n.Ko.delete(e)}function OE(n,e,t){const r=Le(n);let a=r.qo[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.qo[r.currentUser.toKey()]=a}}function Rf(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Fo.get(e))n.Oo.delete(r),t&&n.$o.Go(r,t);n.Fo.delete(e),n.isPrimaryClient&&n.Uo.cs(e).forEach(r=>{n.Uo.containsKey(r)||dC(n,r)})}function dC(n,e){n.Mo.delete(e.path.canonicalString());const t=n.Lo.get(e);null!==t&&(Nf(n.remoteStore,t),n.Lo=n.Lo.remove(e),n.Bo.delete(t),Py(n))}function PE(n,e,t){for(const r of t)r instanceof IE?(n.Uo.addReference(r.key,e),hC(n,r)):r instanceof TE?(Pe("SyncEngine","Document no longer in limbo: "+r.key),n.Uo.removeReference(r.key,e),n.Uo.containsKey(r.key)||dC(n,r.key)):et()}function hC(n,e){const t=e.key,r=t.path.canonicalString();n.Lo.get(t)||n.Mo.has(r)||(Pe("SyncEngine","New document in limbo: "+t),n.Mo.add(r),Py(n))}function Py(n){for(;n.Mo.size>0&&n.Lo.size<n.maxConcurrentLimboResolutions;){const e=n.Mo.values().next().value;n.Mo.delete(e);const t=new Ye(en.fromString(e)),r=n.jo.next();n.Bo.set(r,new sC(t)),n.Lo=n.Lo.insert(t,r),wy(n.remoteStore,new oc(cs(Jl(t.path)),r,2,Gn.T))}}function La(n,e,t){return ky.apply(this,arguments)}function ky(){return(ky=(0,he.Z)(function*(n,e,t){const r=Le(n),a=[],l=[],h=[];var y;r.Oo.isEmpty()||(r.Oo.forEach((y,w)=>{h.push(r.Wo(w,e,t).then(T=>{if(T){r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,T.fromCache?"not-current":"current"),a.push(T);const R=Xv.kn(w.targetId,T);l.push(R)}}))}),yield Promise.all(h),r.$o.Rr(a),yield(y=(0,he.Z)(function*(w,T){const R=Le(w);try{yield R.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>we.forEach(T,$=>we.forEach($.Nn,q=>R.persistence.referenceDelegate.addReference(M,$.targetId,q)).next(()=>we.forEach($.xn,q=>R.persistence.referenceDelegate.removeReference(M,$.targetId,q)))))}catch(M){if(!sc(M))throw M;Pe("LocalStore","Failed to update sequence numbers: "+M)}for(const M of T){const $=M.targetId;if(!M.fromCache){const q=R.Un.get($),ye=q.withLastLimboFreeSnapshotVersion(q.snapshotVersion);R.Un=R.Un.insert($,ye)}}}),function(w,T){return y.apply(this,arguments)})(r.localStore,l))})).apply(this,arguments)}function fC(n,e){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,he.Z)(function*(n,e){const t=Le(n);if(!t.currentUser.isEqual(e)){Pe("SyncEngine","User change. New user:",e.toKey());const r=yield fy(t.localStore,e);t.currentUser=e,(a=t).Ko.forEach(h=>{h.forEach(y=>{y.reject(new Se(de.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),a.Ko.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield La(t,r.Wn)}var a})).apply(this,arguments)}function pC(n,e){const t=Le(n),r=t.Bo.get(e);if(r&&r.ko)return on().add(r.key);{let a=on();const l=t.Fo.get(e);if(!l)return a;for(const h of l){const y=t.Oo.get(h);a=a.unionWith(y.view.Ro)}return a}}function gC(n,e){return Ly.apply(this,arguments)}function Ly(){return(Ly=(0,he.Z)(function*(n,e){const t=Le(n),r=yield $u(t.localStore,e.query,!0),a=e.view.No(r);return t.isPrimaryClient&&PE(t,e.targetId,a.Do),a})).apply(this,arguments)}function kE(n){return wg.apply(this,arguments)}function wg(){return(wg=(0,he.Z)(function*(n){const e=Le(n);return tE(e.localStore).then(t=>La(e,t))})).apply(this,arguments)}function Pd(n,e,t,r){return FE.apply(this,arguments)}function FE(){return(FE=(0,he.Z)(function*(n,e,t,r){const a=Le(n),l=yield function(h,y){const w=Le(h),T=Le(w.In);return w.persistence.runTransaction("Lookup mutation documents","readonly",R=>T.Xt(R,y).next(M=>M?w.Qn.Pn(R,M):we.resolve(null)))}(a.localStore,e);var y;null!==l?("pending"===t?yield Md(a.remoteStore):"acknowledged"===t||"rejected"===t?(OE(a,e,r||null),ME(a,e),y=e,Le(Le(a.localStore).In).te(y)):et(),yield La(a,l)):Pe("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function hc(){return(hc=(0,he.Z)(function*(n,e){const t=Le(n);if(VE(t),UE(t),!0===e&&!0!==t.Qo){const r=t.sharedClientState.getAllActiveQueryTargets(),a=yield iS(t,r.toArray());t.Qo=!0,yield yg(t.remoteStore,!0);for(const l of a)wy(t.remoteStore,l)}else if(!1===e&&!1!==t.Qo){const r=[];let a=Promise.resolve();t.Fo.forEach((l,h)=>{t.sharedClientState.isLocalQueryTarget(h)?r.push(h):a=a.then(()=>(Rf(t,h),cg(t.localStore,h,!0))),Nf(t.remoteStore,h)}),yield a,yield iS(t,r),function(l){const h=Le(l);h.Bo.forEach((y,w)=>{Nf(h.remoteStore,w)}),h.Uo.us(),h.Bo=new Map,h.Lo=new tr(Ye.comparator)}(t),t.Qo=!1,yield yg(t.remoteStore,!1)}})).apply(this,arguments)}function iS(n,e,t){return bg.apply(this,arguments)}function bg(){return(bg=(0,he.Z)(function*(n,e,t){const r=Le(n),a=[],l=[];for(const h of e){let y;const w=r.Fo.get(h);if(w&&0!==w.length){y=yield Nd(r.localStore,cs(w[0]));for(const T of w){const R=r.Oo.get(T),M=yield gC(r,R);M.snapshot&&l.push(M.snapshot)}}else{const T=yield P0(r.localStore,h);y=yield Nd(r.localStore,T),yield xy(r,sS(T),h,!1)}a.push(y)}return r.$o.Rr(l),a})).apply(this,arguments)}function sS(n){return _d(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function mC(n){const e=Le(n);return Le(Le(e.localStore).persistence).pn()}function yC(n,e,t,r){return _C.apply(this,arguments)}function _C(){return(_C=(0,he.Z)(function*(n,e,t,r){const a=Le(n);if(a.Qo)Pe("SyncEngine","Ignoring unexpected query state notification.");else if(a.Fo.has(e))switch(t){case"current":case"not-current":{const l=yield tE(a.localStore),h=yf.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield La(a,l,h);break}case"rejected":yield cg(a.localStore,e,!0),Rf(a,e,r);break;default:et()}})).apply(this,arguments)}function it(n,e,t){return LE.apply(this,arguments)}function LE(){return(LE=(0,he.Z)(function*(n,e,t){const r=VE(n);if(r.Qo){for(const a of e){if(r.Fo.has(a)){Pe("SyncEngine","Adding an already active target "+a);continue}const l=yield P0(r.localStore,a),h=yield Nd(r.localStore,l);yield xy(r,sS(l),h.targetId,!1),wy(r.remoteStore,h)}for(const a of t)r.Fo.has(a)&&(yield cg(r.localStore,a,!1).then(()=>{Nf(r.remoteStore,a),Rf(r,a)}).catch(uc))}})).apply(this,arguments)}function VE(n){const e=Le(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=lC.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=XA.bind(null,e),e.$o.Rr=Eg.bind(null,e.eventManager),e.$o.Go=QA.bind(null,e.eventManager),e}function UE(n){const e=Le(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tS.bind(null,e),e}class vC{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,he.Z)(function*(){t.N=Rd(e.databaseInfo.databaseId),t.sharedClientState=t.Ho(e),t.persistence=t.Jo(e),yield t.persistence.start(),t.gcScheduler=t.Yo(e),t.localStore=t.Xo(e)})()}Yo(e){return null}Xo(e){return O0(this.persistence,new PA,e.initialUser,this.N)}Jo(e){return new V0(U0.Ns,this.N)}Ho(e){return new yy}terminate(){var e=this;return(0,he.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cg extends vC{constructor(e,t,r){super(),this.Zo=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,he.Z)(function*(){yield t().call(r,e),yield function(n){return py.apply(this,arguments)}(r.localStore),yield r.Zo.initialize(r,e),yield UE(r.Zo.syncEngine),yield Md(r.Zo.remoteStore),yield r.persistence.nn(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()))})()}Xo(e){return O0(this.persistence,new PA,e.initialUser,this.N)}Yo(e){return new D0(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}Jo(e){const t=M0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?Mr.withCacheSize(this.cacheSizeBytes):Mr.DEFAULT;return new x0(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,H0(),pg(),this.N,this.sharedClientState,!!this.forceOwnership)}Ho(e){return new yy}}class Uy extends Cg{constructor(e,t){super(e,t,!1),this.Zo=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,he.Z)(function*(){yield t().call(r,e);const a=r.Zo.syncEngine;r.sharedClientState instanceof fg&&(r.sharedClientState.syncEngine={_i:Pd.bind(null,a),mi:yC.bind(null,a),gi:it.bind(null,a),pn:mC.bind(null,a),wi:kE.bind(null,a)},yield r.sharedClientState.start()),yield r.persistence.nn(function(){var l=(0,he.Z)(function*(h){yield function(n,e){return hc.apply(this,arguments)}(r.Zo.syncEngine,h),r.gcScheduler&&(h&&!r.gcScheduler.started?r.gcScheduler.start(r.localStore):h||r.gcScheduler.stop())});return function(h){return l.apply(this,arguments)}}())})()}Ho(e){const t=H0();if(!fg.bt(t))throw new Se(de.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=M0(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new fg(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ln{initialize(e,t){var r=this;return(0,he.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=a=>cC(r.syncEngine,a,1),r.remoteStore.remoteSyncer.handleCredentialChange=fC.bind(null,r.syncEngine),yield yg(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new YA}createDatastore(e){const t=Rd(e.databaseInfo.databaseId),r=new uE(e.databaseInfo);return new zA(e.credentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,a=e.asyncQueue,l=y=>cC(this.syncEngine,y,0),h=GA.bt()?new GA:new $0,new z0(t,r,a,l,h);var t,r,a,l,h}createSyncEngine(e,t){return function(r,a,l,h,y,w,T){const R=new oC(r,a,l,h,y,w);return T&&(R.Qo=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,he.Z)(function*(t){const r=Le(t);Pe("RemoteStore","RemoteStore shutting down."),r.Wr.add(5),yield Sf(r),r.zr.shutdown(),r.Hr.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function oS(n,e=10240){let t=0;return{read:()=>(0,he.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,he.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ig{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.tc(this.observer.next,e)}error(e){this.observer.error?this.tc(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}ec(){this.muted=!0}tc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class BE{constructor(e,t){this.nc=e,this.N=t,this.metadata=new xr,this.buffer=new Uint8Array,this.sc=new TextDecoder("utf-8"),this.ic().then(r=>{r&&r.wo()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==r?void 0:r.payload)}`))},r=>this.metadata.reject(r))}close(){return this.nc.cancel()}getMetadata(){var e=this;return(0,he.Z)(function*(){return e.metadata.promise})()}zo(){var e=this;return(0,he.Z)(function*(){return yield e.getMetadata(),e.ic()})()}ic(){var e=this;return(0,he.Z)(function*(){const t=yield e.rc();if(null===t)return null;const r=e.sc.decode(t),a=Number(r);isNaN(a)&&e.oc(`length string (${r}) is not valid number`);const l=yield e.cc(a);return new rC(JSON.parse(l),t.length+a)})()}ac(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}rc(){var e=this;return(0,he.Z)(function*(){for(;e.ac()<0&&!(yield e.uc()););if(0===e.buffer.length)return null;const t=e.ac();t<0&&e.oc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}cc(e){var t=this;return(0,he.Z)(function*(){for(;t.buffer.length<e;)(yield t.uc())&&t.oc("Reached the end of bundle when more is expected.");const r=t.sc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}oc(e){throw this.nc.cancel(),new Error(`Invalid bundle format: ${e}`)}uc(){var e=this;return(0,he.Z)(function*(){const t=yield e.nc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class aS{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,he.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Se(de.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(a=(0,he.Z)(function*(l,h){const y=Le(l),w=rg(y.N)+"/documents",T={documents:h.map(q=>ng(y.N,q))},R=yield y.Ki("BatchGetDocuments",w,T),M=new Map;R.forEach(q=>{const ee=function(n,e){return"found"in e?function(t,r){dt(!!r.found);const a=Ko(t,r.found.name),l=Gr(r.found.updateTime),h=new ji({mapValue:{fields:r.found.fields}});return qn.newFoundDocument(a,l,h)}(n,e):"missing"in e?function(t,r){dt(!!r.missing),dt(!!r.readTime);const a=Ko(t,r.missing),l=Gr(r.readTime);return qn.newNoDocument(a,l)}(n,e):et()}(y.N,q);M.set(ee.key.toString(),ee)});const $=[];return h.forEach(q=>{const ee=M.get(q.toString());dt(!!ee),$.push(ee)}),$}),function(l,h){return a.apply(this,arguments)})(t.datastore,e);var a;return r.forEach(a=>t.recordVersion(a)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new gf(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,he.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,a)=>{const l=Ye.fromPath(a);e.mutations.push(new Lv(l,e.precondition(l)))}),yield(r=(0,he.Z)(function*(a,l){const h=Le(a),y=rg(h.N)+"/documents",w={writes:l.map(T=>ty(h.N,T))};yield h.Li("Commit",y,w)}),function(a,l){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw et();t=Dt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Se(de.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?hr.updateTime(t):hr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Dt.min()))throw new Se(de.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return hr.updateTime(t)}return hr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class EC{constructor(e,t,r,a){this.asyncQueue=e,this.datastore=t,this.updateFunction=r,this.deferred=a,this.hc=5,this.ar=new _y(this.asyncQueue,"transaction_retry")}run(){this.hc-=1,this.lc()}lc(){var e=this;this.ar.Xi((0,he.Z)(function*(){const t=new aS(e.datastore),r=e.fc(t);r&&r.then(a=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(a)}).catch(l=>{e.dc(l)}))}).catch(a=>{e.dc(a)})}))}fc(e){try{const t=this.updateFunction(e);return!af(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}dc(e){this.hc>0&&this.wc(e)?(this.hc-=1,this.asyncQueue.enqueueAndForget(()=>(this.lc(),Promise.resolve()))):this.deferred.reject(e)}wc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!e0(t)}return!1}}class wC{constructor(e,t,r){var a=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=r,this.user=Rr.UNAUTHENTICATED,this.clientId=Cv.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(t,function(){var l=(0,he.Z)(function*(h){Pe("FirestoreClient","Received user=",h.uid),yield a.credentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}())}getConfiguration(){var e=this;return(0,he.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,credentials:e.credentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.credentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Se(de.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.credentials.shutdown(),t.resolve()}catch(r){const a=Gi(r,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}function jE(n,e){return By.apply(this,arguments)}function By(){return(By=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Pe("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var a=(0,he.Z)(function*(l){r.isEqual(l)||(yield fy(e.localStore,l),r=l)});return function(l){return a.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e})).apply(this,arguments)}function bC(n,e){return $E.apply(this,arguments)}function $E(){return($E=(0,he.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield HE(n);Pe("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(a=>{return(l=(0,he.Z)(function*(h,y){const w=Le(h);w.asyncQueue.verifyOperationInProgress(),Pe("RemoteStore","RemoteStore received new credentials");const T=Hu(w);w.Wr.add(3),yield Sf(w),T&&w.Hr.set("Unknown"),yield w.remoteSyncer.handleCredentialChange(y),w.Wr.delete(3),yield xd(w)}),function(h,y){return l.apply(this,arguments)})(e.remoteStore,a);var l}),n.onlineComponents=e})).apply(this,arguments)}function HE(n){return kd.apply(this,arguments)}function kd(){return(kd=(0,he.Z)(function*(n){return n.offlineComponents||(Pe("FirestoreClient","Using default OfflineComponentProvider"),yield jE(n,new vC)),n.offlineComponents})).apply(this,arguments)}function jy(n){return GE.apply(this,arguments)}function GE(){return(GE=(0,he.Z)(function*(n){return n.onlineComponents||(Pe("FirestoreClient","Using default OnlineComponentProvider"),yield bC(n,new Ln)),n.onlineComponents})).apply(this,arguments)}function CC(n){return HE(n).then(e=>e.persistence)}function xf(n){return HE(n).then(e=>e.localStore)}function qE(n){return jy(n).then(e=>e.remoteStore)}function $y(n){return jy(n).then(e=>e.syncEngine)}function Fd(n){return zE.apply(this,arguments)}function zE(){return(zE=(0,he.Z)(function*(n){const e=yield jy(n),t=e.eventManager;return t.onListen=aC.bind(null,e.syncEngine),t.onUnlisten=uC.bind(null,e.syncEngine),t})).apply(this,arguments)}function IC(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(a,l,h,y,w){const T=new Ig({next:M=>{l.enqueueAndForget(()=>wE(a,R));const $=M.docs.has(h);!$&&M.fromCache?w.reject(new Se(de.UNAVAILABLE,"Failed to get document because the client is offline.")):$&&M.fromCache&&y&&"server"===y.source?w.reject(new Se(de.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(M)},error:M=>w.reject(M)}),R=new bE(Jl(h.path),T,{includeMetadataChanges:!0,fo:!0});return vE(a,R)}(yield Fd(n),n.asyncQueue,e,t,r)})),r.promise}function WE(n,e,t={}){const r=new xr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(a,l,h,y,w){const T=new Ig({next:M=>{l.enqueueAndForget(()=>wE(a,R)),M.fromCache&&"server"===y.source?w.reject(new Se(de.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(M)},error:M=>w.reject(M)}),R=new bE(h,T,{includeMetadataChanges:!0,fo:!0});return vE(a,R)}(yield Fd(n),n.asyncQueue,e,t,r)})),r.promise}class dS{constructor(e,t,r,a,l,h,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=y,this.useFetchStreams=w}}class Mf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mf&&e.projectId===this.projectId&&e.database===this.database}}const hS=new Map;function SC(n,e,t){if(!t)throw new Se(de.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function fS(n,e,t,r){if(!0===e&&!0===r)throw new Se(de.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function pS(n){if(!Ye.isDocumentKey(n))throw new Se(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function KE(n){if(Ye.isDocumentKey(n))throw new Se(de.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ld(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":et()}function Kt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Ld(n);throw new Se(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function NC(n,e){if(e<=0)throw new Se(de.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class ZE{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Se(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Se(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,fS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gu{constructor(e,t){this._credentials=t,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZE({}),this._settingsFrozen=!1,e instanceof Mf?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Se(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mf(r.options.projectId)}(e))}get app(){if(!this._app)throw new Se(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZE(e),void 0!==e.credentials&&(this._credentials=function(t){if(!t)return new Ob;switch(t.type){case"gapi":const r=t.client;return dt(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new eA(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Se(de.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=hS.get(e);t&&(Pe("ComponentProvider","Removing Datastore"),hS.delete(e),t.terminate())}(this),Promise.resolve()}}class Nn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Va(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nn(this.firestore,e,this._key)}}class Ii{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ii(this.firestore,e,this._query)}}class Va extends Ii{constructor(e,t,r){super(e,t,Jl(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nn(this.firestore,null,new Ye(e))}withConverter(e){return new Va(this.firestore,e,this._path)}}function RC(n,e,...t){if(n=(0,Rt.m9)(n),SC("collection","path",e),n instanceof Gu){const r=en.fromString(e,...t);return KE(r),new Va(n,null,r)}{if(!(n instanceof Nn||n instanceof Va))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return KE(r),new Va(n.firestore,null,r)}}function Hy(n,e,...t){if(n=(0,Rt.m9)(n),1===arguments.length&&(e=Cv.I()),SC("doc","path",e),n instanceof Gu){const r=en.fromString(e,...t);return pS(r),new Nn(n,null,new Ye(r))}{if(!(n instanceof Nn||n instanceof Va))throw new Se(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return pS(r),new Nn(n.firestore,n instanceof Va?n.converter:null,new Ye(r))}}function MC(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),(n instanceof Nn||n instanceof Va)&&(e instanceof Nn||e instanceof Va)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Vd(n,e){return n=(0,Rt.m9)(n),e=(0,Rt.m9)(e),n instanceof Ii&&e instanceof Ii&&n.firestore===e.firestore&&cf(n._query,e._query)&&n.converter===e.converter}class mS{constructor(){this._c=Promise.resolve(),this.mc=[],this.gc=!1,this.yc=[],this.Tc=null,this.Ec=!1,this.Ic=!1,this.Ac=[],this.ar=new _y(this,"async_queue_retry"),this.Rc=()=>{const t=pg();t&&Pe("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ar.tr()};const e=pg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Rc)}get isShuttingDown(){return this.gc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.bc(),this.Pc(e)}enterRestrictedMode(e){if(!this.gc){this.gc=!0,this.Ic=e||!1;const t=pg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Rc)}}enqueue(e){if(this.bc(),this.gc)return new Promise(()=>{});const t=new xr;return this.Pc(()=>this.gc&&this.Ic?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.mc.push(e),this.vc()))}vc(){var e=this;return(0,he.Z)(function*(){if(0!==e.mc.length){try{yield e.mc[0](),e.mc.shift(),e.ar.reset()}catch(t){if(!sc(t))throw t;Pe("AsyncQueue","Operation failed with retryable error: "+t)}e.mc.length>0&&e.ar.Xi(()=>e.vc())}})()}Pc(e){const t=this._c.then(()=>(this.Ec=!0,e().catch(r=>{throw this.Tc=r,this.Ec=!1,dr("INTERNAL UNHANDLED ERROR: ",function(l){let h=l.message||"";return l.stack&&(h=l.stack.includes(l.message)?l.stack:l.message+"\n"+l.stack),h}(r)),r}).then(r=>(this.Ec=!1,r))));return this._c=t,t}enqueueAfterDelay(e,t,r){this.bc(),this.Ac.indexOf(e)>-1&&(t=0);const a=Ty.createAndSchedule(this,e,t,r,l=>this.Vc(l));return this.yc.push(a),a}bc(){this.Tc&&et()}verifyOperationInProgress(){}Sc(){var e=this;return(0,he.Z)(function*(){let t;do{t=e._c,yield t}while(t!==e._c)})()}Dc(e){for(const t of this.yc)if(t.timerId===e)return!0;return!1}Cc(e){return this.Sc().then(()=>{this.yc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.yc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Sc()})}Nc(e){this.Ac.push(e)}Vc(e){const t=this.yc.indexOf(e);this.yc.splice(t,1)}}function Gy(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const a of["next","error","complete"])if(a in r&&"function"==typeof r[a])return!0;return!1}(n)}class yS{constructor(){this._progressObserver={},this._taskCompletionResolver=new xr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Wn extends Gu{constructor(e,t){super(e,t),this.type="firestore",this._queue=new mS,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||PC(this),this._firestoreClient.terminate()}}function fr(n){return n._firestoreClient||PC(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function PC(n){var e;const t=n._freezeSettings(),r=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new dS(n._databaseId,l,n._persistenceKey,(y=t).host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,y.useFetchStreams));var l,y;n._firestoreClient=new wC(n._credentials,n._queue,r)}function LC(n,e,t){const r=new xr;return n.asyncQueue.enqueue((0,he.Z)(function*(){try{yield jE(n,t),yield bC(n,e),r.resolve()}catch(a){if(!("FirebaseError"===(l=a).name?l.code===de.FAILED_PRECONDITION||l.code===de.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&l instanceof DOMException)||22===l.code||20===l.code||11===l.code))throw a;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var l})).then(()=>r.promise)}function VC(n){if(n._initialized||n._terminated)throw new Se(de.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class qu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Se(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new wr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ua(Hr.fromBase64String(e))}catch(t){throw new Se(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ua(Hr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Ud{constructor(e){this._methodName=e}}class qy{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Bt(this._lat,e._lat)||Bt(this._long,e._long)}}const UC=/^__.*__$/;class BC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new ds(e,this.data,t,this.fieldTransforms)}}class jC{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function $C(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw et()}}class Ag{constructor(e,t,r,a,l,h){this.settings=e,this.databaseId=t,this.N=r,this.ignoreUndefinedProperties=a,void 0===l&&this.xc(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get kc(){return this.settings.kc}$c(e){return new Ag(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Oc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:r,Fc:!1});return a.Mc(e),a}Lc(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),a=this.$c({path:r,Fc:!1});return a.xc(),a}Bc(e){return this.$c({path:void 0,Fc:!0})}Uc(e){return nw(e,this.settings.methodName,this.settings.qc||!1,this.path,this.settings.Kc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.Mc(this.path.get(e))}Mc(e){if(0===e.length)throw this.Uc("Document fields must not be empty");if($C(this.kc)&&UC.test(e))throw this.Uc('Document fields cannot begin and end with "__"')}}class TS{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.N=r||Rd(e)}jc(e,t,r,a=!1){return new Ag({kc:e,methodName:t,Kc:r,path:wr.emptyPath(),Fc:!1,qc:a},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Bd(n){const e=n._freezeSettings(),t=Rd(n._databaseId);return new TS(n._databaseId,!!e.ignoreUndefinedProperties,t)}function zy(n,e,t,r,a,l={}){const h=n.jc(l.merge||l.mergeFields?2:0,e,t,a);Zy("Data must be an object, but it was:",h,r);const y=ew(r,h);let w,T;if(l.merge)w=new _i(h.fieldMask),T=h.fieldTransforms;else if(l.mergeFields){const R=[];for(const M of l.mergeFields){const $=HC(e,M,t);if(!h.contains($))throw new Se(de.INVALID_ARGUMENT,`Field '${$}' is specified in your field mask but missing from your input data.`);Yy(R,$)||R.push($)}w=new _i(R),T=h.fieldTransforms.filter(M=>w.covers(M.field))}else w=null,T=h.fieldTransforms;return new BC(new ji(y),w,T)}class jd extends Ud{_toFieldTransform(e){if(2!==e.kc)throw e.Uc(1===e.kc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof jd}}function Wy(n,e,t){return new Ag({kc:3,Kc:e.settings.Kc,methodName:n._methodName,Fc:t},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Ky extends Ud{_toFieldTransform(e){return new Yp(e.path,new hf)}isEqual(e){return e instanceof Ky}}class QE extends Ud{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Wy(this,e,!0),r=this.Qc.map(l=>$d(l,t)),a=new ff(r);return new Yp(e.path,a)}isEqual(e){return this===e}}class DS extends Ud{constructor(e,t){super(e),this.Qc=t}_toFieldTransform(e){const t=Wy(this,e,!0),r=this.Qc.map(l=>$d(l,t)),a=new tc(r);return new Yp(e.path,a)}isEqual(e){return this===e}}class AS extends Ud{constructor(e,t){super(e),this.Wc=t}_toFieldTransform(e){const t=new pf(e.N,Ov(e.N,this.Wc));return new Yp(e.path,t)}isEqual(e){return this===e}}function Sg(n,e,t,r){const a=n.jc(1,e,t);Zy("Data must be an object, but it was:",a,r);const l=[],h=ji.empty();gd(r,(w,T)=>{const R=fc(e,w,t);T=(0,Rt.m9)(T);const M=a.Lc(R);if(T instanceof jd)l.push(R);else{const $=$d(T,M);null!=$&&(l.push(R),h.set(R,$))}});const y=new _i(l);return new jC(h,y,a.fieldTransforms)}function JE(n,e,t,r,a,l){const h=n.jc(1,e,t),y=[HC(e,r,t)],w=[a];if(l.length%2!=0)throw new Se(de.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let $=0;$<l.length;$+=2)y.push(HC(e,l[$])),w.push(l[$+1]);const T=[],R=ji.empty();for(let $=y.length-1;$>=0;--$)if(!Yy(T,y[$])){const q=y[$];let ee=w[$];ee=(0,Rt.m9)(ee);const ye=h.Lc(q);if(ee instanceof jd)T.push(q);else{const xe=$d(ee,ye);null!=xe&&(T.push(q),R.set(q,xe))}}const M=new _i(T);return new jC(R,M,h.fieldTransforms)}function XE(n,e,t,r=!1){return $d(t,n.jc(r?4:3,e))}function $d(n,e){if(tw(n=(0,Rt.m9)(n)))return Zy("Unsupported field value:",e,n),ew(n,e);if(n instanceof Ud)return function(t,r){if(!$C(r.kc))throw r.Uc(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Uc(`${t._methodName}() is not currently supported inside arrays`);const a=t._toFieldTransform(r);a&&r.fieldTransforms.push(a)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Fc&&4!==e.kc)throw e.Uc("Nested arrays are not supported");return function(t,r){const a=[];let l=0;for(const h of t){let y=$d(h,r.Bc(l));null==y&&(y={nullValue:"NULL_VALUE"}),a.push(y),l++}return{arrayValue:{values:a}}}(n,e)}return function(t,r){if(null===(t=(0,Rt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Ov(r.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const a=$r.fromDate(t);return{timestampValue:Ef(r.N,a)}}if(t instanceof $r){const a=new $r(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ef(r.N,a)}}if(t instanceof qy)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ua)return{bytesValue:l0(r.N,t._byteString)};if(t instanceof Nn){const a=r.databaseId,l=t.firestore._databaseId;if(!l.isEqual(a))throw r.Uc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:tg(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.Uc(`Unsupported field value: ${Ld(t)}`)}(n,e)}function ew(n,e){const t={};return Lb(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gd(n,(r,a)=>{const l=$d(a,e.Oc(r));null!=l&&(t[r]=l)}),{mapValue:{fields:t}}}function tw(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof $r||n instanceof qy||n instanceof Ua||n instanceof Nn||n instanceof Ud)}function Zy(n,e,t){if(!tw(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ld(t);throw e.Uc("an object"===r?n+" a custom object":n+" "+r)}var r}function HC(n,e,t){if((e=(0,Rt.m9)(e))instanceof qu)return e._internalPath;if("string"==typeof e)return fc(n,e);throw nw("Field path arguments must be of type string or FieldPath.",n,!1,void 0,t)}const SS=new RegExp("[~\\*/\\[\\]]");function fc(n,e,t){if(e.search(SS)>=0)throw nw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qu(...e.split("."))._internalPath}catch(r){throw nw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nw(n,e,t,r,a){const l=r&&!r.isEmpty(),h=void 0!==a;let y=`Function ${e}() called with invalid data`;t&&(y+=" (via `toFirestore()`)"),y+=". ";let w="";return(l||h)&&(w+=" (found",l&&(w+=` in field ${r}`),h&&(w+=` in document ${a}`),w+=")"),new Se(de.INVALID_ARGUMENT,y+n+w)}function Yy(n,e){return n.some(t=>t.isEqual(e))}class pc{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Nn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new NS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(zu("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class NS extends pc{data(){return super.data()}}function zu(n,e){return"string"==typeof e?fc(n,e):e instanceof qu?e._internalPath:e._delegate._internalPath}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class gc extends pc{constructor(e,t,r,a,l,h){super(e,t,r,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ng(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(zu("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Ng extends gc{data(e={}){return super.data(e)}}class ai{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Hd(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Ng(this._firestore,this._userDataWriter,r.key,r,new Hd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(de.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,a){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map(h=>({type:"added",doc:new Ng(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Hd(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:l++}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(h=>a||3!==h.type).map(h=>{const y=new Ng(r._firestore,r._userDataWriter,h.doc.key,h.doc,new Hd(r._snapshot.mutatedKeys.has(h.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,T=-1;return 0!==h.type&&(w=l.indexOf(h.doc.key),l=l.delete(h.doc.key)),1!==h.type&&(l=l.add(h.doc),T=l.indexOf(h.doc.key)),{type:GC(h.type),doc:y,oldIndex:w,newIndex:T}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function GC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return et()}}function RS(n,e){return n instanceof gc&&e instanceof gc?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof ai&&e instanceof ai&&n._firestore===e._firestore&&Vd(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function Rg(n){if(Xl(n)&&0===n.explicitOrderBy.length)throw new Se(de.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xg{}function mc(n,...e){for(const t of e)n=t._apply(n);return n}class iM extends xg{constructor(e,t,r){super(),this.Gc=e,this.zc=t,this.Hc=r,this.type="where"}_apply(e){const t=Bd(e.firestore),r=function(a,l,h,y,w,T,R){let M;if(w.isKeyField()){if("array-contains"===T||"array-contains-any"===T)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on FieldPath.documentId().`);if("in"===T||"not-in"===T){aw(R,T);const q=[];for(const ee of R)q.push(ow(y,a,ee));M={arrayValue:{values:q}}}else M=ow(y,a,R)}else"in"!==T&&"not-in"!==T&&"array-contains-any"!==T||aw(R,T),M=XE(h,"where",R,"in"===T||"not-in"===T);const $=ii.create(w,T,M);return function(q,ee){if(ee.v()){const xe=Rv(q);if(null!==xe&&!xe.isEqual(ee.field))throw new Se(de.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${xe.toString()}' and '${ee.field.toString()}'`);const Xe=ec(q);null!==Xe&&WC(0,ee.field,Xe)}const ye=function(xe,Xe){for(const at of xe.filters)if(Xe.indexOf(at.op)>=0)return at.op;return null}(q,function(xe){switch(xe){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(ee.op));if(null!==ye)throw new Se(de.INVALID_ARGUMENT,ye===ee.op?`Invalid query. You cannot use more than one '${ee.op.toString()}' filter.`:`Invalid query. You cannot use '${ee.op.toString()}' filters with '${ye.toString()}' filters.`)}(a,$),$}(e._query,0,t,e.firestore._databaseId,this.Gc,this.zc,this.Hc);return new Ii(e.firestore,e.converter,function(a,l){const h=a.filters.concat([l]);return new As(a.path,a.collectionGroup,a.explicitOrderBy.slice(),h,a.limit,a.limitType,a.startAt,a.endAt)}(e._query,r))}}class MS extends xg{constructor(e,t){super(),this.Gc=e,this.Jc=t,this.type="orderBy"}_apply(e){const t=function(r,a,l){if(null!==r.startAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Se(de.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const h=new lf(a,l);return function(y,w){if(null===ec(y)){const T=Rv(y);null!==T&&WC(0,T,w.field)}}(r,h),h}(e._query,this.Gc,this.Jc);return new Ii(e.firestore,e.converter,function(r,a){const l=r.explicitOrderBy.concat([a]);return new As(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class Qy extends xg{constructor(e,t,r){super(),this.type=e,this.Yc=t,this.Xc=r}_apply(e){return new Ii(e.firestore,e.converter,Ym(e._query,this.Yc,this.Xc))}}class iw extends xg{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=sw(e,this.type,this.Zc,this.ta);return new Ii(e.firestore,e.converter,(a=t,new As((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,a,r.endAt)));var r,a}}class zC extends xg{constructor(e,t,r){super(),this.type=e,this.Zc=t,this.ta=r}_apply(e){const t=sw(e,this.type,this.Zc,this.ta);return new Ii(e.firestore,e.converter,(a=t,new As((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,a)));var r,a}}function sw(n,e,t,r){if(t[0]=(0,Rt.m9)(t[0]),t[0]instanceof pc)return function(a,l,h,y,w){if(!y)throw new Se(de.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${h}().`);const T=[];for(const R of vd(a))if(R.field.isKeyField())T.push(Kp(l,y.key));else{const M=y.data.field(R.field);if(qp(M))throw new Se(de.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+R.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const $=R.field.canonicalString();throw new Se(de.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${$}' (used as the orderBy) does not exist.`)}T.push(M)}return new Km(T,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const a=Bd(n.firestore);return function(l,h,y,w,T,R){const M=l.explicitOrderBy;if(T.length>M.length)throw new Se(de.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const $=[];for(let q=0;q<T.length;q++){const ee=T[q];if(M[q].field.isKeyField()){if("string"!=typeof ee)throw new Se(de.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof ee}`);if(!Zm(l)&&-1!==ee.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${w}() must be a plain document ID, but '${ee}' contains a slash.`);const ye=l.path.child(en.fromString(ee));if(!Ye.isDocumentKey(ye))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${w}() must result in a valid document path, but '${ye}' is not because it contains an odd number of segments.`);const xe=new Ye(ye);$.push(Kp(h,xe))}else{const ye=XE(y,w,ee);$.push(ye)}}return new Km($,R)}(n._query,n.firestore._databaseId,a,e,t,r)}}function ow(n,e,t){if("string"==typeof(t=(0,Rt.m9)(t))){if(""===t)throw new Se(de.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zm(e)&&-1!==t.indexOf("/"))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!Ye.isDocumentKey(r))throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Kp(n,new Ye(r))}if(t instanceof Nn)return Kp(n,t._key);throw new Se(de.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ld(t)}.`)}function aw(n,e){if(!Array.isArray(n)||0===n.length)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Se(de.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function WC(n,e,t){if(!t.isEqual(e))throw new Se(de.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class uw{convertValue(e,t="none"){switch(Mu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return er(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(md(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw et()}}convertObject(e,t){const r={};return gd(e.fields,(a,l)=>{r[a]=this.convertValue(l,t)}),r}convertGeoPoint(e){return new qy(er(e.latitude),er(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=nA(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(of(e));default:return null}}convertTimestamp(e){const t=vi(e);return new $r(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);dt(y0(r));const a=new Mf(r.get(1),r.get(3)),l=new Ye(r.popFirst(5));return a.isEqual(t)||dr(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}function Mg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Jy extends uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}class KC{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Bd(e)}set(e,t,r){this._verifyNotCommitted();const a=Wu(e,this._firestore),l=Mg(a.converter,t,r),h=zy(this._dataReader,"WriteBatch.set",a._key,l,null!==a.converter,r);return this._mutations.push(h.toMutation(a._key,hr.none())),this}update(e,t,r,...a){this._verifyNotCommitted();const l=Wu(e,this._firestore);let h;return h="string"==typeof(t=(0,Rt.m9)(t))||t instanceof qu?JE(this._dataReader,"WriteBatch.update",l._key,t,r,a):Sg(this._dataReader,"WriteBatch.update",l._key,t),this._mutations.push(h.toMutation(l._key,hr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Wu(e,this._firestore);return this._mutations=this._mutations.concat(new gf(t._key,hr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Se(de.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wu(n,e){if((n=(0,Rt.m9)(n)).firestore!==e)throw new Se(de.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ba extends uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nn(this.firestore,null,t)}}function ZC(n,e,t){n=Kt(n,Nn);const r=Kt(n.firestore,Wn),a=Mg(n.converter,e,t);return Of(r,[zy(Bd(r),"setDoc",n._key,a,null!==n.converter,t).toMutation(n._key,hr.none())])}function YC(n,e,t,...r){n=Kt(n,Nn);const a=Kt(n.firestore,Wn),l=Bd(a);let h;return h="string"==typeof(e=(0,Rt.m9)(e))||e instanceof qu?JE(l,"updateDoc",n._key,e,t,r):Sg(l,"updateDoc",n._key,e),Of(a,[h.toMutation(n._key,hr.exists(!0))])}function QC(n,...e){var t,r,a;n=(0,Rt.m9)(n);let l={includeMetadataChanges:!1},h=0;"object"!=typeof e[h]||Gy(e[h])||(l=e[h],h++);const y={includeMetadataChanges:l.includeMetadataChanges};if(Gy(e[h])){const M=e[h];e[h]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[h+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[h+2]=null===(a=M.complete)||void 0===a?void 0:a.bind(M)}let w,T,R;if(n instanceof Nn)T=Kt(n.firestore,Wn),R=Jl(n._key.path),w={next:M=>{e[h]&&e[h](lw(T,n,M))},error:e[h+1],complete:e[h+2]};else{const M=Kt(n,Ii);T=Kt(M.firestore,Wn),R=M._query;const $=new Ba(T);w={next:q=>{e[h]&&e[h](new ai(T,$,M,q))},error:e[h+1],complete:e[h+2]},Rg(n._query)}return function(M,$,q,ee){const ye=new Ig(ee),xe=new bE($,ye,q);return M.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return vE(yield Fd(M),xe)})),()=>{ye.ec(),M.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return wE(yield Fd(M),xe)}))}}(fr(T),R,y,w)}function Of(n,e){return function(t,r){const a=new xr;return t.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(n,e,t){return DE.apply(this,arguments)}(yield $y(t),r,a)})),a.promise}(fr(n),e)}function lw(n,e,t){const r=t.docs.get(e._key),a=new Ba(n);return new gc(n,a,e._key,r,new Hd(t.hasPendingWrites,t.fromCache),e.converter)}class aM extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Bd(e)}get(e){const t=Wu(e,this._firestore),r=new Jy(this._firestore);return this._transaction.lookup([t._key]).then(a=>{if(!a||1!==a.length)return et();const l=a[0];if(l.isFoundDocument())return new pc(this._firestore,r,l.key,l,t.converter);if(l.isNoDocument())return new pc(this._firestore,r,t._key,null,t.converter);throw et()})}set(e,t,r){const a=Wu(e,this._firestore),l=Mg(a.converter,t,r),h=zy(this._dataReader,"Transaction.set",a._key,l,null!==a.converter,r);return this._transaction.set(a._key,h),this}update(e,t,r,...a){const l=Wu(e,this._firestore);let h;return h="string"==typeof(t=(0,Rt.m9)(t))||t instanceof qu?JE(this._dataReader,"Transaction.update",l._key,t,r,a):Sg(this._dataReader,"Transaction.update",l._key,t),this._transaction.update(l._key,h),this}delete(e){const t=Wu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Wu(e,this._firestore),r=new Ba(this._firestore);return super.get(e).then(a=>new gc(this._firestore,r,t._key,a._document,new Hd(!1,!1),t.converter))}}function XC(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Se("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function eI(){if("undefined"==typeof Uint8Array)throw new Se("unimplemented","Uint8Arrays are not available in this environment.")}function kg(){if("undefined"==typeof atob)throw new Se("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){hd=is.SDK_VERSION,(0,is._registerComponent)(new Is.wA("firestore",(t,{options:r})=>{const a=t.getProvider("app").getImmediate(),l=new Wn(a,new Pb(t.getProvider("auth-internal")));return r=Object.assign({useFetchStreams:e},r),l._setSettings(r),l},"PUBLIC")),(0,is.registerVersion)(bv,"3.2.1",n),(0,is.registerVersion)(bv,"3.2.1","esm2017")}();class Fg{constructor(e){this._delegate=e}static fromBase64String(e){return kg(),new Fg(Ua.fromBase64String(e))}static fromUint8Array(e){return eI(),new Fg(Ua.fromUint8Array(e))}toBase64(){return kg(),this._delegate.toBase64()}toUint8Array(){return eI(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function cw(n){return function(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of["next","error","complete"])if(r in t&&"function"==typeof t[r])return!0;return!1}(n)}class nI{enableIndexedDbPersistence(e,t){return function(n,e){VC(n=Kt(n,Wn));const t=fr(n),r=n._freezeSettings(),a=new Ln;return LC(t,a,new Cg(a,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(n){VC(n=Kt(n,Wn));const e=fr(n),t=n._freezeSettings(),r=new Ln;return LC(e,r,new Uy(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(n){if(n._initialized&&!n._terminated)throw new Se(de.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new xr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,he.Z)(function*(){try{yield(t=(0,he.Z)(function*(r){if(!Fa.bt())return Promise.resolve();const a=r+"main";yield Fa.delete(a)}),function(r){return t.apply(this,arguments)})(M0(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class t_{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Mf||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&fd("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function(n,e,t,r={}){var a;const l=(n=Kt(n,Gu))._getSettings();if("firestore.googleapis.com"!==l.host&&l.host!==e&&fd("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},l),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let h,y;if("string"==typeof r.mockUserToken)h=r.mockUserToken,y=Rr.MOCK_USER;else{h=(0,Rt.Sg)(r.mockUserToken,null===(a=n._app)||void 0===a?void 0:a.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new Se(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new Rr(w)}n._credentials=new JD(new QD(h,y))}}(this._delegate,e,t,r)}enableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield CC(n),t=yield qE(n);return e.setNetworkEnabled(!0),function(r){const a=Le(r);return a.Wr.delete(0),xd(a)}(t)}))}(fr(n=Kt(n,Wn)))}(this._delegate)}disableNetwork(){return function(n){return function(n){return n.asyncQueue.enqueue((0,he.Z)(function*(){const e=yield CC(n),t=yield qE(n);return e.setNetworkEnabled(!1),(r=(0,he.Z)(function*(a){const l=Le(a);l.Wr.add(0),yield Sf(l),l.Hr.set("Offline")}),function(a){return r.apply(this,arguments)})(t);var r}))}(fr(n=Kt(n,Wn)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,fS("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(n){return function(e){const t=new xr;return e.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return function(n,e){return xE.apply(this,arguments)}(yield $y(e),t)})),t.promise}(fr(n=Kt(n,Wn)))}(this._delegate)}onSnapshotsInSync(e){return function(n,e){return function(n,e){const t=new Ig(e);return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return r=yield Fd(n),a=t,Le(r).so.add(a),void a.next();var r,a})),()=>{t.ec(),n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return r=yield Fd(n),a=t,void Le(r).so.delete(a);var r,a}))}}(fr(n=Kt(n,Wn)),Gy(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Se("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ja(this,RC(this._delegate,e))}catch(t){throw Ti(t,"collection()","Firestore.collection()")}}doc(e){try{return new oo(this,Hy(this._delegate,e))}catch(t){throw Ti(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ct(this,function(n,e){if(n=Kt(n,Gu),SC("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Se(de.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ii(n,null,(t=e,new As(en.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ti(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(n,e){return function(n,e){const t=new xr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){const r=yield(a=n,jy(a).then(l=>l.datastore));var a;new EC(n.asyncQueue,r,e,t).run()})),t.promise}(fr(n=Kt(n,Wn)),t=>e(new aM(n,t)))}(this._delegate,t=>e(new iI(this,t)))}batch(){return fr(this._delegate),new sI(new KC(this._delegate,e=>Of(this._delegate,e)))}loadBundle(e){return function(n,e){const t=fr(n=Kt(n,Wn)),r=new yS;return function(n,e,t,r){const a=function(l,h){let y;return y="string"==typeof l?(new TextEncoder).encode(l):l,w=function(w,T){if(w instanceof Uint8Array)return oS(w,T);if(w instanceof ArrayBuffer)return oS(new Uint8Array(w),T);if(w instanceof ReadableStream)return w.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(y),new BE(w,h);var w}(t,Rd(e));n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){!function(n,e,t){const r=Le(n);var a;(a=(0,he.Z)(function*(l,h,y){try{const w=yield h.getMetadata();if(yield function($,q){const ee=Le($),ye=Gr(q.createTime);return ee.persistence.runTransaction("hasNewerBundle","readonly",xe=>ee.Je.getBundleMetadata(xe,q.id)).then(xe=>!!xe&&xe.createTime.compareTo(ye)>=0)}(l.localStore,w))return yield h.close(),void y._completeWith(($=w,{taskState:"Success",documentsLoaded:$.totalDocuments,bytesLoaded:$.totalBytes,totalDocuments:$.totalDocuments,totalBytes:$.totalBytes}));y._updateProgress(iC(w));const T=new Ay(w,l.localStore,h.N);let R=yield h.zo();for(;R;){const $=yield T.mo(R);$&&y._updateProgress($),R=yield h.zo()}const M=yield T.complete();yield La(l,M.En,void 0),yield function($,q){const ee=Le($);return ee.persistence.runTransaction("Save bundle","readwrite",ye=>ee.Je.saveBundleMetadata(ye,q))}(l.localStore,w),y._completeWith(M.progress)}catch(w){fd("SyncEngine",`Loading bundle failed with ${w}`),y._failWith(w)}var $}),function(l,h,y){return a.apply(this,arguments)})(r,e,t).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield $y(n),a,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function(n,e){return function(n,e){return n.asyncQueue.enqueue((0,he.Z)(function*(){return function(t,r){const a=Le(t);return a.persistence.runTransaction("Get named query","readonly",l=>a.Je.getNamedQuery(l,r))}(yield xf(n),e)}))}(fr(n=Kt(n,Wn)),e).then(t=>t?new Ii(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ct(this,t):null)}}class Lg extends uw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fg(new Ua(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return oo.forKey(t,this.firestore,null)}}class iI{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}get(e){const t=kf(e);return this._delegate.get(t).then(r=>new n_(this._firestore,new gc(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const a=kf(e);return r?(XC("Transaction.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=kf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=kf(e);return this._delegate.delete(t),this}}class sI{constructor(e){this._delegate=e}set(e,t,r){const a=kf(e);return r?(XC("WriteBatch.set",r),this._delegate.set(a,t,r)):this._delegate.set(a,t),this}update(e,t,r,...a){const l=kf(e);return 2===arguments.length?this._delegate.update(l,t):this._delegate.update(l,t,r,...a),this}delete(e){const t=kf(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class yc{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new Ng(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ku(this._firestore,r),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=yc.INSTANCES;let a=r.get(e);a||(a=new WeakMap,r.set(e,a));let l=a.get(t);return l||(l=new yc(e,new Lg(e),t),a.set(t,l)),l}}yc.INSTANCES=new WeakMap;class oo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Se("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new oo(t,new Nn(t._delegate,r,new Ye(e)))}static forKey(e,t,r){return new oo(t,new Nn(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ja(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ja(this.firestore,RC(this._delegate,e))}catch(t){throw Ti(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Rt.m9)(e))instanceof Nn&&MC(this._delegate,e)}set(e,t){t=XC("DocumentReference.set",t);try{return t?ZC(this._delegate,e,t):ZC(this._delegate,e)}catch(r){throw Ti(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?YC(this._delegate,e):YC(this._delegate,e,t,...r)}catch(a){throw Ti(a,"updateDoc()","DocumentReference.update()")}}delete(){return function(n){return Of(Kt(n.firestore,Wn),[new gf(n._key,hr.none())])}(this._delegate)}onSnapshot(...e){const t=Vg(e),r=Ug(e,a=>new n_(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)));return QC(this._delegate,t,r)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Kt(n,Nn);const e=Kt(n.firestore,Wn),t=fr(e),r=new Ba(e);return function(n,e){const t=new xr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(r=(0,he.Z)(function*(a,l,h){try{const y=yield function(w,T){const R=Le(w);return R.persistence.runTransaction("read document","readonly",M=>R.Qn.An(M,T))}(a,l);y.isFoundDocument()?h.resolve(y):y.isNoDocument()?h.resolve(null):h.reject(new Se(de.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(y){const w=Gi(y,`Failed to get document '${l} from cache`);h.reject(w)}}),function(a,l,h){return r.apply(this,arguments)})(yield xf(n),e,t);var r})),t.promise}(t,n._key).then(a=>new gc(e,r,n._key,a,new Hd(null!==a&&a.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Kt(n,Nn);const e=Kt(n.firestore,Wn);return IC(fr(e),n._key,{source:"server"}).then(t=>lw(e,n,t))}(this._delegate):function(n){n=Kt(n,Nn);const e=Kt(n.firestore,Wn);return IC(fr(e),n._key).then(t=>lw(e,n,t))}(this._delegate),t.then(r=>new n_(this.firestore,new gc(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new oo(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}function Ti(n,e,t){return n.message=n.message.replace(e,t),n}function Vg(n){for(const e of n)if("object"==typeof e&&!cw(e))return e;return{}}function Ug(n,e){var t,r;let a;return a=cw(n[0])?n[0]:cw(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:l=>{a.next&&a.next(e(l))},error:null===(t=a.error)||void 0===t?void 0:t.bind(a),complete:null===(r=a.complete)||void 0===r?void 0:r.bind(a)}}class n_{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new oo(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return RS(this._delegate,e._delegate)}}class Ku extends n_{data(e){const t=this._delegate.data(e);return function(n,e){n||et()}(void 0!==t),t}}class Ct{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Lg(e)}where(e,t,r){try{return new Ct(this.firestore,mc(this._delegate,function(n,e,t){const r=e,a=zu("where",n);return new iM(a,r,t)}(e,t,r)))}catch(a){throw Ti(a,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ct(this.firestore,mc(this._delegate,function(n,e="asc"){const t=e,r=zu("orderBy",n);return new MS(r,t)}(e,t)))}catch(r){throw Ti(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ct(this.firestore,mc(this._delegate,function(n){return NC("limit",n),new Qy("limit",n,"F")}(e)))}catch(t){throw Ti(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ct(this.firestore,mc(this._delegate,function(n){return NC("limitToLast",n),new Qy("limitToLast",n,"L")}(e)))}catch(t){throw Ti(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ct(this.firestore,mc(this._delegate,function(...n){return new iw("startAt",n,!0)}(...e)))}catch(t){throw Ti(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ct(this.firestore,mc(this._delegate,function(...n){return new iw("startAfter",n,!1)}(...e)))}catch(t){throw Ti(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ct(this.firestore,mc(this._delegate,function(...n){return new zC("endBefore",n,!0)}(...e)))}catch(t){throw Ti(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ct(this.firestore,mc(this._delegate,function(...n){return new zC("endAt",n,!1)}(...e)))}catch(t){throw Ti(t,"endAt()","Query.endAt()")}}isEqual(e){return Vd(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(n){n=Kt(n,Ii);const e=Kt(n.firestore,Wn),t=fr(e),r=new Ba(e);return function(n,e){const t=new xr;return n.asyncQueue.enqueueAndForget((0,he.Z)(function*(){return(r=(0,he.Z)(function*(a,l,h){try{const y=yield $u(a,l,!0),w=new Sy(l,y.Gn),T=w.bo(y.documents),R=w.applyChanges(T,!1);h.resolve(R.snapshot)}catch(y){const w=Gi(y,`Failed to execute query '${l} against cache`);h.reject(w)}}),function(a,l,h){return r.apply(this,arguments)})(yield xf(n),e,t);var r})),t.promise}(t,n._query).then(a=>new ai(e,r,n,a))}(this._delegate):"server"===(null==e?void 0:e.source)?function(n){n=Kt(n,Ii);const e=Kt(n.firestore,Wn),t=fr(e),r=new Ba(e);return WE(t,n._query,{source:"server"}).then(a=>new ai(e,r,n,a))}(this._delegate):function(n){n=Kt(n,Ii);const e=Kt(n.firestore,Wn),t=fr(e),r=new Ba(e);return Rg(n._query),WE(t,n._query).then(a=>new ai(e,r,n,a))}(this._delegate),t.then(r=>new vc(this.firestore,new ai(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=Vg(e),r=Ug(e,a=>new vc(this.firestore,new ai(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)));return QC(this._delegate,t,r)}withConverter(e){return new Ct(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}class _c{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ku(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class vc{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ct(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ku(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new _c(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ku(this._firestore,r))})}isEqual(e){return RS(this._delegate,e._delegate)}}class ja extends Ct{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new oo(this.firestore,e):null}doc(e){try{return new oo(this.firestore,void 0===e?Hy(this._delegate):Hy(this._delegate,e))}catch(t){throw Ti(t,"doc()","CollectionReference.doc()")}}add(e){return function(n,e){const t=Kt(n.firestore,Wn),r=Hy(n),a=Mg(n.converter,e);return Of(t,[zy(Bd(n.firestore),"addDoc",r._key,a,null!==n.converter,{}).toMutation(r._key,hr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new oo(this.firestore,t))}isEqual(e){return MC(this._delegate,e._delegate)}withConverter(e){return new ja(this.firestore,this._delegate.withConverter(e?yc.getInstance(this.firestore,e):null))}}function kf(n){return Kt(n,Nn)}class yt{constructor(...e){this._delegate=new qu(...e)}static documentId(){return new yt(wr.keyField().canonicalString())}isEqual(e){return(e=(0,Rt.m9)(e))instanceof qu&&this._delegate._internalPath.isEqual(e._internalPath)}}class zr{constructor(e){this._delegate=e}static serverTimestamp(){const e=new Ky("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new zr(e)}static delete(){const e=new jd("deleteField");return e._methodName="FieldValue.delete",new zr(e)}static arrayUnion(...e){const t=function(...n){return new QE("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new zr(t)}static arrayRemove(...e){const t=function(...n){return new DS("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new zr(t)}static increment(e){const t=function(n){return new AS("increment",n)}(e);return t._methodName="FieldValue.increment",new zr(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const dw={Firestore:t_,GeoPoint:qy,Timestamp:$r,Blob:Fg,Transaction:iI,WriteBatch:sI,DocumentReference:oo,DocumentSnapshot:n_,Query:Ct,QueryDocumentSnapshot:Ku,QuerySnapshot:vc,CollectionReference:ja,FieldPath:yt,FieldValue:zr,setLogLevel:function(n){!function(n){zo.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};!function(n){(function(n,e){n.INTERNAL.registerComponent(new Is.wA("firestore-compat",t=>((e,t)=>new t_(e,t,new nI))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},dw)))})(n),n.registerVersion("@firebase/firestore-compat","0.1.6")}(Fo.Z);var Di=L(9765),oI=L(6682),r_=L(309),Ff=L(5345);function Ai(n,e){return"function"==typeof e?t=>t.pipe(Ai((r,a)=>(0,cn.D)(n(r,a)).pipe((0,Et.U)((l,h)=>e(r,l,a,h))))):t=>t.lift(new ao(n))}class ao{constructor(e){this.project=e}call(e,t){return t.subscribe(new Kn(e,this.project))}}class Kn extends Ff.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const r=this.index++;try{t=this.project(e,r)}catch(a){return void this.destination.error(a)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const r=new Ff.IY(this),a=this.destination;a.add(r),this.innerSubscription=(0,Ff.ft)(e,r),this.innerSubscription!==r&&a.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;(!e||e.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Xo=L(7771),hw=L(5319),aI=L(7971),uI=L(8858);class fw extends Di.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r){super(),this.scheduler=r,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new Lf(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,r=t?this._events:this._trimBufferThenGetEvents(),a=this.scheduler,l=r.length;let h;if(this.closed)throw new aI.N;if(this.isStopped||this.hasError?h=hw.w.EMPTY:(this.observers.push(e),h=new uI.W(this,e)),a&&e.add(e=new r_.ht(e,a)),t)for(let y=0;y<l&&!e.closed;y++)e.next(r[y]);else for(let y=0;y<l&&!e.closed;y++)e.next(r[y].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),h}_getNow(){return(this.scheduler||Xo.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,r=this._windowTime,a=this._events,l=a.length;let h=0;for(;h<l&&!(e-a[h].time<r);)h++;return l>t&&(h=Math.max(h,l-t)),h>0&&a.splice(0,h),a}}class Lf{constructor(e,t){this.time=e,this.value=t}}function Vf(n,e,t){let r;return r=n&&"object"==typeof n?n:{bufferSize:n,windowTime:e,refCount:!1,scheduler:t},a=>a.lift(function({bufferSize:n=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:t,scheduler:r}){let a,h,l=0,y=!1,w=!1;return function(R){let M;l++,!a||y?(y=!1,a=new fw(n,e,r),M=a.subscribe(this),h=R.subscribe({next($){a.next($)},error($){y=!0,a.error($)},complete(){w=!0,h=void 0,a.complete()}}),w&&(h=void 0)):M=a.subscribe(this),this.add(()=>{l--,M.unsubscribe(),M=void 0,h&&!w&&t&&0===l&&(h.unsubscribe(),h=void 0,a=void 0)})}}(r))}const i_=(()=>{function n(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return n.prototype=Object.create(Error.prototype),n})(),s_=(()=>{function n(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return n.prototype=Object.create(Error.prototype),n})();var uo=L(9193);function Bg(n){return e=>0===n?(0,uo.c)():e.lift(new lI(n))}class lI{constructor(e){if(this.total=e,this.total<0)throw new s_}call(e,t){return t.subscribe(new Bf(e,this.total))}}class Bf extends vr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function cI(n=null){return e=>e.lift(new o_(n))}class o_{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new dI(e,this.defaultValue))}}class dI extends vr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function pw(n=YS){return e=>e.lift(new hI(n))}class hI{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new a_(e,this.errorFactory))}}class a_ extends vr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function YS(){return new i_}var u_=L(4487);function Zu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Nr((a,l)=>n(a,l,r)):u_.y,Bg(1),t?cI(e):pw(()=>new i_))}function QS(n,e){return e?Ai(()=>n,e):Ai(()=>n)}var fI=L(3101);L(2329);const gI=new Map,yw={activated:!1,tokenObservers:[]},eN={initialized:!1,enabled:!1};function Ni(n){return gI.get(n)||yw}function lo(n,e){gI.set(n,e)}function jf(){return eN}class rN{constructor(e,t,r,a,l){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=a,this.upperBound=l,this.pending=null,this.nextErrorWaitInterval=a,a>l)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,he.Z)(function*(){t.stop();try{t.pending=new Rt.BH,yield function(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Rt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ri=new Rt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function yI(n){if(!Ni(n).activated)throw Ri.create("use-before-activation",{appName:n.name})}function qd(n,e){return vI.apply(this,arguments)}function vI(){return(vI=(0,he.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},a=t.getImmediate({optional:!0});a&&(r["X-Firebase-Client"]=a.getPlatformInfoString());const l={method:"POST",body:JSON.stringify(e),headers:r};let h,y;try{h=yield fetch(n,l)}catch(M){throw Ri.create("fetch-network-error",{originalErrorMessage:M.message})}if(200!==h.status)throw Ri.create("fetch-status-error",{httpStatus:h.status});try{y=yield h.json()}catch(M){throw Ri.create("fetch-parse-error",{originalErrorMessage:M.message})}const w=y.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw Ri.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${y.ttl}`});const T=1e3*Number(w[1]),R=Date.now();return{token:y.attestationToken,expireTimeMillis:R+T,issuedAtTimeMillis:R}})).apply(this,arguments)}function aN(n,e){const{projectId:t,appId:r,apiKey:a}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${a}`,body:{debug_token:e}}}const $g="firebase-app-check-store";let c_=null;function wI(){return c_||(c_=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var a;e(Ri.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},t.onupgradeneeded=r=>{const a=r.target.result;switch(r.oldVersion){case 0:a.createObjectStore($g,{keyPath:"compositeKey"})}}}catch(t){e(Ri.create("storage-open",{originalErrorMessage:t.message}))}}),c_)}function ww(){return(ww=(0,he.Z)(function*(n,e){const r=(yield wI()).transaction($g,"readwrite"),l=r.objectStore($g).put({compositeKey:n,value:e});return new Promise((h,y)=>{l.onsuccess=w=>{h()},r.onerror=w=>{var T;y(Ri.create("storage-set",{originalErrorMessage:null===(T=w.target.error)||void 0===T?void 0:T.message}))}})})).apply(this,arguments)}const d_=new Ts.Yd("@firebase/app-check");function DI(n,e){return(0,Rt.hl)()?function(n,e){return function(n,e){return ww.apply(this,arguments)}(function(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{d_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function Cw(){return jf().enabled}function co(){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,he.Z)(function*(){const n=jf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const AI={error:"UNKNOWN_ERROR"};function SI(n){return Rt.US.encodeString(JSON.stringify(n),!1)}function qg(n){return Iw.apply(this,arguments)}function Iw(){return(Iw=(0,he.Z)(function*(n,e=!1){const t=n.app;yI(t);const r=Ni(t);let l,h,a=r.token;if(!a){const y=yield r.cachedTokenPromise;y&&h_(y)&&(a=y,lo(t,Object.assign(Object.assign({},r),{token:a})),xI(t,{token:a.token}))}if(!e&&a&&h_(a))return{token:a.token};if(Cw()){const y=yield qd(aN(t,yield co()),n.platformLoggerProvider);return yield DI(t,y),lo(t,Object.assign(Object.assign({},r),{token:y})),{token:y.token}}try{a=yield r.provider.getToken()}catch(y){d_.error(y),l=y}return a?(h={token:a.token},lo(t,Object.assign(Object.assign({},r),{token:a})),yield DI(t,a)):h=dN(l),xI(t,h),h})).apply(this,arguments)}function Tw(n,e){const t=Ni(n),r=t.tokenObservers.filter(a=>a.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),lo(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function xI(n,e){const t=Ni(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(a){}}function h_(n){return n.expireTimeMillis-Date.now()>0}function dN(n){return{token:SI(AI),error:n}}class hN{constructor(e,t){this.app=e,this.platformLoggerProvider=t}_delete(){const{tokenObservers:e}=Ni(this.app);for(const t of e)Tw(this.app,t.next);return Promise.resolve()}}const BI="app-check-internal";(0,is._registerComponent)(new Is.wA("app-check",n=>function(n,e){return new hN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(BI).initialize()})),(0,is._registerComponent)(new Is.wA(BI,n=>function(n){return{getToken:e=>qg(n,e),addTokenListener:e=>function(n,e,t,r){const{app:a}=n,l=Ni(a),h={next:t,error:r,type:e},y=Object.assign(Object.assign({},l),{tokenObservers:[...l.tokenObservers,h]});if(!y.tokenRefresher){const w=function(n){const{app:e}=n;return new rN((0,he.Z)(function*(){let r;if(r=Ni(e).token?yield qg(n,!0):yield qg(n),r.error)throw r.error}),()=>!0,()=>{const t=Ni(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n);y.tokenRefresher=w}if(!y.tokenRefresher.isRunning()&&l.isTokenAutoRefreshEnabled&&y.tokenRefresher.start(),l.token&&h_(l.token)){const w=l.token;Promise.resolve().then(()=>t({token:w.token})).catch(()=>{})}else null==l.token&&l.cachedTokenPromise.then(w=>{w&&h_(w)&&t({token:w.token})}).catch(()=>{});lo(a,y)}(n,"INTERNAL",e),removeTokenListener:e=>Tw(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,is.registerVersion)("@firebase/app-check","0.5.0");class Rw{constructor(){return(0,In.vb)("app-check")}}"undefined"!=typeof window&&window;var Mw=L(7841);const WI=new p.OlP("angularfire2.auth.use-emulator"),KI=new p.OlP("angularfire2.auth.settings"),ZI=new p.OlP("angularfire2.auth.tenant-id"),Ow=new p.OlP("angularfire2.auth.langugage-code"),y_=new p.OlP("angularfire2.auth.use-device-language"),Pw=new p.OlP("angularfire.auth.persistence"),YI=(n,e,t,r,a,l,h,y)=>(0,Hn.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=a,l&&w.useDeviceLanguage(),h)for(const[T,R]of Object.entries(h))w.settings[T]=R;return y&&w.setPersistence(y),w},[t,r,a,l,h,y]);let kw=(()=>{class n{constructor(t,r,a,l,h,y,w,T,R,M,$,q){const ee=new Di.xQ,ye=(0,tt.of)(void 0).pipe((0,r_.QV)(h.outsideAngular),Ai(()=>l.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,2584)))),(0,Et.U)(()=>(0,Hn.on)(t,l,r)),(0,Et.U)(xe=>YI(xe,l,y,T,R,M,w,$)),Vf({bufferSize:1,refCount:!1}));if(Xa(a))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,tt.of)(null);else{ye.pipe(Zu()).subscribe();const Xe=ye.pipe(Ai(ot=>ot.getRedirectResult().then(dn=>dn,()=>null)),In.iC,Vf({bufferSize:1,refCount:!1})),at=ye.pipe(Ai(ot=>new $n.y(dn=>({unsubscribe:l.runOutsideAngular(()=>ot.onAuthStateChanged(pr=>dn.next(pr),pr=>dn.error(pr),()=>dn.complete()))})))),Ot=ye.pipe(Ai(ot=>new $n.y(dn=>({unsubscribe:l.runOutsideAngular(()=>ot.onIdTokenChanged(pr=>dn.next(pr),pr=>dn.error(pr),()=>dn.complete()))}))));this.authState=Xe.pipe(QS(at),(0,fI.R)(h.outsideAngular),(0,r_.QV)(h.insideAngular)),this.user=Xe.pipe(QS(Ot),(0,fI.R)(h.outsideAngular),(0,r_.QV)(h.insideAngular)),this.idToken=this.user.pipe(Ai(ot=>ot?(0,cn.D)(ot.getIdToken()):(0,tt.of)(null))),this.idTokenResult=this.user.pipe(Ai(ot=>ot?(0,cn.D)(ot.getIdTokenResult()):(0,tt.of)(null))),this.credential=(0,oI.T)(Xe,ee,this.authState.pipe(Nr(ot=>!ot))).pipe((0,Et.U)(ot=>(null==ot?void 0:ot.user)?ot:null),(0,fI.R)(h.outsideAngular),(0,r_.QV)(h.insideAngular))}return(0,Hn.pX)(this,ye,l,{spy:{apply:(xe,Xe,at)=>{(xe.startsWith("signIn")||xe.startsWith("createUser"))&&at.then(Ot=>ee.next(Ot))}}})}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Hn.Dh),p.LFG(Hn.xv,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(In.HU),p.LFG(WI,8),p.LFG(KI,8),p.LFG(ZI,8),p.LFG(Ow,8),p.LFG(y_,8),p.LFG(Pw,8),p.LFG(Rw,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function Fw(n,e){return function(n,e=Vc.z){return new $n.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=r&&r()}})}(n,e)}function Lw(n,e){return Fw(n,e).pipe((0,Et.U)(t=>({payload:t,type:"query"})))}function zg(n,e){return Lw(n,e).pipe(Sl(void 0),Nl(),(0,Et.U)(([t,r])=>{const a=r.payload.docChanges(),l=a.map(h=>({type:h.type,payload:h}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((h,y)=>{const w=a.find(R=>R.doc.ref.isEqual(h.ref)),T=null==t?void 0:t.payload.docs.find(R=>R.ref.isEqual(h.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(h.metadata)||!w&&T&&JSON.stringify(T.metadata)===JSON.stringify(h.metadata)||l.push({type:"modified",payload:{oldIndex:y,newIndex:y,type:"modified",doc:h}})}),l}))}function JI(n,e,t){return zg(n,t).pipe(rs((r,a)=>function(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ui(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ui(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ui(n,e.oldIndex,1)}return n}(n,r))}),n}(r,a.map(l=>l.payload),e),[]),t=>t.lift(new pu(void 0,void 0)),(0,Et.U)(r=>r.map(a=>({type:a.type,payload:a}))))}function ui(n,e,t,...r){const a=n.slice();return a.splice(e,t,...r),a}function XI(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class eT{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=zg(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Et.U)(r=>r.filter(a=>e.indexOf(a.type)>-1)))),t.pipe(Sl(void 0),Nl(),Nr(([r,a])=>a.length>0||!r),(0,Et.U)(([r,a])=>a),In.iC)}auditTrail(e){return this.stateChanges(e).pipe(rs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=XI(e);return JI(this.query,t,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return Lw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),In.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(In.iC)}add(e){return this.ref.add(e)}doc(e){return new SN(this.ref.doc(e),this.afs)}}class SN{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:a,query:l}=rT(r,t);return new eT(a,l,this.afs)}snapshotChanges(){return function(n,e){return Fw(n,e).pipe(Sl(void 0),Nl(),(0,Et.U)(([t,r])=>r.exists?(null==t?void 0:t.exists)?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Et.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,cn.D)(this.ref.get(e)).pipe(In.iC)}}class Wg{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?zg(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Nr(t=>t.length>0),In.iC):zg(this.query,this.afs.schedulers.outsideAngular).pipe(In.iC)}auditTrail(e){return this.stateChanges(e).pipe(rs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=XI(e);return JI(this.query,t,this.afs.schedulers.outsideAngular).pipe(In.iC)}valueChanges(e={}){return Lw(this.query,this.afs.schedulers.outsideAngular).pipe((0,Et.U)(r=>r.payload.docs.map(a=>e.idField?Object.assign({[e.idField]:a.id},a.data()):a.data())),In.iC)}get(e){return(0,cn.D)(this.query.get(e)).pipe(In.iC)}}const tT=new p.OlP("angularfire2.enableFirestorePersistence"),__=new p.OlP("angularfire2.firestore.persistenceSettings"),NN=new p.OlP("angularfire2.firestore.settings"),nT=new p.OlP("angularfire2.firestore.use-emulator");function rT(n,e=(t=>t)){return{query:e(n),ref:n}}let iT=(()=>{class n{constructor(t,r,a,l,h,y,w,T,R,M,$,q,ee,ye,xe,Xe,at){this.schedulers=w;const Ot=(0,Hn.on)(t,y,r),ot=R;M&&YI(Ot,y,$,ee,ye,xe,q,Xe),[this.firestore,this.persistenceEnabled$]=(0,Hn.cc)(`${Ot.name}.firestore`,"AngularFirestore",Ot.name,()=>{const dn=y.runOutsideAngular(()=>Ot.firestore());if(l&&dn.settings(l),ot&&dn.useEmulator(...ot),a&&!Xa(h)){const pr=()=>{try{return(0,cn.D)(dn.enablePersistence(T||void 0).then(()=>!0,()=>!1))}catch(zi){return"undefined"!=typeof console&&console.warn(zi),(0,tt.of)(!1)}};return[dn,y.runOutsideAngular(pr)]}return[dn,(0,tt.of)(!1)]},[l,ot,a])}collection(t,r){let a;a="string"==typeof t?this.firestore.collection(t):t;const{ref:l,query:h}=rT(a,r),y=this.schedulers.ngZone.run(()=>l);return new eT(y,h,this)}collectionGroup(t,r){const a=r||(h=>h),l=this.firestore.collectionGroup(t);return new Wg(a(l),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const a=this.schedulers.ngZone.run(()=>r);return new SN(a,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Hn.Dh),p.LFG(Hn.xv,8),p.LFG(tT,8),p.LFG(NN,8),p.LFG(p.Lbi),p.LFG(p.R0b),p.LFG(In.HU),p.LFG(__,8),p.LFG(nT,8),p.LFG(kw,8),p.LFG(WI,8),p.LFG(KI,8),p.LFG(ZI,8),p.LFG(Ow,8),p.LFG(y_,8),p.LFG(Pw,8),p.LFG(Rw,8))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Vw=(()=>{class n{constructor(){Mw.Z.registerVersion("angularfire",In.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:tT,useValue:!0},{provide:__,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:[iT]}),n})(),Uw=(()=>{class n{constructor(t){this.firestore=t}agregarEmpleado(t){return this.firestore.collection("empleados").add(t)}getEmpleados(){return this.firestore.collection("empleados",t=>t.orderBy("fechaCreacion","asc")).snapshotChanges()}eliminarEmpleado(t){return this.firestore.collection("empleados").doc(t).delete()}getEmpleado(t){return this.firestore.collection("empleados").doc(t).snapshotChanges()}actualizarEmpleado(t,r){return this.firestore.collection("empleados").doc(t).update(r)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(iT))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bw{}const ea="*";function DM(n,e){return{type:7,name:n,definitions:e,options:{}}}function jw(n,e=null){return{type:4,styles:e,timings:n}}function $w(n,e=null){return{type:2,steps:n,options:e}}function Ec(n){return{type:6,styles:n,offset:null}}function E_(n,e,t){return{type:0,name:n,styles:e,options:t}}function w_(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Hw(n){Promise.resolve(null).then(n)}class qf{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Hw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Gw{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,a=0;const l=this.players.length;0==l?Hw(()=>this._onFinish()):this.players.forEach(h=>{h.onDone(()=>{++t==l&&this._onFinish()}),h.onDestroy(()=>{++r==l&&this._onDestroy()}),h.onStart(()=>{++a==l&&this._onStart()})}),this.totalTime=this.players.reduce((h,y)=>Math.max(h,y.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const a=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(a)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const oT=["toast-component",""];function MN(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){return p.CHM(t),p.oxw().remove()}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA(),p.qZA()}}function aT(n,e){if(1&n&&(p.ynx(0),p._uU(1),p.BQk()),2&n){const t=p.oxw(2);p.xp6(1),p.hij("[",t.duplicatesCount+1,"]")}}function ON(n,e){if(1&n&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,aT,2,1,"ng-container",4),p.qZA()),2&n){const t=p.oxw();p.Tol(t.options.titleClass),p.uIk("aria-label",t.title),p.xp6(1),p.hij(" ",t.title," "),p.xp6(1),p.Q6J("ngIf",t.duplicatesCount)}}function uT(n,e){if(1&n&&p._UZ(0,"div",7),2&n){const t=p.oxw();p.Tol(t.options.messageClass),p.Q6J("innerHTML",t.message,p.oJD)}}function lT(n,e){if(1&n&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&n){const t=p.oxw();p.Tol(t.options.messageClass),p.uIk("aria-label",t.message),p.xp6(1),p.hij(" ",t.message," ")}}function cT(n,e){if(1&n&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.Udp("width",t.width+"%")}}function dT(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"button",5),p.NdJ("click",function(){return p.CHM(t),p.oxw().remove()}),p.TgZ(1,"span",6),p._uU(2,"\xd7"),p.qZA(),p.qZA()}}function PN(n,e){if(1&n&&(p.ynx(0),p._uU(1),p.BQk()),2&n){const t=p.oxw(2);p.xp6(1),p.hij("[",t.duplicatesCount+1,"]")}}function kN(n,e){if(1&n&&(p.TgZ(0,"div"),p._uU(1),p.YNc(2,PN,2,1,"ng-container",4),p.qZA()),2&n){const t=p.oxw();p.Tol(t.options.titleClass),p.uIk("aria-label",t.title),p.xp6(1),p.hij(" ",t.title," "),p.xp6(1),p.Q6J("ngIf",t.duplicatesCount)}}function FN(n,e){if(1&n&&p._UZ(0,"div",7),2&n){const t=p.oxw();p.Tol(t.options.messageClass),p.Q6J("innerHTML",t.message,p.oJD)}}function hT(n,e){if(1&n&&(p.TgZ(0,"div",8),p._uU(1),p.qZA()),2&n){const t=p.oxw();p.Tol(t.options.messageClass),p.uIk("aria-label",t.message),p.xp6(1),p.hij(" ",t.message," ")}}function xM(n,e){if(1&n&&(p.TgZ(0,"div"),p._UZ(1,"div",9),p.qZA()),2&n){const t=p.oxw();p.xp6(1),p.Udp("width",t.width+"%")}}class qw{constructor(e,t,r,a,l,h){this.toastId=e,this.config=t,this.message=r,this.title=a,this.toastType=l,this.toastRef=h,this._onTap=new Di.xQ,this._onAction=new Di.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const fT={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},C_=new p.OlP("ToastConfig");class MM{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class PM extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let a;return a=r.create(e.injector),this._appRef.attachView(a.hostView),this.setDisposeFn(()=>{this._appRef.detachView(a.hostView),a.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(a),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(a)),a}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let LN=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fe))},n.\u0275prov=p.Yz7({factory:function(){return new n(p.LFG(fe))},token:n,providedIn:"root"}),n})();class kM{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let VN=(()=>{class n{constructor(t,r,a,l){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=a,this._document=l,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const a=this._document.createElement("div");return a.id="toast-container",a.classList.add(t),a.classList.add("toast-container"),r?r.getContainerElement().appendChild(a):this._overlayContainer.getContainerElement().appendChild(a),a}_createPortalHost(t){return new PM(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new kM(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(LN),p.LFG(p._Vd),p.LFG(p.z2F),p.LFG(fe))},n.\u0275prov=p.Yz7({factory:function(){return new n(p.LFG(LN),p.LFG(p._Vd),p.LFG(p.z2F),p.LFG(fe))},token:n,providedIn:"root"}),n})();class FM{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Di.xQ,this._activate=new Di.xQ,this._manualClose=new Di.xQ,this._resetTimeout=new Di.xQ,this._countDuplicate=new Di.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class LM{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,r){return e===qw?this._toastPackage:this._parentInjector.get(e,t,r)}}let zw=(()=>{class n{constructor(t,r,a,l,h){this.overlay=r,this._injector=a,this.sanitizer=l,this.ngZone=h,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,r,a={},l=""){return this._preBuildNotification(l,t,r,this.applyConfig(a))}success(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(a))}error(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(a))}info(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(a))}warning(t,r,a={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(a))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const a=this.toasts[this.currentlyActive].toastRef;a.isInactive()||(this.currentlyActive=this.currentlyActive+1,a.activate())}return!0}findDuplicate(t="",r="",a,l){const{includeTitleDuplicates:h}=this.toastrConfig;for(const y of this.toasts){const w=h&&y.title===t;if((!h||w)&&y.message===r)return y.toastRef.onDuplicate(a,l),y}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,a,l){return l.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,a,l)):this._buildNotification(t,r,a,l)}_buildNotification(t,r,a,l){if(!l.toastComponent)throw new Error("toastComponent required");const h=this.findDuplicate(a,r,this.toastrConfig.resetTimeoutOnDuplicate&&l.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&a||r)&&this.toastrConfig.preventDuplicates&&null!==h)return h;this.previousToastMessage=r;let y=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(y=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const w=this.overlay.create(l.positionClass,this.overlayContainer);this.index=this.index+1;let T=r;r&&l.enableHtml&&(T=this.sanitizer.sanitize(p.q3G.HTML,r));const R=new FM(w),M=new qw(this.index,l,T,a,t,R),$=new LM(M,this._injector),q=new MM(l.toastComponent,$),ee=w.attach(q,this.toastrConfig.newestOnTop);R.componentInstance=ee.instance;const ye={toastId:this.index,title:a||"",message:r||"",toastRef:R,onShown:R.afterActivate(),onHidden:R.afterClosed(),onTap:M.onTap(),onAction:M.onAction(),portal:ee};return y||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{ye.toastRef.activate()})),this.toasts.push(ye),ye}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(C_),p.LFG(VN),p.LFG(p.zs3),p.LFG(So),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({factory:function(){return new n(p.LFG(C_),p.LFG(VN),p.LFG(p.gxx),p.LFG(So),p.LFG(p.R0b))},token:n,providedIn:"root"}),n})(),VM=(()=>{class n{constructor(t,r,a){this.toastrService=t,this.toastPackage=r,this.ngZone=a,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(zw),p.Y36(qw),p.Y36(p.R0b))},n.\u0275cmp=p.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(p.d8E("@flyInOut",r.state),p.Tol(r.toastClasses),p.Udp("display",r.displayStyle))},attrs:oT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(p.YNc(0,MN,3,0,"button",0),p.YNc(1,ON,3,5,"div",1),p.YNc(2,uT,1,3,"div",2),p.YNc(3,lT,2,4,"div",3),p.YNc(4,cT,2,2,"div",4)),2&t&&(p.Q6J("ngIf",r.options.closeButton),p.xp6(1),p.Q6J("ngIf",r.title),p.xp6(1),p.Q6J("ngIf",r.message&&r.options.enableHtml),p.xp6(1),p.Q6J("ngIf",r.message&&!r.options.enableHtml),p.xp6(1),p.Q6J("ngIf",r.options.progressBar))},directives:[fi],encapsulation:2,data:{animation:[DM("flyInOut",[E_("inactive",Ec({opacity:0})),E_("active",Ec({opacity:1})),E_("removed",Ec({opacity:0})),w_("inactive => active",jw("{{ easeTime }}ms {{ easing }}")),w_("active => removed",jw("{{ easeTime }}ms {{ easing }}"))])]}}),n})();const UM=Object.assign(Object.assign({},fT),{toastComponent:VM});let pT=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:C_,useValue:{default:UM,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[ki]]}),n})(),UN=(()=>{class n{constructor(t,r,a){this.toastrService=t,this.toastPackage=r,this.appRef=a,this.width=-1,this.toastClasses="",this.state="inactive",this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(l=>{this.duplicatesCount=l})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(zw),p.Y36(qw),p.Y36(p.z2F))},n.\u0275cmp=p.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(p.Tol(r.toastClasses),p.Udp("display",r.displayStyle))},attrs:oT,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,r){1&t&&(p.YNc(0,dT,3,0,"button",0),p.YNc(1,kN,3,5,"div",1),p.YNc(2,FN,1,3,"div",2),p.YNc(3,hT,2,4,"div",3),p.YNc(4,xM,2,2,"div",4)),2&t&&(p.Q6J("ngIf",r.options.closeButton),p.xp6(1),p.Q6J("ngIf",r.title),p.xp6(1),p.Q6J("ngIf",r.message&&r.options.enableHtml),p.xp6(1),p.Q6J("ngIf",r.message&&!r.options.enableHtml),p.xp6(1),p.Q6J("ngIf",r.options.progressBar))},directives:[fi],encapsulation:2}),n})();Object.assign(Object.assign({},fT),{toastComponent:UN});class Ha extends Di.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new aI.N;return this._value}next(e){super.next(this._value=e)}}var Ww=L(9796);class BN extends vr.L{notifyNext(e,t,r,a,l){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class jN extends vr.L{constructor(e,t,r){super(),this.parent=e,this.outerValue=t,this.outerIndex=r,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var $M=L(7444);function HM(n,e,t,r,a=new jN(n,t,r)){if(!a.closed)return e instanceof $n.y?e.subscribe(a):(0,$M.s)(e)(a)}var GM=L(6693);const $N={};class qM{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new GN(e,this.resultSelector))}}class GN extends BN{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push($N),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let r=0;r<t;r++)this.add(HM(this,e[r],void 0,r))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,r){const a=this.values,h=this.toRespond?a[r]===$N?--this.toRespond:this.toRespond:0;a[r]=t,0===h&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)}}function I_(n){return new $n.y(e=>{let t;try{t=n()}catch(a){return void e.error(a)}return(t?(0,cn.D)(t):(0,uo.c)()).subscribe(e)})}var zf=L(2441);function wc(n){return function(t){const r=new qN(n),a=t.lift(r);return r.caught=a}}class qN{constructor(e){this.selector=e}call(e,t){return t.subscribe(new zN(e,this.selector,this.caught))}}class zN extends Ff.Ds{constructor(e,t,r){super(e),this.selector=t,this.caught=r}error(e){if(!this.isStopped){let t;try{t=this.selector(e,this.caught)}catch(l){return void super.error(l)}this._unsubscribeAndRecycle();const r=new Ff.IY(this);this.add(r);const a=(0,Ff.ft)(t,r);a!==r&&this.add(a)}}}var li=L(9773);function Wf(n,e){return(0,li.zg)(n,e,1)}function T_(n){return function(t){return 0===n?(0,uo.c)():t.lift(new gT(n))}}class gT{constructor(e){if(this.total=e,this.total<0)throw new s_}call(e,t){return t.subscribe(new zM(e,this.total))}}class zM extends vr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,r=this.total,a=this.count++;t.length<r?t.push(e):t[a%r]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const r=this.count>=this.total?this.total:this.count,a=this.ring;for(let l=0;l<r;l++){const h=t++%r;e.next(a[h])}}e.complete()}}var xi=L(3342),yT=L(1307);class KM{constructor(e){this.callback=e}call(e,t){return t.subscribe(new ZM(e,this.callback))}}class ZM extends vr.L{constructor(e,t){super(e),this.add(new hw.w(t))}}class Yu{constructor(e,t){this.id=e,this.url=t}}class _T extends Yu{constructor(e,t,r="imperative",a=null){super(e,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bc extends Yu{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class vT extends Yu{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class YM extends Yu{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QM extends Yu{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kw extends Yu{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class WN extends Yu{constructor(e,t,r,a,l){super(e,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=l}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class JM extends Yu{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class XM extends Yu{constructor(e,t,r,a){super(e,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ET{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class KN{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class wT{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ZN{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eO{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tO{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bT{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const xt="primary";class YN{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kf(n){return new YN(n)}const CT="ngNavigationCancelingError";function Kg(n){const e=Error("NavigationCancelingError: "+n);return e[CT]=!0,e}function Os(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const a={};for(let l=0;l<r.length;l++){const h=r[l],y=n[l];if(h.startsWith(":"))a[h.substring(1)]=y;else if(h!==y.path)return null}return{consumed:n.slice(0,r.length),posParams:a}}function ho(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let l=0;l<t.length;l++)if(a=t[l],!IT(n[a],e[a]))return!1;return!0}function IT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((a,l)=>r[l]===a)}return n===e}function TT(n){return Array.prototype.concat.apply([],n)}function D_(n){return n.length>0?n[n.length-1]:null}function Kr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ga(n){return(0,p.CqO)(n)?n:(0,p.QGY)(n)?(0,cn.D)(Promise.resolve(n)):(0,tt.of)(n)}const AT={exact:function Yw(n,e,t){if(!Kd(n.segments,e.segments)||!ps(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Yw(n.children[r],e.children[r],t))return!1;return!0},subset:A_},ST={exact:function(n,e){return ho(n,e)},subset:function(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>IT(n[t],e[t]))},ignored:()=>!0};function NT(n,e,t){return AT[t.paths](n.root,e.root,t.matrixParams)&&ST[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function A_(n,e,t){return xT(n,e,e.segments,t)}function xT(n,e,t,r){if(n.segments.length>t.length){const a=n.segments.slice(0,t.length);return!(!Kd(a,t)||e.hasChildren()||!ps(a,t,r))}if(n.segments.length===t.length){if(!Kd(n.segments,t)||!ps(n.segments,t,r))return!1;for(const a in e.children)if(!n.children[a]||!A_(n.children[a],e.children[a],r))return!1;return!0}{const a=t.slice(0,n.segments.length),l=t.slice(n.segments.length);return!!(Kd(n.segments,a)&&ps(n.segments,a,r)&&n.children[xt])&&xT(n.children[xt],e,l,r)}}function ps(n,e,t){return e.every((r,a)=>ST[t](n[a].parameters,r.parameters))}class Wd{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kf(this.queryParams)),this._queryParamMap}toString(){return nR.serialize(this)}}class zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kr(t,(r,a)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Yg(this)}}class Zg{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kf(this.parameters)),this._parameterMap}toString(){return PT(this)}}function Kd(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class Qw{}class tR{parse(e){const t=new iO(e);return new Wd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${`/${Qg(e.root,!0)}`}${function(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(a=>`${Jg(t)}=${Jg(a)}`).join("&"):`${Jg(t)}=${Jg(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${function(n){return encodeURI(n)}(e.fragment)}`:""}`}}const nR=new tR;function Yg(n){return n.segments.map(e=>PT(e)).join("/")}function Qg(n,e){if(!n.hasChildren())return Yg(n);if(e){const t=n.children[xt]?Qg(n.children[xt],!1):"",r=[];return Kr(n.children,(a,l)=>{l!==xt&&r.push(`${l}:${Qg(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function(n,e){let t=[];return Kr(n.children,(r,a)=>{a===xt&&(t=t.concat(e(r,a)))}),Kr(n.children,(r,a)=>{a!==xt&&(t=t.concat(e(r,a)))}),t}(n,(r,a)=>a===xt?[Qg(n.children[xt],!1)]:[`${a}:${Qg(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[xt]?`${Yg(n)}/${t[0]}`:`${Yg(n)}/(${t.join("//")})`}}function MT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Jg(n){return MT(n).replace(/%3B/gi,";")}function OT(n){return MT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Xg(n){return decodeURIComponent(n)}function Jw(n){return Xg(n.replace(/\+/g,"%20"))}function PT(n){return`${OT(n.path)}${function(n){return Object.keys(n).map(e=>`;${OT(e)}=${OT(n[e])}`).join("")}(n.parameters)}`}const em=/^[^\/()?;=#]+/;function Zf(n){const e=n.match(em);return e?e[0]:""}const FT=/^[^=?&#]+/,oR=/^[^?&#]+/;class iO{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new zt([],{}):new zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[xt]=new zt(e,t)),r}parseSegment(){const e=Zf(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new Zg(Xg(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Zf(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const a=Zf(this.remaining);a&&(r=a,this.capture(r))}e[Xg(t)]=Xg(r)}parseQueryParam(e){const t=function(n){const e=n.match(FT);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const h=function(n){const e=n.match(oR);return e?e[0]:""}(this.remaining);h&&(r=h,this.capture(r))}const a=Jw(t),l=Jw(r);if(e.hasOwnProperty(a)){let h=e[a];Array.isArray(h)||(h=[h],e[a]=h),h.push(l)}else e[a]=l}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Zf(this.remaining),a=this.remaining[r.length];if("/"!==a&&")"!==a&&";"!==a)throw new Error(`Cannot parse url '${this.url}'`);let l;r.indexOf(":")>-1?(l=r.substr(0,r.indexOf(":")),this.capture(l),this.capture(":")):e&&(l=xt);const h=this.parseChildren();t[l]=1===Object.keys(h).length?h[xt]:new zt([],h),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class aR{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=S_(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=S_(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=N_(e,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==e)}pathFromRoot(e){return N_(e,this._root).map(t=>t.value)}}function S_(n,e){if(n===e.value)return e;for(const t of e.children){const r=S_(n,t);if(r)return r}return null}function N_(n,e){if(n===e.value)return[e];for(const t of e.children){const r=N_(n,t);if(r.length)return r.unshift(e),r}return[]}class Qu{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function tm(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class LT extends aR{constructor(e,t){super(e),this.snapshot=t,BT(this,e)}toString(){return this.snapshot.toString()}}function VT(n,e){const t=function(n,e){const h=new Qf([],{},{},"",{},xt,e,null,n.root,-1,{});return new Or("",new Qu(h,[]))}(n,e),r=new Ha([new Zg("",{})]),a=new Ha({}),l=new Ha({}),h=new Ha({}),y=new Ha(""),w=new Yf(r,a,h,y,l,xt,e,t.root);return w.snapshot=t.root,new LT(new Qu(w,[]),t)}class Yf{constructor(e,t,r,a,l,h,y,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=y,this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Et.U)(e=>Kf(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Et.U)(e=>Kf(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function uR(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const a=t[r],l=t[r-1];if(a.routeConfig&&""===a.routeConfig.path)r--;else{if(l.component)break;r--}}return function(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Qf{constructor(e,t,r,a,l,h,y,w,T,R,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=a,this.data=l,this.outlet=h,this.component=y,this.routeConfig=w,this._urlSegment=T,this._lastPathIndex=R,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kf(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kf(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Or extends aR{constructor(e,t){super(t),this.url=e,BT(this,t)}toString(){return Xw(this._root)}}function BT(n,e){e.value._routerState=n,e.children.forEach(t=>BT(n,t))}function Xw(n){const e=n.children.length>0?` { ${n.children.map(Xw).join(", ")} } `:"";return`${n.value}${e}`}function R_(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ho(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),ho(e.params,t.params)||n.params.next(t.params),function(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ho(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),ho(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function eb(n,e){return ho(n.params,e.params)&&function(n,e){return Kd(n,e)&&n.every((t,r)=>ho(t.parameters,e[r].parameters))}(n.url,e.url)&&!(!n.parent!=!e.parent)&&(!n.parent||eb(n.parent,e.parent))}function M_(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const a=function(n,e,t){return e.children.map(r=>{for(const a of t.children)if(n.shouldReuseRoute(r.value,a.value.snapshot))return M_(n,r,a);return M_(n,r)})}(n,e,t);return new Qu(r,a)}{if(n.shouldAttach(e.value)){const l=n.retrieve(e.value);if(null!==l){const h=l.route;return jT(e,h),h}}const r=function(n){return new Yf(new Ha(n.url),new Ha(n.params),new Ha(n.queryParams),new Ha(n.fragment),new Ha(n.data),n.outlet,n.component,n)}(e.value),a=e.children.map(l=>M_(n,l));return new Qu(r,a)}}function jT(n,e){if(n.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(n.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=n.value;for(let t=0;t<n.children.length;++t)jT(n.children[t],e.children[t])}function Jf(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Yd(n){return"object"==typeof n&&null!=n&&n.outlets}function tb(n,e,t,r,a){let l={};return r&&Kr(r,(h,y)=>{l[y]=Array.isArray(h)?h.map(w=>`${w}`):`${h}`}),new Wd(t.root===n?e:nm(t.root,n,e),l,a)}function nm(n,e,t){const r={};return Kr(n.children,(a,l)=>{r[l]=a===e?t:nm(a,e,t)}),new zt(n.segments,r)}class GT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Jf(r[0]))throw new Error("Root segment cannot have matrix parameters");const a=r.find(Yd);if(a&&a!==D_(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class O_{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function qT(n,e,t){if(n||(n=new zt([],{})),0===n.segments.length&&n.hasChildren())return rb(n,e,t);const r=function(n,e,t){let r=0,a=e;const l={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(r>=t.length)return l;const h=n.segments[a],y=t[r];if(Yd(y))break;const w=`${y}`,T=r<t.length-1?t[r+1]:null;if(a>0&&void 0===w)break;if(w&&T&&"object"==typeof T&&void 0===T.outlets){if(!hR(w,T,h))return l;r+=2}else{if(!hR(w,{},h))return l;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}(n,e,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const l=new zt(n.segments.slice(0,r.pathIndex),{});return l.children[xt]=new zt(n.segments.slice(r.pathIndex),n.children),rb(l,0,a)}return r.match&&0===a.length?new zt(n.segments,{}):r.match&&!n.hasChildren()?ib(n,e,t):r.match?rb(n,0,a):ib(n,e,t)}function rb(n,e,t){if(0===t.length)return new zt(n.segments,{});{const r=function(n){return Yd(n[0])?n[0].outlets:{[xt]:n}}(t),a={};return Kr(r,(l,h)=>{"string"==typeof l&&(l=[l]),null!==l&&(a[h]=qT(n.children[h],e,l))}),Kr(n.children,(l,h)=>{void 0===r[h]&&(a[h]=l)}),new zt(n.segments,a)}}function ib(n,e,t){const r=n.segments.slice(0,e);let a=0;for(;a<t.length;){const l=t[a];if(Yd(l)){const w=oO(l.outlets);return new zt(r,w)}if(0===a&&Jf(t[0])){r.push(new Zg(n.segments[e].path,dR(t[0]))),a++;continue}const h=Yd(l)?l.outlets[xt]:`${l}`,y=a<t.length-1?t[a+1]:null;h&&y&&Jf(y)?(r.push(new Zg(h,dR(y))),a+=2):(r.push(new Zg(h,{})),a++)}return new zt(r,{})}function oO(n){const e={};return Kr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=ib(new zt([],{}),0,t))}),e}function dR(n){const e={};return Kr(n,(t,r)=>e[r]=`${t}`),e}function hR(n,e,t){return n==t.path&&ho(e,t.parameters)}class pR{constructor(e,t,r,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),R_(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const a=tm(t);e.children.forEach(l=>{const h=l.value.outlet;this.deactivateRoutes(l,a[h],r),delete a[h]}),Kr(a,(l,h)=>{this.deactivateRouteAndItsChildren(l,r)})}deactivateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(a===l)if(a.component){const h=r.getContext(a.outlet);h&&this.deactivateChildRoutes(e,t,h.children)}else this.deactivateChildRoutes(e,t,r);else l&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet);if(r&&r.outlet){const a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),a=r&&e.value.component?r.children:t,l=tm(e);for(const h of Object.keys(l))this.deactivateRouteAndItsChildren(l[h],a);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const a=tm(t);e.children.forEach(l=>{this.activateRoutes(l,a[l.value.outlet],r),this.forwardEvent(new tO(l.value.snapshot))}),e.children.length&&this.forwardEvent(new ZN(e.value.snapshot))}activateRoutes(e,t,r){const a=e.value,l=t?t.value:null;if(R_(a),a===l)if(a.component){const h=r.getOrCreateContext(a.outlet);this.activateChildRoutes(e,t,h.children)}else this.activateChildRoutes(e,t,r);else if(a.component){const h=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){const y=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),h.children.onOutletReAttached(y.contexts),h.attachRef=y.componentRef,h.route=y.route.value,h.outlet&&h.outlet.attach(y.componentRef,y.route.value),zT(y.route)}else{const y=function(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(a.snapshot),w=y?y.module.componentFactoryResolver:null;h.attachRef=null,h.route=a,h.resolver=w,h.outlet&&h.outlet.activateWith(a,w),this.activateChildRoutes(e,null,h.children)}}else this.activateChildRoutes(e,null,r)}}function zT(n){R_(n.value),n.children.forEach(zT)}class sb{constructor(e,t){this.routes=e,this.module=t}}function Qd(n){return"function"==typeof n}function Jd(n){return n instanceof Wd}const rm=Symbol("INITIAL_VALUE");function im(){return Ai(n=>function(...n){let e,t;return(0,Al.K)(n[n.length-1])&&(t=n.pop()),"function"==typeof n[n.length-1]&&(e=n.pop()),1===n.length&&(0,Ww.k)(n[0])&&(n=n[0]),(0,GM.n)(n,t).lift(new qM(e))}(n.map(e=>e.pipe(Bg(1),Sl(rm)))).pipe(rs((e,t)=>{let r=!1;return t.reduce((a,l,h)=>a!==rm?a:(l===rm&&(r=!0),r||!1!==l&&h!==t.length-1&&!Jd(l)?a:l),e)},rm),Nr(e=>e!==rm),(0,Et.U)(e=>Jd(e)?e:!0===e),Bg(1)))}let WT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&p._UZ(0,"router-outlet")},directives:function(){return[W_]},encapsulation:2}),n})();function KT(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];ta(r,vR(e,r))}}function ta(n,e){n.children&&KT(n.children,e)}function vR(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function ob(n){const e=n.children&&n.children.map(ob),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==xt&&(t.component=WT),t}function fo(n){return n.outlet||xt}function ZT(n,e){const t=n.filter(r=>fo(r)===e);return t.push(...n.filter(r=>fo(r)!==e)),t}const ER={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function k_(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},ER):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const l=(e.matcher||Os)(t,n,e);if(!l)return Object.assign({},ER);const h={};Kr(l.posParams,(w,T)=>{h[T]=w.path});const y=l.consumed.length>0?Object.assign(Object.assign({},h),l.consumed[l.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:l.consumed,lastChild:l.consumed.length,parameters:y,positionalParamSegments:null!==(r=l.posParams)&&void 0!==r?r:{}}}function F_(n,e,t,r,a="corrected"){if(t.length>0&&function(n,e,t){return t.some(r=>L_(n,e,r)&&fo(r)!==xt)}(n,t,r)){const h=new zt(e,function(n,e,t,r){const a={};a[xt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const l of t)if(""===l.path&&fo(l)!==xt){const h=new zt([],{});h._sourceSegment=n,h._segmentIndexShift=e.length,a[fo(l)]=h}return a}(n,e,r,new zt(t,n.children)));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:[]}}if(0===t.length&&function(n,e,t){return t.some(r=>L_(n,e,r))}(n,t,r)){const h=new zt(n.segments,function(n,e,t,r,a,l){const h={};for(const y of r)if(L_(n,t,y)&&!a[fo(y)]){const w=new zt([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===l?n.segments.length:e.length,h[fo(y)]=w}return Object.assign(Object.assign({},a),h)}(n,e,t,r,n.children,a));return h._sourceSegment=n,h._segmentIndexShift=e.length,{segmentGroup:h,slicedSegments:t}}const l=new zt(n.segments,n.children);return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}function L_(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function bR(n,e,t,r){return!!(fo(n)===r||r!==xt&&L_(e,t,n))&&("**"===n.path||k_(e,n,t).matched)}function CR(n,e,t){return 0===e.length&&!n.children[t]}class V_{constructor(e){this.segmentGroup=e||null}}class U_{constructor(e){this.urlTree=e}}function B_(n){return new $n.y(e=>e.error(new V_(n)))}function QT(n){return new $n.y(e=>e.error(new U_(n)))}function IR(n){return new $n.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${n}'`)))}class DR{constructor(e,t,r,a,l){this.configLoader=t,this.urlSerializer=r,this.urlTree=a,this.config=l,this.allowRedirects=!0,this.ngModule=e.get(p.h0i)}apply(){const e=F_(this.urlTree.root,[],[],this.config).segmentGroup,t=new zt(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,xt).pipe((0,Et.U)(l=>this.createUrlTree(Ps(l),this.urlTree.queryParams,this.urlTree.fragment))).pipe(wc(l=>{if(l instanceof U_)return this.allowRedirects=!1,this.match(l.urlTree);throw l instanceof V_?this.noMatchError(l):l}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xt).pipe((0,Et.U)(a=>this.createUrlTree(Ps(a),e.queryParams,e.fragment))).pipe(wc(a=>{throw a instanceof V_?this.noMatchError(a):a}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const a=e.segments.length>0?new zt([],{[xt]:e}):e;return new Wd(a,t,r)}expandSegmentGroup(e,t,r,a){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Et.U)(l=>new zt([],l))):this.expandSegment(e,r,t,r.segments,a,!0)}expandChildren(e,t,r){const a=[];for(const l of Object.keys(r.children))"primary"===l?a.unshift(l):a.push(l);return(0,cn.D)(a).pipe(Wf(l=>{const h=r.children[l],y=ZT(t,l);return this.expandSegmentGroup(e,y,h,l).pipe((0,Et.U)(w=>({segment:w,outlet:l})))}),rs((l,h)=>(l[h.outlet]=h.segment,l),{}),function(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Nr((a,l)=>n(a,l,r)):u_.y,T_(1),t?cI(e):pw(()=>new i_))}())}expandSegment(e,t,r,a,l,h){return(0,cn.D)(r).pipe(Wf(y=>this.expandSegmentAgainstRoute(e,t,r,y,a,l,h).pipe(wc(T=>{if(T instanceof V_)return(0,tt.of)(null);throw T}))),Zu(y=>!!y),wc((y,w)=>{if(y instanceof i_||"EmptyError"===y.name){if(CR(t,a,l))return(0,tt.of)(new zt([],{}));throw new V_(t)}throw y}))}expandSegmentAgainstRoute(e,t,r,a,l,h,y){return bR(a,t,l,h)?void 0===a.redirectTo?this.matchSegmentAgainstRoute(e,t,a,l,h):y&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h):B_(t):B_(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){return"**"===a.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,a,h):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,a){const l=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?QT(l):this.lineralizeSegments(r,l).pipe((0,li.zg)(h=>{const y=new zt(h,{});return this.expandSegment(e,y,t,h,a,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,a,l,h){const{matched:y,consumedSegments:w,lastChild:T,positionalParamSegments:R}=k_(t,a,l);if(!y)return B_(t);const M=this.applyRedirectCommands(w,a.redirectTo,R);return a.redirectTo.startsWith("/")?QT(M):this.lineralizeSegments(a,M).pipe((0,li.zg)($=>this.expandSegment(e,t,r,$.concat(l.slice(T)),h,!1)))}matchSegmentAgainstRoute(e,t,r,a,l){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,tt.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Et.U)($=>(r._loadedConfig=$,new zt(a,{})))):(0,tt.of)(new zt(a,{}));const{matched:h,consumedSegments:y,lastChild:w}=k_(t,r,a);if(!h)return B_(t);const T=a.slice(w);return this.getChildConfig(e,r,a).pipe((0,li.zg)(M=>{const $=M.module,q=M.routes,{segmentGroup:ee,slicedSegments:ye}=F_(t,y,T,q),xe=new zt(ee.segments,ee.children);if(0===ye.length&&xe.hasChildren())return this.expandChildren($,q,xe).pipe((0,Et.U)(ot=>new zt(y,ot)));if(0===q.length&&0===ye.length)return(0,tt.of)(new zt(y,{}));const Xe=fo(r)===l;return this.expandSegment($,xe,q,ye,Xe?xt:l,!0).pipe((0,Et.U)(Ot=>new zt(y.concat(Ot.segments),Ot.children)))}))}getChildConfig(e,t,r){return t.children?(0,tt.of)(new sb(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,tt.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,li.zg)(a=>a?this.configLoader.load(e.injector,t).pipe((0,Et.U)(l=>(t._loadedConfig=l,l))):function(n){return new $n.y(e=>e.error(Kg(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`)))}(t))):(0,tt.of)(new sb([],e))}runCanLoadGuards(e,t,r){const a=t.canLoad;if(!a||0===a.length)return(0,tt.of)(!0);const l=a.map(h=>{const y=e.get(h);let w;if(function(n){return n&&Qd(n.canLoad)}(y))w=y.canLoad(t,r);else{if(!Qd(y))throw new Error("Invalid CanLoad guard");w=y(t,r)}return Ga(w)});return(0,tt.of)(l).pipe(im(),(0,xi.b)(h=>{if(!Jd(h))return;const y=Kg(`Redirecting to "${this.urlSerializer.serialize(h)}"`);throw y.url=h,y}),(0,Et.U)(h=>!0===h))}lineralizeSegments(e,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),0===a.numberOfChildren)return(0,tt.of)(r);if(a.numberOfChildren>1||!a.children[xt])return IR(e.redirectTo);a=a.children[xt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,a){const l=this.createSegmentGroup(e,t.root,r,a);return new Wd(l,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kr(e,(a,l)=>{if("string"==typeof a&&a.startsWith(":")){const y=a.substring(1);r[l]=t[y]}else r[l]=a}),r}createSegmentGroup(e,t,r,a){const l=this.createSegments(e,t.segments,r,a);let h={};return Kr(t.children,(y,w)=>{h[w]=this.createSegmentGroup(e,y,r,a)}),new zt(l,h)}createSegments(e,t,r,a){return t.map(l=>l.path.startsWith(":")?this.findPosParam(e,l,a):this.findOrReturn(l,r))}findPosParam(e,t,r){const a=r[t.path.substring(1)];if(!a)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return a}findOrReturn(e,t){let r=0;for(const a of t){if(a.path===e.path)return t.splice(r),a;r++}return e}}function Ps(n){const e={};for(const r of Object.keys(n.children)){const l=Ps(n.children[r]);(l.segments.length>0||l.hasChildren())&&(e[r]=l)}return function(n){if(1===n.numberOfChildren&&n.children[xt]){const e=n.children[xt];return new zt(n.segments.concat(e.segments),e.children)}return n}(new zt(n.segments,e))}class ab{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class j_{constructor(e,t){this.component=e,this.route=t}}function JT(n,e,t){const r=n._root;return Xd(r,e?e._root:null,t,[r.value])}function om(n,e,t){const r=function(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function Xd(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=tm(e);return n.children.forEach(h=>{(function(n,e,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){const l=n.value,h=e?e.value:null,y=t?t.getContext(n.value.outlet):null;if(h&&l.routeConfig===h.routeConfig){const w=function(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Kd(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Kd(n.url,e.url)||!ho(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eb(n,e)||!ho(n.queryParams,e.queryParams);case"paramsChange":default:return!eb(n,e)}}(h,l,l.routeConfig.runGuardsAndResolvers);w?a.canActivateChecks.push(new ab(r)):(l.data=h.data,l._resolvedData=h._resolvedData),Xd(n,e,l.component?y?y.children:null:t,r,a),w&&y&&y.outlet&&y.outlet.isActivated&&a.canDeactivateChecks.push(new j_(y.outlet.component,h))}else h&&Cc(e,y,a),a.canActivateChecks.push(new ab(r)),Xd(n,null,l.component?y?y.children:null:t,r,a)})(h,l[h.value.outlet],t,r.concat([h.value]),a),delete l[h.value.outlet]}),Kr(l,(h,y)=>Cc(h,t.getContext(y),a)),a}function Cc(n,e,t){const r=tm(n),a=n.value;Kr(r,(l,h)=>{Cc(l,a.component?e?e.children.getContext(h):null:e,t)}),t.canDeactivateChecks.push(new j_(a.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,a))}class cb{}function rD(n){return new $n.y(e=>e.error(n))}class am{constructor(e,t,r,a,l,h){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=l,this.relativeLinkResolution=h}recognize(){const e=F_(this.urlTree.root,[],[],this.config.filter(h=>void 0===h.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,xt);if(null===t)return null;const r=new Qf([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xt,this.rootComponentType,null,this.urlTree.root,-1,{}),a=new Qu(r,t),l=new Or(this.url,a);return this.inheritParamsAndData(l._root),l}inheritParamsAndData(e){const t=e.value,r=uR(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(a=>this.inheritParamsAndData(a))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const l of Object.keys(t.children)){const h=t.children[l],y=ZT(e,l),w=this.processSegmentGroup(y,h,l);if(null===w)return null;r.push(...w)}const a=q_(r);return function(n){n.sort((e,t)=>e.value.outlet===xt?-1:t.value.outlet===xt?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}processSegment(e,t,r,a){for(const l of e){const h=this.processSegmentAgainstRoute(l,t,r,a);if(null!==h)return h}return CR(t,r,a)?[]:null}processSegmentAgainstRoute(e,t,r,a){if(e.redirectTo||!bR(e,t,r,a))return null;let l,h=[],y=[];if("**"===e.path){const q=r.length>0?D_(r).parameters:{};l=new Qf(r,q,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oD(e),fo(e),e.component,e,um(t),sD(t)+r.length,aD(e))}else{const q=k_(t,e,r);if(!q.matched)return null;h=q.consumedSegments,y=r.slice(q.lastChild),l=new Qf(h,q.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,oD(e),fo(e),e.component,e,um(t),sD(t)+h.length,aD(e))}const w=function(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:T,slicedSegments:R}=F_(t,h,y,w.filter(q=>void 0===q.redirectTo),this.relativeLinkResolution);if(0===R.length&&T.hasChildren()){const q=this.processChildren(w,T);return null===q?null:[new Qu(l,q)]}if(0===w.length&&0===R.length)return[new Qu(l,[])];const M=fo(e)===a,$=this.processSegment(w,T,R,M?xt:a);return null===$?null:[new Qu(l,$)]}}function G_(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function q_(n){const e=[],t=new Set;for(const r of n){if(!G_(r)){e.push(r);continue}const a=e.find(l=>r.value.routeConfig===l.value.routeConfig);void 0!==a?(a.children.push(...r.children),t.add(a)):e.push(r)}for(const r of t){const a=q_(r.children);e.push(new Qu(r.value,a))}return e.filter(r=>!t.has(r))}function um(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function sD(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function oD(n){return n.data||{}}function aD(n){return n.resolve||{}}function qa(n){return Ai(e=>{const t=n(e);return t?(0,cn.D)(t).pipe((0,Et.U)(()=>e)):(0,tt.of)(e)})}class VR extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const hb=new p.OlP("ROUTES");class lD{constructor(e,t,r,a){this.loader=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=a}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const a=this.loadModuleFactory(t.loadChildren).pipe((0,Et.U)(l=>{this.onLoadEndListener&&this.onLoadEndListener(t);const h=l.create(e);return new sb(TT(h.injector.get(hb,void 0,p.XFs.Self|p.XFs.Optional)).map(ob),h)}),wc(l=>{throw t._loader$=void 0,l}));return t._loader$=new zf.c(a,()=>new Di.xQ).pipe((0,yT.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,cn.D)(this.loader.load(e)):Ga(e()).pipe((0,li.zg)(t=>t instanceof p.YKP?(0,tt.of)(t):(0,cn.D)(this.compiler.compileModuleAsync(t))))}}class fb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xf,this.attachRef=null}}class Xf{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new fb,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class dD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function UR(n){throw n}function BR(n,e,t){return e.parse("/")}function hD(n,e){return(0,tt.of)(null)}const Ju={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},cm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Ir=(()=>{class n{constructor(t,r,a,l,h,y,w,T){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=a,this.location=l,this.config=T,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Di.xQ,this.errorHandler=UR,this.malformedUriErrorHandler=BR,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:hD,afterPreactivation:hD},this.urlHandlingStrategy=new dD,this.routeReuseStrategy=new VR,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=h.get(p.h0i),this.console=h.get(p.c2e);const $=h.get(p.R0b);this.isNgZoneEnabled=$ instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(T),this.currentUrlTree=new Wd(new zt([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new lD(y,w,q=>this.triggerEvent(new ET(q)),q=>this.triggerEvent(new KN(q))),this.routerState=VT(this.currentUrlTree,this.rootComponentType),this.transitions=new Ha({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Nr(a=>0!==a.id),(0,Et.U)(a=>Object.assign(Object.assign({},a),{extractedUrl:this.urlHandlingStrategy.extract(a.rawUrl)})),Ai(a=>{let l=!1,h=!1;return(0,tt.of)(a).pipe((0,xi.b)(y=>{this.currentNavigation={id:y.id,initialUrl:y.currentRawUrl,extractedUrl:y.extractedUrl,trigger:y.source,extras:y.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ai(y=>{const w=this.browserUrlTree.toString(),T=!this.navigated||y.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||T)&&this.urlHandlingStrategy.shouldProcessUrl(y.rawUrl))return Xu(y.source)&&(this.browserUrlTree=y.extractedUrl),(0,tt.of)(y).pipe(Ai(M=>{const $=this.transitions.getValue();return r.next(new _T(M.id,this.serializeUrl(M.extractedUrl),M.source,M.restoredState)),$!==this.transitions.getValue()?uo.E:Promise.resolve(M)}),function(n,e,t,r){return Ai(a=>function(n,e,t,r,a){return new DR(n,e,t,r,a).apply()}(n,e,t,a.extractedUrl,r).pipe((0,Et.U)(l=>Object.assign(Object.assign({},a),{urlAfterRedirects:l}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,xi.b)(M=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:M.urlAfterRedirects})}),function(n,e,t,r,a){return(0,li.zg)(l=>function(n,e,t,r,a="emptyOnly",l="legacy"){try{const h=new am(n,e,t,r,a,l).recognize();return null===h?rD(new cb):(0,tt.of)(h)}catch(h){return rD(h)}}(n,e,l.urlAfterRedirects,t(l.urlAfterRedirects),r,a).pipe((0,Et.U)(h=>Object.assign(Object.assign({},l),{targetSnapshot:h}))))}(this.rootComponentType,this.config,M=>this.serializeUrl(M),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,xi.b)(M=>{"eager"===this.urlUpdateStrategy&&(M.extras.skipLocationChange||this.setBrowserUrl(M.urlAfterRedirects,M),this.browserUrlTree=M.urlAfterRedirects);const $=new QM(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);r.next($)}));if(T&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:$,extractedUrl:q,source:ee,restoredState:ye,extras:xe}=y,Xe=new _T($,this.serializeUrl(q),ee,ye);r.next(Xe);const at=VT(q,this.rootComponentType).snapshot;return(0,tt.of)(Object.assign(Object.assign({},y),{targetSnapshot:at,urlAfterRedirects:q,extras:Object.assign(Object.assign({},xe),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=y.rawUrl,this.browserUrlTree=y.urlAfterRedirects,y.resolve(null),uo.E}),qa(y=>{const{targetSnapshot:w,id:T,extractedUrl:R,rawUrl:M,extras:{skipLocationChange:$,replaceUrl:q}}=y;return this.hooks.beforePreactivation(w,{navigationId:T,appliedUrlTree:R,rawUrlTree:M,skipLocationChange:!!$,replaceUrl:!!q})}),(0,xi.b)(y=>{const w=new Kw(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot);this.triggerEvent(w)}),(0,Et.U)(y=>Object.assign(Object.assign({},y),{guards:JT(y.targetSnapshot,y.currentSnapshot,this.rootContexts)})),function(n,e){return(0,li.zg)(t=>{const{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:l,canDeactivateChecks:h}}=t;return 0===h.length&&0===l.length?(0,tt.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function(n,e,t,r){return(0,cn.D)(n).pipe((0,li.zg)(a=>function(n,e,t,r,a){const l=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!l||0===l.length)return(0,tt.of)(!0);const h=l.map(y=>{const w=om(y,e,a);let T;if(function(n){return n&&Qd(n.canDeactivate)}(w))T=Ga(w.canDeactivate(n,e,t,r));else{if(!Qd(w))throw new Error("Invalid CanDeactivate guard");T=Ga(w(n,e,t,r))}return T.pipe(Zu())});return(0,tt.of)(h).pipe(im())}(a.component,a.route,t,e,r)),Zu(a=>!0!==a,!0))}(h,r,a,n).pipe((0,li.zg)(y=>y&&function(n){return"boolean"==typeof n}(y)?function(n,e,t,r){return(0,cn.D)(e).pipe(Wf(a=>ar(function(n,e){return null!==n&&e&&e(new wT(n)),(0,tt.of)(!0)}(a.route.parent,r),function(n,e){return null!==n&&e&&e(new eO(n)),(0,tt.of)(!0)}(a.route,r),function(n,e,t){const r=e[e.length-1],l=e.slice(0,e.length-1).reverse().map(h=>function(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(h)).filter(h=>null!==h).map(h=>I_(()=>{const y=h.guards.map(w=>{const T=om(w,h.node,t);let R;if(function(n){return n&&Qd(n.canActivateChild)}(T))R=Ga(T.canActivateChild(r,n));else{if(!Qd(T))throw new Error("Invalid CanActivateChild guard");R=Ga(T(r,n))}return R.pipe(Zu())});return(0,tt.of)(y).pipe(im())}));return(0,tt.of)(l).pipe(im())}(n,a.path,t),function(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,tt.of)(!0);const a=r.map(l=>I_(()=>{const h=om(l,e,t);let y;if(function(n){return n&&Qd(n.canActivate)}(h))y=Ga(h.canActivate(e,n));else{if(!Qd(h))throw new Error("Invalid CanActivate guard");y=Ga(h(e,n))}return y.pipe(Zu())}));return(0,tt.of)(a).pipe(im())}(n,a.route,t))),Zu(a=>!0!==a,!0))}(r,l,n,e):(0,tt.of)(y)),(0,Et.U)(y=>Object.assign(Object.assign({},t),{guardsResult:y})))})}(this.ngModule.injector,y=>this.triggerEvent(y)),(0,xi.b)(y=>{if(Jd(y.guardsResult)){const T=Kg(`Redirecting to "${this.serializeUrl(y.guardsResult)}"`);throw T.url=y.guardsResult,T}const w=new WN(y.id,this.serializeUrl(y.extractedUrl),this.serializeUrl(y.urlAfterRedirects),y.targetSnapshot,!!y.guardsResult);this.triggerEvent(w)}),Nr(y=>!!y.guardsResult||(this.restoreHistory(y),this.cancelNavigationTransition(y,""),!1)),qa(y=>{if(y.guards.canActivateChecks.length)return(0,tt.of)(y).pipe((0,xi.b)(w=>{const T=new JM(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}),Ai(w=>{let T=!1;return(0,tt.of)(w).pipe(function(n,e){return(0,li.zg)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return(0,tt.of)(t);let l=0;return(0,cn.D)(a).pipe(Wf(h=>function(n,e,t,r){return function(n,e,t,r){const a=Object.keys(n);if(0===a.length)return(0,tt.of)({});const l={};return(0,cn.D)(a).pipe((0,li.zg)(h=>function(n,e,t,r){const a=om(n,e,r);return Ga(a.resolve?a.resolve(e,t):a(e,t))}(n[h],e,t,r).pipe((0,xi.b)(y=>{l[h]=y}))),T_(1),(0,li.zg)(()=>Object.keys(l).length===a.length?(0,tt.of)(l):uo.E))}(n._resolve,n,e,r).pipe((0,Et.U)(l=>(n._resolvedData=l,n.data=Object.assign(Object.assign({},n.data),uR(n,t).resolve),null)))}(h.route,r,n,e)),(0,xi.b)(()=>l++),T_(1),(0,li.zg)(h=>l===a.length?(0,tt.of)(t):uo.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,xi.b)({next:()=>T=!0,complete:()=>{T||(this.restoreHistory(w),this.cancelNavigationTransition(w,"At least one route resolver didn't emit any value."))}}))}),(0,xi.b)(w=>{const T=new XM(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(T)}))}),qa(y=>{const{targetSnapshot:w,id:T,extractedUrl:R,rawUrl:M,extras:{skipLocationChange:$,replaceUrl:q}}=y;return this.hooks.afterPreactivation(w,{navigationId:T,appliedUrlTree:R,rawUrlTree:M,skipLocationChange:!!$,replaceUrl:!!q})}),(0,Et.U)(y=>{const w=function(n,e,t){const r=M_(n,e._root,t?t._root:void 0);return new LT(r,e)}(this.routeReuseStrategy,y.targetSnapshot,y.currentRouterState);return Object.assign(Object.assign({},y),{targetRouterState:w})}),(0,xi.b)(y=>{this.currentUrlTree=y.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(y.urlAfterRedirects,y.rawUrl),this.routerState=y.targetRouterState,"deferred"===this.urlUpdateStrategy&&(y.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,y),this.browserUrlTree=y.urlAfterRedirects)}),((n,e,t)=>(0,Et.U)(r=>(new pR(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,y=>this.triggerEvent(y)),(0,xi.b)({next(){l=!0},complete(){l=!0}}),function(n){return e=>e.lift(new KM(n))}(()=>{var y;if(!l&&!h){const w=`Navigation ID ${a.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(a),this.cancelNavigationTransition(a,w)):this.cancelNavigationTransition(a,w)}(null===(y=this.currentNavigation)||void 0===y?void 0:y.id)===a.id&&(this.currentNavigation=null)}),wc(y=>{if(h=!0,function(n){return n&&n[CT]}(y)){const w=Jd(y.url);w||(this.navigated=!0,this.restoreHistory(a,!0));const T=new vT(a.id,this.serializeUrl(a.extractedUrl),y.message);r.next(T),w?setTimeout(()=>{const R=this.urlHandlingStrategy.merge(y.url,this.rawUrlTree),M={skipLocationChange:a.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Xu(a.source)};this.scheduleNavigation(R,"imperative",null,M,{resolve:a.resolve,reject:a.reject,promise:a.promise})},0):a.resolve(!1)}else{this.restoreHistory(a,!0);const w=new YM(a.id,this.serializeUrl(a.extractedUrl),y);r.next(w);try{a.resolve(this.errorHandler(y))}catch(T){a.reject(T)}}return uo.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,r)&&setTimeout(()=>{const{source:a,state:l,urlTree:h}=r,y={replaceUrl:!0};if(l){const w=Object.assign({},l);delete w.navigationId,delete w.\u0275routerPageId,0!==Object.keys(w).length&&(y.state=w)}this.scheduleNavigation(h,a,l,y)},0),this.lastLocationChangeInfo=r}))}extractLocationChangeInfoFromEvent(t){var r;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(r=t.state)||void 0===r?void 0:r.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,r){if(!t)return!0;const a=r.urlTree.toString()===t.urlTree.toString();return r.transitionId!==t.transitionId||!a||!("hashchange"===r.source&&"popstate"===t.source||"popstate"===r.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){KT(t),this.config=t.map(ob),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:a,queryParams:l,fragment:h,queryParamsHandling:y,preserveFragment:w}=r,T=a||this.routerState.root,R=w?this.currentUrlTree.fragment:h;let M=null;switch(y){case"merge":M=Object.assign(Object.assign({},this.currentUrlTree.queryParams),l);break;case"preserve":M=this.currentUrlTree.queryParams;break;default:M=l||null}return null!==M&&(M=this.removeEmptyProps(M)),function(n,e,t,r,a){if(0===t.length)return tb(e.root,e.root,e,r,a);const l=function(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new GT(!0,0,n);let e=0,t=!1;const r=n.reduce((a,l,h)=>{if("object"==typeof l&&null!=l){if(l.outlets){const y={};return Kr(l.outlets,(w,T)=>{y[T]="string"==typeof w?w.split("/"):w}),[...a,{outlets:y}]}if(l.segmentPath)return[...a,l.segmentPath]}return"string"!=typeof l?[...a,l]:0===h?(l.split("/").forEach((y,w)=>{0==w&&"."===y||(0==w&&""===y?t=!0:".."===y?e++:""!=y&&a.push(y))}),a):[...a,l]},[]);return new GT(t,e,r)}(t);if(l.toRoot())return tb(e.root,new zt([],{}),e,r,a);const h=function(n,e,t){if(n.isAbsolute)return new O_(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const l=t.snapshot._urlSegment;return new O_(l,l===e.root,0)}const r=Jf(n.commands[0])?0:1;return function(n,e,t){let r=n,a=e,l=t;for(;l>a;){if(l-=a,r=r.parent,!r)throw new Error("Invalid number of '../'");a=r.segments.length}return new O_(r,!1,a-l)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(l,e,n),y=h.processChildren?rb(h.segmentGroup,h.index,l.commands):qT(h.segmentGroup,h.index,l.commands);return tb(h.segmentGroup,y,e,r,a)}(T,this.currentUrlTree,t,M,null!=R?R:null)}navigateByUrl(t,r={skipLocationChange:!1}){const a=Jd(t)?t:this.parseUrl(t),l=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(l,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(a){r=this.malformedUriErrorHandler(a,this.urlSerializer,t)}return r}isActive(t,r){let a;if(a=!0===r?Object.assign({},Ju):!1===r?Object.assign({},cm):r,Jd(t))return NT(this.currentUrlTree,t,a);const l=this.parseUrl(t);return NT(this.currentUrlTree,l,a)}removeEmptyProps(t){return Object.keys(t).reduce((r,a)=>{const l=t[a];return null!=l&&(r[a]=l),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new bc(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,a,l,h){var y,w;if(this.disposed)return Promise.resolve(!1);const T=this.getTransition(),R=Xu(r)&&T&&!Xu(T.source),q=(this.lastSuccessfulId===T.id||this.currentNavigation?T.rawUrl:T.urlAfterRedirects).toString()===t.toString();if(R&&q)return Promise.resolve(!0);let ee,ye,xe;h?(ee=h.resolve,ye=h.reject,xe=h.promise):xe=new Promise((Ot,ot)=>{ee=Ot,ye=ot});const Xe=++this.navigationId;let at;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(a=this.location.getState()),at=a&&a.\u0275routerPageId?a.\u0275routerPageId:l.replaceUrl||l.skipLocationChange?null!==(y=this.browserPageId)&&void 0!==y?y:0:(null!==(w=this.browserPageId)&&void 0!==w?w:0)+1):at=0,this.setTransition({id:Xe,targetPageId:at,source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:l,resolve:ee,reject:ye,promise:xe,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xe.catch(Ot=>Promise.reject(Ot))}setBrowserUrl(t,r){const a=this.urlSerializer.serialize(t),l=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(a)||r.extras.replaceUrl?this.location.replaceState(a,"",l):this.location.go(a,"",l)}restoreHistory(t,r=!1){var a,l;if("computed"===this.canceledNavigationResolution){const h=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(a=this.currentNavigation)||void 0===a?void 0:a.finalUrl)||0===h?this.currentUrlTree===(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)&&0===h&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(h)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const a=new vT(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.DyG),p.LFG(Qw),p.LFG(Xf),p.LFG(Ge),p.LFG(p.zs3),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(void 0))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function Xu(n){return"imperative"!==n}let dm=(()=>{class n{constructor(t,r,a,l,h){this.router=t,this.route=r,this.commands=[],this.onChanges=new Di.xQ,null==a&&l.setAttribute(h.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ep(this.skipLocationChange),replaceUrl:ep(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ep(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Ir),p.Y36(Yf),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&p.NdJ("click",function(){return r.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[p.TTD]}),n})();function ep(n){return""===n||!!n}let W_=(()=>{class n{constructor(t,r,a,l,h){this.parentContexts=t,this.location=r,this.resolver=a,this.changeDetector=h,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.name=l||xt,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const h=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),y=this.parentContexts.getOrCreateContext(this.name).children,w=new gD(t,y,this.location.injector);this.activated=this.location.createComponent(h,this.location.length,w),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Xf),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},n.\u0275dir=p.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),n})();class gD{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Yf?this.route:e===Xf?this.childContexts:this.parent.get(e,t)}}class K_{}class mD{preload(e,t){return(0,tt.of)(null)}}let gb=(()=>{class n{constructor(t,r,a,l,h){this.router=t,this.injector=l,this.preloadingStrategy=h,this.loader=new lD(r,a,T=>t.triggerEvent(new ET(T)),T=>t.triggerEvent(new KN(T)))}setUpPreloading(){this.subscription=this.router.events.pipe(Nr(t=>t instanceof bc),Wf(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(p.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const a=[];for(const l of r)if(l.loadChildren&&!l.canLoad&&l._loadedConfig){const h=l._loadedConfig;a.push(this.processRoutes(h.module,h.routes))}else l.loadChildren&&!l.canLoad?a.push(this.preloadConfig(t,l)):l.children&&a.push(this.processRoutes(t,l.children));return(0,cn.D)(a).pipe((0,ns.J)(),(0,Et.U)(l=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,tt.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,li.zg)(l=>(r._loadedConfig=l,this.processRoutes(l.module,l.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ir),p.LFG(p.v3s),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(K_))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),el=(()=>{class n{constructor(t,r,a={}){this.router=t,this.viewportScroller=r,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof _T?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bc&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof bT&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new bT(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(Ir),p.LFG(eu),p.LFG(void 0))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const eh=new p.OlP("ROUTER_CONFIGURATION"),_D=new p.OlP("ROUTER_FORROOT_GUARD"),fO=[Ge,{provide:Qw,useClass:tR},{provide:Ir,useFactory:function(n,e,t,r,a,l,h,y={},w,T){const R=new Ir(null,n,e,t,r,a,l,TT(h));return w&&(R.urlHandlingStrategy=w),T&&(R.routeReuseStrategy=T),function(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy)}(y,R),y.enableTracing&&R.events.subscribe(M=>{var $,q;null===($=console.group)||void 0===$||$.call(console,`Router Event: ${M.constructor.name}`),console.log(M.toString()),console.log(M),null===(q=console.groupEnd)||void 0===q||q.call(console)}),R},deps:[Qw,Xf,Ge,p.zs3,p.v3s,p.Sil,hb,eh,[class{},new p.FiY],[class{},new p.FiY]]},Xf,{provide:Yf,useFactory:function(n){return n.routerState.root},deps:[Ir]},{provide:p.v3s,useClass:p.EAV},gb,mD,class{preload(e,t){return t().pipe(wc(()=>(0,tt.of)(null)))}},{provide:eh,useValue:{enableTracing:!1}}];function pO(){return new p.PXZ("Router",Ir)}let $R=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[fO,qR(t),{provide:_D,useFactory:gO,deps:[[Ir,new p.FiY,new p.tp0]]},{provide:eh,useValue:r||{}},{provide:K,useFactory:GR,deps:[le,[new p.tBr(me),new p.FiY],eh]},{provide:el,useFactory:HR,deps:[Ir,eu,eh]},{provide:K_,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:mD},{provide:p.PXZ,multi:!0,useFactory:pO},[vD,{provide:p.ip1,multi:!0,useFactory:_O,deps:[vD]},{provide:WR,useFactory:vO,deps:[vD]},{provide:p.tb,multi:!0,useExisting:WR}]]}}static forChild(t){return{ngModule:n,providers:[qR(t)]}}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(_D,8),p.LFG(Ir,8))},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();function HR(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new el(n,e,t)}function GR(n,e,t={}){return t.useHash?new Ne(n,e):new ge(n,e)}function gO(n){return"guarded"}function qR(n){return[{provide:p.deG,multi:!0,useValue:n},{provide:hb,multi:!0,useValue:n}]}let vD=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Di.xQ}appInitializer(){return this.injector.get(F,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const a=new Promise(y=>r=y),l=this.injector.get(Ir),h=this.injector.get(eh);return"disabled"===h.initialNavigation?(l.setUpLocationChangeListener(),r(!0)):"enabled"===h.initialNavigation||"enabledBlocking"===h.initialNavigation?(l.hooks.afterPreactivation=()=>this.initNavigation?(0,tt.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),l.initialNavigation()):r(!0),a})}bootstrapListener(t){const r=this.injector.get(eh),a=this.injector.get(gb),l=this.injector.get(el),h=this.injector.get(Ir),y=this.injector.get(p.z2F);t===y.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&h.initialNavigation(),a.setUpPreloading(),l.init(),h.resetRootComponentType(y.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.zs3))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();function _O(n){return n.appInitializer.bind(n)}function vO(n){return n.bootstrapListener.bind(n)}const WR=new p.OlP("Router Initializer");function o(n,e){1&n&&(p.TgZ(0,"h5",7),p._uU(1,"No hay datos para mostrar"),p.qZA())}const u=function(n){return["/edit-empleado/",n]};function c(n,e){if(1&n){const t=p.EpF();p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.ALo(9,"currency"),p.qZA(),p.TgZ(10,"td"),p._UZ(11,"i",10),p.TgZ(12,"i",11),p.NdJ("click",function(){const l=p.CHM(t).$implicit;return p.oxw(2).eliminarEmpleado(l.id)}),p.qZA(),p.qZA(),p.qZA()}if(2&n){const t=e.$implicit;p.xp6(2),p.Oqu(t.nombre),p.xp6(2),p.Oqu(t.apellido),p.xp6(2),p.Oqu(t.documento),p.xp6(2),p.Oqu(p.lcZ(9,5,t.salario)),p.xp6(3),p.Q6J("routerLink",p.VKq(7,u,t.id))}}function d(n,e){if(1&n&&(p.TgZ(0,"table",8),p.TgZ(1,"thead"),p.TgZ(2,"tr"),p.TgZ(3,"th"),p._uU(4,"Nombre"),p.qZA(),p.TgZ(5,"th"),p._uU(6,"Apellido"),p.qZA(),p.TgZ(7,"th"),p._uU(8,"Documento"),p.qZA(),p.TgZ(9,"th"),p._uU(10,"Salario"),p.qZA(),p._UZ(11,"th"),p.qZA(),p.qZA(),p.TgZ(12,"tbody"),p.YNc(13,c,13,9,"tr",9),p.qZA(),p.qZA()),2&n){const t=p.oxw();p.xp6(13),p.Q6J("ngForOf",t.empleados)}}let m=(()=>{class n{constructor(t,r){this._empleadoService=t,this.toastr=r,this.empleados=[]}ngOnInit(){this.getEmpleados()}getEmpleados(){this._empleadoService.getEmpleados().subscribe(t=>{this.empleados=[],t.forEach(r=>{this.empleados.push(Object.assign({id:r.payload.doc.id},r.payload.doc.data()))}),console.log(this.empleados)})}eliminarEmpleado(t){window.confirm("\xbfDesea borrar el registro?")&&this._empleadoService.eliminarEmpleado(t).then(()=>{this.toastr.error("El empleado fue eliminado con exito!","Registro eliminado",{positionClass:"toast-bottom-right"})}).catch(r=>{console.log(r)})}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(Uw),p.Y36(zw))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-list-empleados"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/create-empleado",1,"btn","btn-dark","btn-lg","float-end"],["class","mt-3",4,"ngIf"],["class","table table-striped mt-5",4,"ngIf"],[1,"mt-3"],[1,"table","table-striped","mt-5"],[4,"ngFor","ngForOf"],[1,"fas","fa-edit","fa-lg","text-info","m-2",3,"routerLink"],[1,"fas","fa-trash-alt","fa-lg","text-danger",3,"click"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"span",3),p._uU(4,"Listado de Empleados"),p.qZA(),p.TgZ(5,"button",4),p._uU(6,"Agregar"),p.qZA(),p.YNc(7,o,2,0,"h5",5),p.YNc(8,d,14,1,"table",6),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(7),p.Q6J("ngIf",0==r.empleados.length),p.xp6(1),p.Q6J("ngIf",r.empleados.length>0))},directives:[dm,fi,Ki],pipes:[up],styles:["i[_ngcontent-%COMP%]{cursor:pointer}"]}),n})();var v=L(1555);function I(n,e){return new $n.y(t=>{const r=n.length;if(0===r)return void t.complete();const a=new Array(r);let l=0,h=0;for(let y=0;y<r;y++){const w=(0,cn.D)(n[y]);let T=!1;t.add(w.subscribe({next:R=>{T||(T=!0,h++),a[y]=R},error:R=>t.error(R),complete:()=>{l++,(l===r||!T)&&(h===r&&t.next(e?e.reduce((R,M,$)=>(R[M]=a[$],R),{}):a),t.complete())}}))}})}let S=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=a=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq))},n.\u0275dir=p.lG2({type:n}),n})(),O=(()=>{class n extends S{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();const P=new p.OlP("NgValueAccessor"),ae={provide:P,useExisting:(0,p.Gpc)(()=>ve),multi:!0},Me=new p.OlP("CompositionEventMode");let ve=(()=>{class n extends S{constructor(t,r,a){super(t,r),this._compositionMode=a,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const n=k()?k().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(p.Qsj),p.Y36(p.SBq),p.Y36(Me,8))},n.\u0275dir=p.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(l){return r._handleInput(l.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(l){return r._compositionEnd(l.target.value)})},features:[p._Bn([ae]),p.qOj]}),n})();function We(n){return null==n||0===n.length}function lt(n){return null!=n&&"number"==typeof n.length}const st=new p.OlP("NgValidators"),yn=new p.OlP("NgAsyncValidators"),po=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ic{static min(e){return function(n){return e=>{if(We(e.value)||We(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function(n){return e=>{if(We(e.value)||We(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function(n){return We(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function(n){return We(n.value)||po.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function(n){return e=>We(e.value)||!lt(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function(n){return e=>lt(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function(n){if(!n)return tp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(We(r.value))return null;const a=r.value;return e.test(a)?null:{pattern:{requiredPattern:t,actualValue:a}}}}(e)}static nullValidator(e){return null}static compose(e){return TO(e)}static composeAsync(e){return DO(e)}}function tp(n){return null}function EO(n){return null!=n}function wO(n){const e=(0,p.QGY)(n)?(0,cn.D)(n):n;return(0,p.CqO)(e),e}function bO(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function CO(n,e){return e.map(t=>t(n))}function IO(n){return n.map(e=>function(n){return!n.validate}(e)?e:t=>e.validate(t))}function TO(n){if(!n)return null;const e=n.filter(EO);return 0==e.length?null:function(t){return bO(CO(t,e))}}function KR(n){return null!=n?TO(IO(n)):null}function DO(n){if(!n)return null;const e=n.filter(EO);return 0==e.length?null:function(t){return function(...n){if(1===n.length){const e=n[0];if((0,Ww.k)(e))return I(e,null);if((0,v.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return I(t.map(r=>e[r]),t)}}if("function"==typeof n[n.length-1]){const e=n.pop();return I(n=1===n.length&&(0,Ww.k)(n[0])?n[0]:n,null).pipe((0,Et.U)(t=>e(...t)))}return I(n,null)}(CO(t,e).map(wO)).pipe((0,Et.U)(bO))}}function ZR(n){return null!=n?DO(IO(n)):null}function AO(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function SO(n){return n._rawValidators}function NO(n){return n._rawAsyncValidators}function YR(n){return n?Array.isArray(n)?n:[n]:[]}function ED(n,e){return Array.isArray(n)?n.includes(e):n===e}function RO(n,e){const t=YR(e);return YR(n).forEach(a=>{ED(t,a)||t.push(a)}),t}function xO(n,e){return YR(e).filter(t=>!ED(n,t))}let MO=(()=>{class n{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=KR(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=ZR(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,r){return!!this.control&&this.control.hasError(t,r)}getError(t,r){return this.control?this.control.getError(t,r):null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n}),n})(),ks=(()=>{class n extends MO{get formDirective(){return null}get path(){return null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,features:[p.qOj]}),n})();class np extends MO{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class OO{constructor(e){this._cd=e}is(e){var t,r,a;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(a=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===a?void 0:a[e])}}let PO=(()=>{class n extends OO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(np,2))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[p.qOj]}),n})(),kO=(()=>{class n extends OO{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(ks,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&p.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))("ng-submitted",r.is("submitted"))},features:[p.qOj]}),n})();function mb(n,e){XR(n,e),e.valueAccessor.writeValue(n.value),function(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&FO(n,e)})}(n,e),function(n,e){const t=(r,a)=>{e.valueAccessor.writeValue(r),a&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&FO(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function CD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),TD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function ID(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function XR(n,e){const t=SO(n);null!==e.validator?n.setValidators(AO(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=NO(n);null!==e.asyncValidator?n.setAsyncValidators(AO(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const a=()=>n.updateValueAndValidity();ID(e._rawValidators,a),ID(e._rawAsyncValidators,a)}function TD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const a=SO(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.validator);l.length!==a.length&&(t=!0,n.setValidators(l))}}if(null!==e.asyncValidator){const a=NO(n);if(Array.isArray(a)&&a.length>0){const l=a.filter(h=>h!==e.asyncValidator);l.length!==a.length&&(t=!0,n.setAsyncValidators(l))}}}const r=()=>{};return ID(e._rawValidators,r),ID(e._rawAsyncValidators,r),t}function FO(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function DD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const yb="VALID",AD="INVALID",ev="PENDING",_b="DISABLED";function nx(n){return(ix(n)?n.validators:n)||null}function UO(n){return Array.isArray(n)?KR(n):n||null}function rx(n,e){return(ix(e)?e.asyncValidators:n)||null}function BO(n){return Array.isArray(n)?ZR(n):n||null}function ix(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class sx{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=UO(this._rawValidators),this._composedAsyncValidatorFn=BO(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===yb}get invalid(){return this.status===AD}get pending(){return this.status==ev}get disabled(){return this.status===_b}get enabled(){return this.status!==_b}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=UO(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=BO(e)}addValidators(e){this.setValidators(RO(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(RO(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(xO(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(xO(e,this._rawAsyncValidators))}hasValidator(e){return ED(this._rawValidators,e)}hasAsyncValidator(e){return ED(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=ev,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=_b,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=yb,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yb||this.status===ev)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?_b:yb}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=ev,this._hasOwnPendingAsyncValidator=!0;const t=wO(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(a=>{r=r instanceof vb?r.controls.hasOwnProperty(a)?r.controls[a]:null:r instanceof ox&&r.at(a)||null}),r}(this,e)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new p.vpe,this.statusChanges=new p.vpe}_calculateStatus(){return this._allControlsDisabled()?_b:this.errors?AD:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ev)?ev:this._anyControlsHaveStatus(AD)?AD:yb}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){ix(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tv extends sx{constructor(e=null,t,r){super(nx(t),rx(r,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){DD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){DD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class vb extends sx{constructor(e,t,r){super(nx(t),rx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(r=>{this._throwIfControlMissing(r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t instanceof tv?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((a,l)=>{r=t(r,a,l)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control with name: '${r}'.`)})}}class ox extends sx{constructor(e,t,r){super(nx(t),rx(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((r,a)=>{this._throwIfControlMissing(a),this.at(a).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,a)=>{this.at(a)&&this.at(a).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,a)=>{r.reset(e[a],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof tv?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,r)=>{if(void 0===e[r])throw new Error(`Must supply a value for form control at index: ${r}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}let qO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=p.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const O1={provide:P,useExisting:(0,p.Gpc)(()=>ux),multi:!0};let ux=(()=>{class n extends O{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=p.n5z(n)))(r||n)}}(),n.\u0275dir=p.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&p.NdJ("input",function(l){return r.onChange(l.target.value)})("blur",function(){return r.onTouched()})},features:[p._Bn([O1]),p.qOj]}),n})(),zO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({}),n})();const lx=new p.OlP("NgModelWithFormControlWarning"),V1={provide:ks,useExisting:(0,p.Gpc)(()=>SD)};let SD=(()=>{class n extends ks{constructor(t,r){super(),this.validators=t,this.asyncValidators=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new p.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(TD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return mb(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){CD(t.control||null,t,!1),DD(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,a=this.form.get(t.path);r!==a&&(CD(r||null,t),a instanceof tv&&(mb(a,t),t.control=a))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function(n,e){XR(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function(n,e){return TD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){XR(this.form,this),this._oldForm&&TD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(st,10),p.Y36(yn,10))},n.\u0275dir=p.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&p.NdJ("submit",function(l){return r.onSubmit(l)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[p._Bn([V1]),p.qOj,p.TTD]}),n})();const j1={provide:np,useExisting:(0,p.Gpc)(()=>hx)};let hx=(()=>{class n extends np{constructor(t,r,a,l,h){super(),this._ngModelWarningConfig=h,this._added=!1,this.update=new p.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(a),this.valueAccessor=function(n,e){if(!e)return null;let t,r,a;return Array.isArray(e),e.forEach(l=>{l.constructor===ve?t=l:function(n){return Object.getPrototypeOf(n.constructor)===O}(l)?r=l:a=l}),a||r||t||null}(0,l)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(ks,13),p.Y36(st,10),p.Y36(yn,10),p.Y36(P,10),p.Y36(lx,8))},n.\u0275dir=p.lG2({type:n,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[p._Bn([j1]),p.qOj,p.TTD]}),n._ngModelWarningSentOnce=!1,n})(),uP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[zO]]}),n})(),lP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:lx,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[uP]}),n})(),rk=(()=>{class n{group(t,r=null){const a=this._reduceControls(t);let y,l=null,h=null;return null!=r&&(function(n){return void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn}(r)?(l=null!=r.validators?r.validators:null,h=null!=r.asyncValidators?r.asyncValidators:null,y=null!=r.updateOn?r.updateOn:void 0):(l=null!=r.validator?r.validator:null,h=null!=r.asyncValidator?r.asyncValidator:null)),new vb(a,{asyncValidators:h,updateOn:y,validators:l})}control(t,r,a){return new tv(t,r,a)}array(t,r,a){const l=t.map(h=>this._createControl(h));return new ox(l,r,a)}_reduceControls(t){const r={};return Object.keys(t).forEach(a=>{r[a]=this._createControl(t[a])}),r}_createControl(t){return t instanceof tv||t instanceof vb||t instanceof ox?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=(0,p.Yz7)({factory:function(){return new n},token:n,providedIn:lP}),n})();function ik(n,e){1&n&&(p.TgZ(0,"div",16),p.TgZ(1,"span",17),p._uU(2,"Loading..."),p.qZA(),p.qZA())}function sk(n,e){1&n&&(p.TgZ(0,"span",18),p._uU(1,"TODOS LOS CAMPOS SON OBLIGATORIOS"),p.qZA())}let cP=(()=>{class n{constructor(t,r,a,l,h){this.fb=t,this._empleadoService=r,this.router=a,this.toastr=l,this.aRoute=h,this.submitted=!1,this.loading=!1,this.titulo="Agregar Empleado",this.createEmpleado=this.fb.group({nombre:["",Ic.required],apellido:["",Ic.required],documento:["",Ic.required],salario:["",Ic.required]}),this.id=this.aRoute.snapshot.paramMap.get("id")}ngOnInit(){null===this.id?this.titulo="Agregar Empleado":this.esEditar()}agregarEditarEmpleado(){this.submitted=!0,!this.createEmpleado.invalid&&(null===this.id?this.agregarEmpleado():this.editarEmpleado(this.id))}agregarEmpleado(){const t={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaCreacion:new Date,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.agregarEmpleado(t).then(()=>{this.toastr.success("El empleado fue registrado con \xe9xito!","Empleado Registrado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-empleados"])}).catch(r=>{this.loading=!1})}editarEmpleado(t){const r={nombre:this.createEmpleado.value.nombre,apellido:this.createEmpleado.value.apellido,documento:this.createEmpleado.value.documento,salario:this.createEmpleado.value.salario,fechaActualizacion:new Date};this.loading=!0,this._empleadoService.actualizarEmpleado(t,r).then(()=>{this.loading=!1,this.toastr.info("El empleado fue actualizado con \xe9xito","Empleado actualizado",{positionClass:"toast-bottom-right"}),this.loading=!1,this.router.navigate(["/list-empleados"])})}esEditar(){this.titulo="Editar Empleado",null!==this.id&&(this.loading=!0,this._empleadoService.getEmpleado(this.id).subscribe(t=>{this.loading=!1,this.createEmpleado.setValue({nombre:t.payload.data().nombre,apellido:t.payload.data().apellido,documento:t.payload.data().documento,salario:t.payload.data().salario})}))}}return n.\u0275fac=function(t){return new(t||n)(p.Y36(rk),p.Y36(Uw),p.Y36(Ir),p.Y36(zw),p.Y36(Yf))},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-create-empleado"]],decls:22,vars:4,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border float-end","role","status",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","nombre","placeholder","Nombre",1,"form-control","form-control-lg"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","form-control-lg"],["type","text","formControlName","documento","placeholder","Documento",1,"form-control","form-control-lg","mt-3"],["type","number","formControlName","salario","placeholder","Salario",1,"form-control","form-control-lg","mt-3"],[1,"mt-3"],["type","text","routerLink","/list-empleados",1,"btn","btn-secondary","btn-lg","m-3"],["type","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spinner-border","float-end"],[1,"visually-hidden"],[1,"badge","bg-danger"]],template:function(t,r){1&t&&(p.TgZ(0,"div",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"h3"),p._uU(6),p.YNc(7,ik,3,0,"div",5),p.qZA(),p.YNc(8,sk,2,0,"span",6),p.TgZ(9,"form",7),p.NdJ("ngSubmit",function(){return r.agregarEditarEmpleado()}),p.TgZ(10,"div",1),p.TgZ(11,"div",8),p._UZ(12,"input",9),p.qZA(),p.TgZ(13,"div",8),p._UZ(14,"input",10),p.qZA(),p.qZA(),p._UZ(15,"input",11),p._UZ(16,"input",12),p.TgZ(17,"div",13),p.TgZ(18,"button",14),p._uU(19,"Volver"),p.qZA(),p.TgZ(20,"button",15),p._uU(21,"Agregar"),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&t&&(p.xp6(6),p.hij("",r.titulo," "),p.xp6(1),p.Q6J("ngIf",r.loading),p.xp6(1),p.Q6J("ngIf",r.submitted&&r.createEmpleado.invalid),p.xp6(1),p.Q6J("formGroup",r.createEmpleado))},directives:[fi,qO,kO,SD,ve,PO,hx,ux,dm],styles:[""]}),n})();const ok=[{path:"",redirectTo:"list-empleados",pathMatch:"full"},{path:"list-empleados",component:m},{path:"create-empleado",component:cP},{path:"edit-empleado/:id",component:cP},{path:"**",redirectTo:"list-empleados",pathMatch:"full"}];let ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({imports:[[$R.forRoot(ok)],$R]}),n})();function dP(){return"undefined"!=typeof window&&void 0!==window.document}function mx(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function rp(n){switch(n.length){case 0:return new qf;case 1:return n[0];default:return new Gw(n)}}function hP(n,e,t,r,a={},l={}){const h=[],y=[];let w=-1,T=null;if(r.forEach(R=>{const M=R.offset,$=M==w,q=$&&T||{};Object.keys(R).forEach(ee=>{let ye=ee,xe=R[ee];if("offset"!==ee)switch(ye=e.normalizePropertyName(ye,h),xe){case"!":xe=a[ee];break;case ea:xe=l[ee];break;default:xe=e.normalizeStyleValue(ee,ye,xe,h)}q[ye]=xe}),$||y.push(q),T=q,w=M}),h.length){const R="\n - ";throw new Error(`Unable to animate due to the following errors:${R}${h.join(R)}`)}return y}function yx(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&_x(t,"start",n)));break;case"done":n.onDone(()=>r(t&&_x(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&_x(t,"destroy",n)))}}function _x(n,e,t){const r=t.totalTime,l=vx(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),h=n._data;return null!=h&&(l._data=h),l}function vx(n,e,t,r,a="",l=0,h){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:a,totalTime:l,disabled:!!h}}function na(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function fP(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let Ex=(n,e)=>!1,wx=(n,e)=>!1,pP=(n,e,t)=>[];const gP=mx();(gP||"undefined"!=typeof Element)&&(Ex=dP()?(n,e)=>{for(;e&&e!==document.documentElement;){if(e===n)return!0;e=e.parentNode||e.host}return!1}:(n,e)=>n.contains(e),wx=(()=>{if(gP||Element.prototype.matches)return(n,e)=>n.matches(e);{const n=Element.prototype,e=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector;return e?(t,r)=>e.apply(t,[r]):wx}})(),pP=(n,e,t)=>{let r=[];if(t){const a=n.querySelectorAll(e);for(let l=0;l<a.length;l++)r.push(a[l])}else{const a=n.querySelector(e);a&&r.push(a)}return r});let hm=null,mP=!1;function bx(n){hm||(hm=("undefined"!=typeof document?document.body:null)||{},mP=!!hm.style&&"WebkitAppearance"in hm.style);let e=!0;return hm.style&&!function(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in hm.style,!e&&mP&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in hm.style)),e}const Cx=wx,Ix=Ex,Tx=pP;function yP(n){const e={};return Object.keys(n).forEach(t=>{const r=t.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=n[t]}),e}let _P=(()=>{class n{validateStyleProperty(t){return bx(t)}matchesElement(t,r){return Cx(t,r)}containsElement(t,r){return Ix(t,r)}query(t,r,a){return Tx(t,r,a)}computeStyle(t,r,a){return a||""}animate(t,r,a,l,h,y=[],w){return new qf(a,l)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})(),Dx=(()=>{class n{}return n.NOOP=new _P,n})();const Ax="ng-enter",ND="ng-leave",RD="ng-trigger",xD=".ng-trigger",EP="ng-animating",Sx=".ng-animating";function fm(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Nx(parseFloat(e[1]),e[2])}function Nx(n,e){switch(e){case"s":return 1e3*n;default:return n}}function MD(n,e,t){return n.hasOwnProperty("duration")?n:function(n,e,t){let a,l=0,h="";if("string"==typeof n){const y=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===y)return e.push(`The provided timing value "${n}" is invalid.`),{duration:0,delay:0,easing:""};a=Nx(parseFloat(y[1]),y[2]);const w=y[3];null!=w&&(l=Nx(parseFloat(w),y[4]));const T=y[5];T&&(h=T)}else a=n;if(!t){let y=!1,w=e.length;a<0&&(e.push("Duration values below 0 are not allowed for this animation step."),y=!0),l<0&&(e.push("Delay values below 0 are not allowed for this animation step."),y=!0),y&&e.splice(w,0,`The provided timing value "${n}" is invalid.`)}return{duration:a,delay:l,easing:h}}(n,e,t)}function nv(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function ip(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else nv(n,t);return t}function bP(n,e,t){return t?e+":"+t+";":""}function CP(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=bP(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=bP(0,gk(t),n.style[t]));n.setAttribute("style",e)}function Tc(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const a=xx(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[a]),n.style[a]=e[r]}),mx()&&CP(n))}function pm(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=xx(t);n.style[r]=""}),mx()&&CP(n))}function wb(n){return Array.isArray(n)?1==n.length?n[0]:$w(n):n}const Rx=new RegExp("{{\\s*(.+?)\\s*}}","g");function IP(n){let e=[];if("string"==typeof n){let t;for(;t=Rx.exec(n);)e.push(t[1]);Rx.lastIndex=0}return e}function OD(n,e,t){const r=n.toString(),a=r.replace(Rx,(l,h)=>{let y=e[h];return e.hasOwnProperty(h)||(t.push(`Please provide a value for the animation param ${h}`),y=""),y.toString()});return a==r?n:a}function PD(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const pk=/-+([a-z0-9])/g;function xx(n){return n.replace(pk,(...e)=>e[1].toUpperCase())}function gk(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function TP(n,e){return 0===n||0===e}function DP(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let l=e[0],h=[];if(r.forEach(y=>{l.hasOwnProperty(y)||h.push(y),l[y]=t[y]}),h.length)for(var a=1;a<e.length;a++){let y=e[a];h.forEach(function(w){y[w]=Mx(n,w)})}}return e}function ra(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function Mx(n,e){return window.getComputedStyle(n)[e]}function mk(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function(n,e,t){if(":"==n[0]){const w=function(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(`The transition alias value "${n}" is not supported`),"* => *"}}(n,t);if("function"==typeof w)return void e.push(w);n=w}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(`The provided transition expression "${n}" is not supported`),e;const a=r[1],l=r[2],h=r[3];e.push(AP(a,h));"<"==l[0]&&!("*"==a&&"*"==h)&&e.push(AP(h,a))}(r,t,e)):t.push(n),t}const FD=new Set(["true","1"]),LD=new Set(["false","0"]);function AP(n,e){const t=FD.has(n)||LD.has(n),r=FD.has(e)||LD.has(e);return(a,l)=>{let h="*"==n||n==a,y="*"==e||e==l;return!h&&t&&"boolean"==typeof a&&(h=a?FD.has(n):LD.has(n)),!y&&r&&"boolean"==typeof l&&(y=l?FD.has(e):LD.has(e)),h&&y}}const vk=new RegExp("s*:selfs*,?","g");function Ox(n,e,t){return new Ek(n).build(e,t)}class Ek{constructor(e){this._driver=e}build(e,t){const r=new Ck(t);return this._resetContextStyleTimingState(r),ra(this,wb(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,a=t.depCount=0;const l=[],h=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(y=>{if(this._resetContextStyleTimingState(t),0==y.type){const w=y,T=w.name;T.toString().split(/\s*,\s*/).forEach(R=>{w.name=R,l.push(this.visitState(w,t))}),w.name=T}else if(1==y.type){const w=this.visitTransition(y,t);r+=w.queryCount,a+=w.depCount,h.push(w)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:l,transitions:h,queryCount:r,depCount:a,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),a=e.options&&e.options.params||null;if(r.containsDynamicStyles){const l=new Set,h=a||{};if(r.styles.forEach(y=>{if(VD(y)){const w=y;Object.keys(w).forEach(T=>{IP(w[T]).forEach(R=>{h.hasOwnProperty(R)||l.add(R)})})}}),l.size){const y=PD(l.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${y.join(", ")}`)}}return{type:0,name:e.name,style:r,options:a?{params:a}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=ra(this,wb(e.animation),t);return{type:1,matchers:mk(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:gm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>ra(this,r,t)),options:gm(e.options)}}visitGroup(e,t){const r=t.currentTime;let a=0;const l=e.steps.map(h=>{t.currentTime=r;const y=ra(this,h,t);return a=Math.max(a,t.currentTime),y});return t.currentTime=a,{type:3,steps:l,options:gm(e.options)}}visitAnimate(e,t){const r=function(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Px(MD(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(l=>"{"==l.charAt(0)&&"{"==l.charAt(1))){const l=Px(0,0,"");return l.dynamic=!0,l.strValue=r,l}return t=t||MD(r,e),Px(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let a,l=e.styles?e.styles:Ec({});if(5==l.type)a=this.visitKeyframes(l,t);else{let h=e.styles,y=!1;if(!h){y=!0;const T={};r.easing&&(T.easing=r.easing),h=Ec(T)}t.currentTime+=r.duration+r.delay;const w=this.visitStyle(h,t);w.isEmptyStep=y,a=w}return t.currentAnimateTimings=null,{type:4,timings:r,style:a,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(h=>{"string"==typeof h?h==ea?r.push(h):t.errors.push(`The provided style string value ${h} is not allowed.`):r.push(h)}):r.push(e.styles);let a=!1,l=null;return r.forEach(h=>{if(VD(h)){const y=h,w=y.easing;if(w&&(l=w,delete y.easing),!a)for(let T in y)if(y[T].toString().indexOf("{{")>=0){a=!0;break}}}),{type:6,styles:r,easing:l,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let a=t.currentTime,l=t.currentTime;r&&l>0&&(l-=r.duration+r.delay),e.styles.forEach(h=>{"string"!=typeof h&&Object.keys(h).forEach(y=>{if(!this._driver.validateStyleProperty(y))return void t.errors.push(`The provided animation property "${y}" is not a supported CSS property for animations`);const w=t.collectedStyles[t.currentQuerySelector],T=w[y];let R=!0;T&&(l!=a&&l>=T.startTime&&a<=T.endTime&&(t.errors.push(`The CSS property "${y}" that exists between the times of "${T.startTime}ms" and "${T.endTime}ms" is also being animated in a parallel animation between the times of "${l}ms" and "${a}ms"`),R=!1),l=T.startTime),R&&(w[y]={startTime:l,endTime:a}),t.options&&function(n,e,t){const r=e.params||{},a=IP(n);a.length&&a.forEach(l=>{r.hasOwnProperty(l)||t.push(`Unable to resolve the local animation param ${l} in the given list of values`)})}(h[y],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;let l=0;const h=[];let y=!1,w=!1,T=0;const R=e.steps.map(Xe=>{const at=this._makeStyleAst(Xe,t);let Ot=null!=at.offset?at.offset:function(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(VD(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(VD(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(at.styles),ot=0;return null!=Ot&&(l++,ot=at.offset=Ot),w=w||ot<0||ot>1,y=y||ot<T,T=ot,h.push(ot),at});w&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),y&&t.errors.push("Please ensure that all keyframe offsets are in order");const M=e.steps.length;let $=0;l>0&&l<M?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==l&&($=1/(M-1));const q=M-1,ee=t.currentTime,ye=t.currentAnimateTimings,xe=ye.duration;return R.forEach((Xe,at)=>{const Ot=$>0?at==q?1:$*at:h[at],ot=Ot*xe;t.currentTime=ee+ye.delay+ot,ye.duration=ot,this._validateStyleAst(Xe,t),Xe.offset=Ot,r.styles.push(Xe)}),r}visitReference(e,t){return{type:8,animation:ra(this,wb(e.animation),t),options:gm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:gm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:gm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,a=e.options||{};t.queryCount++,t.currentQuery=e;const[l,h]=function(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(vk,"")),[n=n.replace(/@\*/g,xD).replace(/@\w+/g,t=>xD+"-"+t.substr(1)).replace(/:animating/g,Sx),e]}(e.selector);t.currentQuerySelector=r.length?r+" "+l:l,na(t.collectedStyles,t.currentQuerySelector,{});const y=ra(this,wb(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:l,limit:a.limit||0,optional:!!a.optional,includeSelf:h,animation:y,originalSelector:e.selector,options:gm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:MD(e.timings,t.errors,!0);return{type:12,animation:ra(this,wb(e.animation),t),timings:r,options:null}}}class Ck{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function VD(n){return!Array.isArray(n)&&"object"==typeof n}function gm(n){return n?(n=nv(n)).params&&(n.params=function(n){return n?nv(n):null}(n.params)):n={},n}function Px(n,e,t){return{duration:n,delay:e,easing:t}}function kx(n,e,t,r,a,l,h=null,y=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:a,delay:l,totalTime:a+l,easing:h,subTimeline:y}}class UD{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Sk=new RegExp(":enter","g"),Rk=new RegExp(":leave","g");function Fx(n,e,t,r,a,l={},h={},y,w,T=[]){return(new xk).buildKeyframes(n,e,t,r,a,l,h,y,w,T)}class xk{buildKeyframes(e,t,r,a,l,h,y,w,T,R=[]){T=T||new UD;const M=new Lx(e,t,T,a,l,R,[]);M.options=w,M.currentTimeline.setStyles([h],null,M.errors,w),ra(this,r,M);const $=M.timelines.filter(q=>q.containsAnimation());if($.length&&Object.keys(y).length){const q=$[$.length-1];q.allowOnlyTimelineStyles()||q.setStyles([y],null,M.errors,w)}return $.length?$.map(q=>q.buildKeyframes()):[kx(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.consume(t.element);if(r){const a=t.createSubContext(e.options),l=t.currentTimeline.currentTime,h=this._visitSubInstructions(r,a,a.options);l!=h&&t.transformIntoNewTimeline(h)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let l=t.currentTimeline.currentTime;const h=null!=r.duration?fm(r.duration):null,y=null!=r.delay?fm(r.delay):null;return 0!==h&&e.forEach(w=>{const T=t.appendInstructionToTimeline(w,h,y);l=Math.max(l,T.duration+T.delay)}),l}visitReference(e,t){t.updateOptions(e.options,!0),ra(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let a=t;const l=e.options;if(l&&(l.params||l.delay)&&(a=t.createSubContext(l),a.transformIntoNewTimeline(),null!=l.delay)){6==a.previousNode.type&&(a.currentTimeline.snapshotCurrentStyles(),a.previousNode=BD);const h=fm(l.delay);a.delayNextStep(h)}e.steps.length&&(e.steps.forEach(h=>ra(this,h,a)),a.currentTimeline.applyStylesToKeyframe(),a.subContextCount>r&&a.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let a=t.currentTimeline.currentTime;const l=e.options&&e.options.delay?fm(e.options.delay):0;e.steps.forEach(h=>{const y=t.createSubContext(e.options);l&&y.delayNextStep(l),ra(this,h,y),a=Math.max(a,y.currentTimeline.currentTime),r.push(y.currentTimeline)}),r.forEach(h=>t.currentTimeline.mergeTimelineCollectedStyles(h)),t.transformIntoNewTimeline(a),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return MD(t.params?OD(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),a=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),a.snapshotCurrentStyles());const l=e.style;5==l.type?this.visitKeyframes(l,t):(t.incrementTime(r.duration),this.visitStyle(l,t),a.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,a=t.currentAnimateTimings;!a&&r.getCurrentStyleProperties().length&&r.forwardFrame();const l=a&&a.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(l):r.setStyles(e.styles,l,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,a=t.currentTimeline.duration,l=r.duration,y=t.createSubContext().currentTimeline;y.easing=r.easing,e.styles.forEach(w=>{y.forwardTime((w.offset||0)*l),y.setStyles(w.styles,w.easing,t.errors,t.options),y.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(y),t.transformIntoNewTimeline(a+l),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,a=e.options||{},l=a.delay?fm(a.delay):0;l&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=BD);let h=r;const y=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!a.optional,t.errors);t.currentQueryTotal=y.length;let w=null;y.forEach((T,R)=>{t.currentQueryIndex=R;const M=t.createSubContext(e.options,T);l&&M.delayNextStep(l),T===t.element&&(w=M.currentTimeline),ra(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),h=Math.max(h,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(h),w&&(t.currentTimeline.mergeTimelineCollectedStyles(w),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,a=t.currentTimeline,l=e.timings,h=Math.abs(l.duration),y=h*(t.currentQueryTotal-1);let w=h*t.currentQueryIndex;switch(l.duration<0?"reverse":l.easing){case"reverse":w=y-w;break;case"full":w=r.currentStaggerTime}const R=t.currentTimeline;w&&R.delayNextStep(w);const M=R.currentTime;ra(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=a.currentTime-M+(a.startTime-r.currentTimeline.startTime)}}const BD={};class Lx{constructor(e,t,r,a,l,h,y,w){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=a,this._leaveClassName=l,this.errors=h,this.timelines=y,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=BD,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=w||new jD(this._driver,t,0),y.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let a=this.options;null!=r.duration&&(a.duration=fm(r.duration)),null!=r.delay&&(a.delay=fm(r.delay));const l=r.params;if(l){let h=a.params;h||(h=this.options.params={}),Object.keys(l).forEach(y=>{(!t||!h.hasOwnProperty(y))&&(h[y]=OD(l[y],h,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(a=>{r[a]=t[a]})}}return e}createSubContext(e=null,t,r){const a=t||this.element,l=new Lx(this._driver,a,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(a,r||0));return l.previousNode=this.previousNode,l.currentAnimateTimings=this.currentAnimateTimings,l.options=this._copyOptions(),l.updateOptions(e),l.currentQueryIndex=this.currentQueryIndex,l.currentQueryTotal=this.currentQueryTotal,l.parentContext=this,this.subContextCount++,l}transformIntoNewTimeline(e){return this.previousNode=BD,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const a={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},l=new Mk(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,a,e.stretchStartingKeyframe);return this.timelines.push(l),a}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,a,l,h){let y=[];if(a&&y.push(this.element),e.length>0){e=(e=e.replace(Sk,"."+this._enterClassName)).replace(Rk,"."+this._leaveClassName);let T=this._driver.query(this.element,e,1!=r);0!==r&&(T=r<0?T.slice(T.length+r,T.length):T.slice(0,r)),y.push(...T)}return!l&&0==y.length&&h.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),y}}class jD{constructor(e,t,r,a){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=a,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new jD(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||ea,this._currentKeyframe[t]=ea}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,a){t&&(this._previousKeyframe.easing=t);const l=a&&a.params||{},h=function(n,e){const t={};let r;return n.forEach(a=>{"*"===a?(r=r||Object.keys(e),r.forEach(l=>{t[l]=ea})):ip(a,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(h).forEach(y=>{const w=OD(h[y],l,r);this._pendingStyles[y]=w,this._localTimelineStyles.hasOwnProperty(y)||(this._backFill[y]=this._globalTimelineStyles.hasOwnProperty(y)?this._globalTimelineStyles[y]:ea),this._updateStyle(y,w)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],a=e._styleSummary[t];(!r||a.time>r.time)&&this._updateStyle(t,a.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let a=[];this._keyframes.forEach((y,w)=>{const T=ip(y,!0);Object.keys(T).forEach(R=>{const M=T[R];"!"==M?e.add(R):M==ea&&t.add(R)}),r||(T.offset=w/this.duration),a.push(T)});const l=e.size?PD(e.values()):[],h=t.size?PD(t.values()):[];if(r){const y=a[0],w=nv(y);y.offset=0,w.offset=1,a=[y,w]}return kx(this.element,a,l,h,this.duration,this.startTime,this.easing,!1)}}class Mk extends jD{constructor(e,t,r,a,l,h,y=!1){super(e,t,h.delay),this.keyframes=r,this.preStyleProps=a,this.postStyleProps=l,this._stretchStartingKeyframe=y,this.timings={duration:h.duration,delay:h.delay,easing:h.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:a}=this.timings;if(this._stretchStartingKeyframe&&t){const l=[],h=r+t,y=t/h,w=ip(e[0],!1);w.offset=0,l.push(w);const T=ip(e[0],!1);T.offset=RP(y),l.push(T);const R=e.length-1;for(let M=1;M<=R;M++){let $=ip(e[M],!1);$.offset=RP((t+$.offset*r)/h),l.push($)}r=h,t=0,a="",e=l}return kx(this.element,e,this.preStyleProps,this.postStyleProps,r,t,a,!0)}}function RP(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Vx{}class Pk extends Vx{normalizePropertyName(e,t){return xx(e)}normalizeStyleValue(e,t,r,a){let l="";const h=r.toString().trim();if(kk[t]&&0!==r&&"0"!==r)if("number"==typeof r)l="px";else{const y=r.match(/^[+-]?[\d\.]+([a-z]*)$/);y&&0==y[1].length&&a.push(`Please provide a CSS unit value for ${e}:${r}`)}return h+l}}const kk=(()=>function(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xP(n,e,t,r,a,l,h,y,w,T,R,M,$){return{type:0,element:n,triggerName:e,isRemovalTransition:a,fromState:t,fromStyles:l,toState:r,toStyles:h,timelines:y,queriedElements:w,preStyleProps:T,postStyleProps:R,totalTime:M,errors:$}}const Ux={};class MP{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,a){return function(n,e,t,r,a){return n.some(l=>l(e,t,r,a))}(this.ast.matchers,e,t,r,a)}buildStyles(e,t,r){const a=this._stateStyles["*"],l=this._stateStyles[e],h=a?a.buildStyles(t,r):{};return l?l.buildStyles(t,r):h}build(e,t,r,a,l,h,y,w,T,R){const M=[],$=this.ast.options&&this.ast.options.params||Ux,ee=this.buildStyles(r,y&&y.params||Ux,M),ye=w&&w.params||Ux,xe=this.buildStyles(a,ye,M),Xe=new Set,at=new Map,Ot=new Map,ot="void"===a,dn={params:Object.assign(Object.assign({},$),ye)},pr=R?[]:Fx(e,t,this.ast.animation,l,h,ee,xe,dn,T,M);let zi=0;if(pr.forEach(sh=>{zi=Math.max(sh.duration+sh.delay,zi)}),M.length)return xP(t,this._triggerName,r,a,ot,ee,xe,[],[],at,Ot,zi,M);pr.forEach(sh=>{const oh=sh.element,l1=na(at,oh,{});sh.preStyleProps.forEach(mm=>l1[mm]=!0);const Cb=na(Ot,oh,{});sh.postStyleProps.forEach(mm=>Cb[mm]=!0),oh!==t&&Xe.add(oh)});const ih=PD(Xe.values());return xP(t,this._triggerName,r,a,ot,ee,xe,pr,ih,at,Ot,zi)}}class Vk{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},a=nv(this.defaultParams);return Object.keys(e).forEach(l=>{const h=e[l];null!=h&&(a[l]=h)}),this.styles.styles.forEach(l=>{if("string"!=typeof l){const h=l;Object.keys(h).forEach(y=>{let w=h[y];w.length>1&&(w=OD(w,a,t));const T=this.normalizer.normalizePropertyName(y,t);w=this.normalizer.normalizeStyleValue(y,T,w,t),r[T]=w})}}),r}}class Bk{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(a=>{this.states[a.name]=new Vk(a.style,a.options&&a.options.params||{},r)}),OP(this.states,"true","1"),OP(this.states,"false","0"),t.transitions.forEach(a=>{this.transitionFactories.push(new MP(e,a,this.states))}),this.fallbackTransition=function(n,e,t){return new MP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(h,y)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,a){return this.transitionFactories.find(h=>h.match(e,t,r,a))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function OP(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const $k=new UD;class Hk{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],a=Ox(this._driver,t,r);if(r.length)throw new Error(`Unable to build the animation due to the following errors: ${r.join("\n")}`);this._animations[e]=a}_buildPlayer(e,t,r){const a=e.element,l=hP(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(a,l,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const a=[],l=this._animations[e];let h;const y=new Map;if(l?(h=Fx(this._driver,t,l,Ax,ND,{},{},r,$k,a),h.forEach(R=>{const M=na(y,R.element,{});R.postStyleProps.forEach($=>M[$]=null)})):(a.push("The requested animation doesn't exist or has already been destroyed"),h=[]),a.length)throw new Error(`Unable to create the animation due to the following errors: ${a.join("\n")}`);y.forEach((R,M)=>{Object.keys(R).forEach($=>{R[$]=this._driver.computeStyle(M,$,ea)})});const T=rp(h.map(R=>{const M=y.get(R.element);return this._buildPlayer(R,{},M)}));return this._playersById[e]=T,T.onDestroy(()=>this.destroy(e)),this.players.push(T),T}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,r,a){const l=vx(t,"","","");return yx(this._getPlayer(e),r,l,a),()=>{}}command(e,t,r,a){if("register"==r)return void this.register(e,a[0]);if("create"==r)return void this.create(e,t,a[0]||{});const l=this._getPlayer(e);switch(r){case"play":l.play();break;case"pause":l.pause();break;case"reset":l.reset();break;case"restart":l.restart();break;case"finish":l.finish();break;case"init":l.init();break;case"setPosition":l.setPosition(parseFloat(a[0]));break;case"destroy":this.destroy(e)}}}const PP="ng-animate-queued",kP="ng-animate-disabled",FP=".ng-animate-disabled",Wk=[],LP={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Kk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},za="__ng_removed";class Bx{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function(n){return null!=n?n:null}(r?e.value:e),r){const l=nv(e);delete l.value,this.options=l}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(a=>{null==r[a]&&(r[a]=t[a])})}}}const bb="void",jx=new Bx(bb);class Zk{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Wa(t,this._hostClassName)}listen(e,t,r,a){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${r}" because the animation trigger "${t}" doesn't exist!`);if(null==r||0==r.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if(!function(n){return"start"==n||"done"==n}(r))throw new Error(`The provided animation trigger event "${r}" for the animation trigger "${t}" is not supported!`);const l=na(this._elementListeners,e,[]),h={name:t,phase:r,callback:a};l.push(h);const y=na(this._engine.statesByElement,e,{});return y.hasOwnProperty(t)||(Wa(e,RD),Wa(e,RD+"-"+t),y[t]=jx),()=>{this._engine.afterFlush(()=>{const w=l.indexOf(h);w>=0&&l.splice(w,1),this._triggers[t]||delete y[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,r,a=!0){const l=this._getTrigger(t),h=new $x(this.id,t,e);let y=this._engine.statesByElement.get(e);y||(Wa(e,RD),Wa(e,RD+"-"+t),this._engine.statesByElement.set(e,y={}));let w=y[t];const T=new Bx(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&w&&T.absorbOptions(w.options),y[t]=T,w||(w=jx),T.value!==bb&&w.value===T.value){if(!function(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let a=0;a<t.length;a++){const l=t[a];if(!e.hasOwnProperty(l)||n[l]!==e[l])return!1}return!0}(w.params,T.params)){const ye=[],xe=l.matchStyles(w.value,w.params,ye),Xe=l.matchStyles(T.value,T.params,ye);ye.length?this._engine.reportError(ye):this._engine.afterFlush(()=>{pm(e,xe),Tc(e,Xe)})}return}const $=na(this._engine.playersByElement,e,[]);$.forEach(ye=>{ye.namespaceId==this.id&&ye.triggerName==t&&ye.queued&&ye.destroy()});let q=l.matchTransition(w.value,T.value,e,T.params),ee=!1;if(!q){if(!a)return;q=l.fallbackTransition,ee=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:q,fromState:w,toState:T,player:h,isFallbackTransition:ee}),ee||(Wa(e,PP),h.onStart(()=>{rv(e,PP)})),h.onDone(()=>{let ye=this.players.indexOf(h);ye>=0&&this.players.splice(ye,1);const xe=this._engine.playersByElement.get(e);if(xe){let Xe=xe.indexOf(h);Xe>=0&&xe.splice(Xe,1)}}),this.players.push(h),$.push(h),h}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(a=>a.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,xD,!0);r.forEach(a=>{if(a[za])return;const l=this._engine.fetchNamespacesByElement(a);l.size?l.forEach(h=>h.triggerLeaveAnimation(a,t,!1,!0)):this.clearElementCache(a)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(a=>this.clearElementCache(a)))}triggerLeaveAnimation(e,t,r,a){const l=this._engine.statesByElement.get(e);if(l){const h=[];if(Object.keys(l).forEach(y=>{if(this._triggers[y]){const w=this.trigger(e,y,bb,a);w&&h.push(w)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),r&&rp(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const a=new Set;t.forEach(l=>{const h=l.name;if(a.has(h))return;a.add(h);const w=this._triggers[h].fallbackTransition,T=r[h]||jx,R=new Bx(bb),M=new $x(this.id,h,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:h,transition:w,fromState:T,toState:R,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let a=!1;if(r.totalAnimations){const l=r.players.length?r.playersByQueriedElement.get(e):[];if(l&&l.length)a=!0;else{let h=e;for(;h=h.parentNode;)if(r.statesByElement.get(h)){a=!0;break}}}if(this.prepareLeaveAnimationListeners(e),a)r.markElementAsRemoved(this.id,e,!1,t);else{const l=e[za];(!l||l===LP)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Wa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const a=r.player;if(a.destroyed)return;const l=r.element,h=this._elementListeners.get(l);h&&h.forEach(y=>{if(y.name==r.triggerName){const w=vx(l,r.triggerName,r.fromState.value,r.toState.value);w._data=e,yx(r.player,y.phase,w,y.callback)}}),a.markedForDestroy?this._engine.afterFlush(()=>{a.destroy()}):t.push(r)}),this._queue=[],t.sort((r,a)=>{const l=r.transition.ast.depCount,h=a.transition.ast.depCount;return 0==l||0==h?l-h:this._engine.driver.containsElement(r.element,a.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class Yk{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(a,l)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new Zk(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList.length-1;if(r>=0){let a=!1;for(let l=r;l>=0;l--)if(this.driver.containsElement(this._namespaceList[l].hostElement,t)){this._namespaceList.splice(l+1,0,e),a=!0;break}a||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let a=this._namespaceLookup[e];a&&a.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const a=this._namespaceList.indexOf(r);a>=0&&this._namespaceList.splice(a,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const a=Object.keys(r);for(let l=0;l<a.length;l++){const h=r[a[l]].namespaceId;if(h){const y=this._fetchNamespace(h);y&&t.add(y)}}}return t}trigger(e,t,r,a){if($D(t)){const l=this._fetchNamespace(e);if(l)return l.trigger(t,r,a),!0}return!1}insertNode(e,t,r,a){if(!$D(t))return;const l=t[za];if(l&&l.setForRemoval){l.setForRemoval=!1,l.setForMove=!0;const h=this.collectedLeaveElements.indexOf(t);h>=0&&this.collectedLeaveElements.splice(h,1)}if(e){const h=this._fetchNamespace(e);h&&h.insertNode(t,r)}a&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Wa(e,kP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),rv(e,kP))}removeNode(e,t,r,a){if($D(t)){const l=e?this._fetchNamespace(e):null;if(l?l.removeNode(t,a):this.markElementAsRemoved(e,t,!1,a),r){const h=this.namespacesByHostElement.get(t);h&&h.id!==e&&h.removeNode(t,a)}}else this._onRemovalComplete(t,a)}markElementAsRemoved(e,t,r,a){this.collectedLeaveElements.push(t),t[za]={namespaceId:e,setForRemoval:a,hasAnimation:r,removedBeforeQueried:!1}}listen(e,t,r,a,l){return $D(t)?this._fetchNamespace(e).listen(t,r,a,l):()=>{}}_buildInstruction(e,t,r,a,l){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,a,e.fromState.options,e.toState.options,t,l)}destroyInnerAnimations(e){let t=this.driver.query(e,xD,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Sx,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[za];if(t&&t.setForRemoval){if(e[za]=LP,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,FP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,FP,!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,a)=>this._balanceNamespaceList(r,a)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Wa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let a=0;a<r.length;a++)r[a]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?rp(t).onDone(()=>{r.forEach(a=>a())}):r.forEach(a=>a())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const r=new UD,a=[],l=new Map,h=[],y=new Map,w=new Map,T=new Map,R=new Set;this.disabledNodes.forEach(Qe=>{R.add(Qe);const ut=this.driver.query(Qe,".ng-animate-queued",!0);for(let At=0;At<ut.length;At++)R.add(ut[At])});const M=this.bodyNode,$=Array.from(this.statesByElement.keys()),q=BP($,this.collectedEnterElements),ee=new Map;let ye=0;q.forEach((Qe,ut)=>{const At=Ax+ye++;ee.set(ut,At),Qe.forEach(sn=>Wa(sn,At))});const xe=[],Xe=new Set,at=new Set;for(let Qe=0;Qe<this.collectedLeaveElements.length;Qe++){const ut=this.collectedLeaveElements[Qe],At=ut[za];At&&At.setForRemoval&&(xe.push(ut),Xe.add(ut),At.hasAnimation?this.driver.query(ut,".ng-star-inserted",!0).forEach(sn=>Xe.add(sn)):at.add(ut))}const Ot=new Map,ot=BP($,Array.from(Xe));ot.forEach((Qe,ut)=>{const At=ND+ye++;Ot.set(ut,At),Qe.forEach(sn=>Wa(sn,At))}),e.push(()=>{q.forEach((Qe,ut)=>{const At=ee.get(ut);Qe.forEach(sn=>rv(sn,At))}),ot.forEach((Qe,ut)=>{const At=Ot.get(ut);Qe.forEach(sn=>rv(sn,At))}),xe.forEach(Qe=>{this.processLeaveNode(Qe)})});const dn=[],pr=[];for(let Qe=this._namespaceList.length-1;Qe>=0;Qe--)this._namespaceList[Qe].drainQueuedTransitions(t).forEach(At=>{const sn=At.player,Mi=At.element;if(dn.push(sn),this.collectedEnterElements.length){const Ac=Mi[za];if(Ac&&Ac.setForMove)return void sn.destroy()}const Dc=!M||!this.driver.containsElement(M,Mi),ia=Ot.get(Mi),sp=ee.get(Mi),Tr=this._buildInstruction(At,r,sp,ia,Dc);if(Tr.errors&&Tr.errors.length)pr.push(Tr);else{if(Dc)return sn.onStart(()=>pm(Mi,Tr.fromStyles)),sn.onDestroy(()=>Tc(Mi,Tr.toStyles)),void a.push(sn);if(At.isFallbackTransition)return sn.onStart(()=>pm(Mi,Tr.fromStyles)),sn.onDestroy(()=>Tc(Mi,Tr.toStyles)),void a.push(sn);Tr.timelines.forEach(Ac=>Ac.stretchStartingKeyframe=!0),r.append(Mi,Tr.timelines),h.push({instruction:Tr,player:sn,element:Mi}),Tr.queriedElements.forEach(Ac=>na(y,Ac,[]).push(sn)),Tr.preStyleProps.forEach((Ac,Ib)=>{const WD=Object.keys(Ac);if(WD.length){let ym=w.get(Ib);ym||w.set(Ib,ym=new Set),WD.forEach(zx=>ym.add(zx))}}),Tr.postStyleProps.forEach((Ac,Ib)=>{const WD=Object.keys(Ac);let ym=T.get(Ib);ym||T.set(Ib,ym=new Set),WD.forEach(zx=>ym.add(zx))})}});if(pr.length){const Qe=[];pr.forEach(ut=>{Qe.push(`@${ut.triggerName} has failed due to:\n`),ut.errors.forEach(At=>Qe.push(`- ${At}\n`))}),dn.forEach(ut=>ut.destroy()),this.reportError(Qe)}const zi=new Map,ih=new Map;h.forEach(Qe=>{const ut=Qe.element;r.has(ut)&&(ih.set(ut,ut),this._beforeAnimationBuild(Qe.player.namespaceId,Qe.instruction,zi))}),a.forEach(Qe=>{const ut=Qe.element;this._getPreviousPlayers(ut,!1,Qe.namespaceId,Qe.triggerName,null).forEach(sn=>{na(zi,ut,[]).push(sn),sn.destroy()})});const sh=xe.filter(Qe=>$P(Qe,w,T)),oh=new Map;UP(oh,this.driver,at,T,ea).forEach(Qe=>{$P(Qe,w,T)&&sh.push(Qe)});const Cb=new Map;q.forEach((Qe,ut)=>{UP(Cb,this.driver,new Set(Qe),w,"!")}),sh.forEach(Qe=>{const ut=oh.get(Qe),At=Cb.get(Qe);oh.set(Qe,Object.assign(Object.assign({},ut),At))});const mm=[],c1=[],d1={};h.forEach(Qe=>{const{element:ut,player:At,instruction:sn}=Qe;if(r.has(ut)){if(R.has(ut))return At.onDestroy(()=>Tc(ut,sn.toStyles)),At.disabled=!0,At.overrideTotalTime(sn.totalTime),void a.push(At);let Mi=d1;if(ih.size>1){let ia=ut;const sp=[];for(;ia=ia.parentNode;){const Tr=ih.get(ia);if(Tr){Mi=Tr;break}sp.push(ia)}sp.forEach(Tr=>ih.set(Tr,Mi))}const Dc=this._buildAnimation(At.namespaceId,sn,zi,l,Cb,oh);if(At.setRealPlayer(Dc),Mi===d1)mm.push(At);else{const ia=this.playersByElement.get(Mi);ia&&ia.length&&(At.parentPlayer=rp(ia)),a.push(At)}}else pm(ut,sn.fromStyles),At.onDestroy(()=>Tc(ut,sn.toStyles)),c1.push(At),R.has(ut)&&a.push(At)}),c1.forEach(Qe=>{const ut=l.get(Qe.element);if(ut&&ut.length){const At=rp(ut);Qe.setRealPlayer(At)}}),a.forEach(Qe=>{Qe.parentPlayer?Qe.syncPlayerEvents(Qe.parentPlayer):Qe.destroy()});for(let Qe=0;Qe<xe.length;Qe++){const ut=xe[Qe],At=ut[za];if(rv(ut,ND),At&&At.hasAnimation)continue;let sn=[];if(y.size){let Dc=y.get(ut);Dc&&Dc.length&&sn.push(...Dc);let ia=this.driver.query(ut,Sx,!0);for(let sp=0;sp<ia.length;sp++){let Tr=y.get(ia[sp]);Tr&&Tr.length&&sn.push(...Tr)}}const Mi=sn.filter(Dc=>!Dc.destroyed);Mi.length?eF(this,ut,Mi):this.processLeaveNode(ut)}return xe.length=0,mm.forEach(Qe=>{this.players.push(Qe),Qe.onDone(()=>{Qe.destroy();const ut=this.players.indexOf(Qe);this.players.splice(ut,1)}),Qe.play()}),mm}elementContainsData(e,t){let r=!1;const a=t[za];return a&&a.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,a,l){let h=[];if(t){const y=this.playersByQueriedElement.get(e);y&&(h=y)}else{const y=this.playersByElement.get(e);if(y){const w=!l||l==bb;y.forEach(T=>{T.queued||!w&&T.triggerName!=a||h.push(T)})}}return(r||a)&&(h=h.filter(y=>!(r&&r!=y.namespaceId||a&&a!=y.triggerName))),h}_beforeAnimationBuild(e,t,r){const l=t.element,h=t.isRemovalTransition?void 0:e,y=t.isRemovalTransition?void 0:t.triggerName;for(const w of t.timelines){const T=w.element,R=T!==l,M=na(r,T,[]);this._getPreviousPlayers(T,R,h,y,t.toState).forEach(q=>{const ee=q.getRealPlayer();ee.beforeDestroy&&ee.beforeDestroy(),q.destroy(),M.push(q)})}pm(l,t.fromStyles)}_buildAnimation(e,t,r,a,l,h){const y=t.triggerName,w=t.element,T=[],R=new Set,M=new Set,$=t.timelines.map(ee=>{const ye=ee.element;R.add(ye);const xe=ye[za];if(xe&&xe.removedBeforeQueried)return new qf(ee.duration,ee.delay);const Xe=ye!==w,at=function(n){const e=[];return jP(n,e),e}((r.get(ye)||Wk).map(zi=>zi.getRealPlayer())).filter(zi=>!!zi.element&&zi.element===ye),Ot=l.get(ye),ot=h.get(ye),dn=hP(0,this._normalizer,0,ee.keyframes,Ot,ot),pr=this._buildPlayer(ee,dn,at);if(ee.subTimeline&&a&&M.add(ye),Xe){const zi=new $x(e,y,ye);zi.setRealPlayer(pr),T.push(zi)}return pr});T.forEach(ee=>{na(this.playersByQueriedElement,ee.element,[]).push(ee),ee.onDone(()=>function(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const a=r.indexOf(t);r.splice(a,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,ee.element,ee))}),R.forEach(ee=>Wa(ee,EP));const q=rp($);return q.onDestroy(()=>{R.forEach(ee=>rv(ee,EP)),Tc(w,t.toStyles)}),M.forEach(ee=>{na(a,ee,[]).push(q)}),q}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new qf(e.duration,e.delay)}}class $x{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new qf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>yx(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){na(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function $D(n){return n&&1===n.nodeType}function VP(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function UP(n,e,t,r,a){const l=[];t.forEach(w=>l.push(VP(w)));const h=[];r.forEach((w,T)=>{const R={};w.forEach(M=>{const $=R[M]=e.computeStyle(T,M,a);(!$||0==$.length)&&(T[za]=Kk,h.push(T))}),n.set(T,R)});let y=0;return t.forEach(w=>VP(w,l[y++])),h}function BP(n,e){const t=new Map;if(n.forEach(y=>t.set(y,[])),0==e.length)return t;const a=new Set(e),l=new Map;function h(y){if(!y)return 1;let w=l.get(y);if(w)return w;const T=y.parentNode;return w=t.has(T)?T:a.has(T)?1:h(T),l.set(y,w),w}return e.forEach(y=>{const w=h(y);1!==w&&t.get(w).push(y)}),t}const HD="$$classes";function Wa(n,e){if(n.classList)n.classList.add(e);else{let t=n[HD];t||(t=n[HD]={}),t[e]=!0}}function rv(n,e){if(n.classList)n.classList.remove(e);else{let t=n[HD];t&&delete t[e]}}function eF(n,e,t){rp(t).onDone(()=>n.processLeaveNode(e))}function jP(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Gw?jP(r.players,e):e.push(r)}}function $P(n,e,t){const r=t.get(n);if(!r)return!1;let a=e.get(n);return a?r.forEach(l=>a.add(l)):e.set(n,r),t.delete(n),!0}class GD{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(a,l)=>{},this._transitionEngine=new Yk(e,t,r),this._timelineEngine=new Hk(e,t,r),this._transitionEngine.onRemovalComplete=(a,l)=>this.onRemovalComplete(a,l)}registerTrigger(e,t,r,a,l){const h=e+"-"+a;let y=this._triggerCache[h];if(!y){const w=[],T=Ox(this._driver,l,w);if(w.length)throw new Error(`The animation trigger "${a}" has failed to build due to the following errors:\n - ${w.join("\n - ")}`);y=function(n,e,t){return new Bk(n,e,t)}(a,T,this._normalizer),this._triggerCache[h]=y}this._transitionEngine.registerTrigger(t,a,y)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,a){this._transitionEngine.insertNode(e,t,r,a)}onRemove(e,t,r,a){this._transitionEngine.removeNode(e,t,a||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,a){if("@"==r.charAt(0)){const[l,h]=fP(r);this._timelineEngine.command(l,t,h,a)}else this._transitionEngine.trigger(e,t,r,a)}listen(e,t,r,a,l){if("@"==r.charAt(0)){const[h,y]=fP(r);return this._timelineEngine.listen(h,t,y,l)}return this._transitionEngine.listen(e,t,r,a,l)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function HP(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Hx(e[0]),e.length>1&&(r=Hx(e[e.length-1]))):e&&(t=Hx(e)),t||r?new rF(n,t,r):null}let rF=(()=>{class n{constructor(t,r,a){this._element=t,this._startStyles=r,this._endStyles=a,this._state=0;let l=n.initialStylesByElement.get(t);l||n.initialStylesByElement.set(t,l={}),this._initialStyles=l}start(){this._state<1&&(this._startStyles&&Tc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Tc(this._element,this._initialStyles),this._endStyles&&(Tc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(pm(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(pm(this._element,this._endStyles),this._endStyles=null),Tc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Hx(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const a=t[r];iF(a)&&(e=e||{},e[a]=n[a])}return e}function iF(n){return"display"===n||"position"===n}const GP="animation",qP="animationend";class aF{constructor(e,t,r,a,l,h,y){this._element=e,this._name=t,this._duration=r,this._delay=a,this._easing=l,this._fillMode=h,this._onDoneFn=y,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=w=>this._handleCallback(w)}apply(){(function(n,e){const t=qx(n,"").trim();let r=0;t.length&&(function(n,e){let t=0;for(let r=0;r<n.length;r++)","===n.charAt(r)&&t++;return t}(t)+1,e=`${t}, ${e}`),qD(n,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),KP(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){zP(this._element,this._name,"paused")}resume(){zP(this._element,this._name,"running")}setPosition(e){const t=WP(this._element,this._name);this._position=e*this._duration,qD(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),r=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&r>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),KP(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(n,e){const r=qx(n,"").split(","),a=Gx(r,e);a>=0&&(r.splice(a,1),qD(n,"",r.join(",")))}(this._element,this._name))}}function zP(n,e,t){qD(n,"PlayState",t,WP(n,e))}function WP(n,e){const t=qx(n,"");return t.indexOf(",")>0?Gx(t.split(","),e):Gx([t],e)}function Gx(n,e){for(let t=0;t<n.length;t++)if(n[t].indexOf(e)>=0)return t;return-1}function KP(n,e,t){t?n.removeEventListener(qP,e):n.addEventListener(qP,e)}function qD(n,e,t,r){const a=GP+e;if(null!=r){const l=n.style[a];if(l.length){const h=l.split(",");h[r]=t,t=h.join(",")}}n.style[a]=t}function qx(n,e){return n.style[GP+e]||""}class ZP{constructor(e,t,r,a,l,h,y,w){this.element=e,this.keyframes=t,this.animationName=r,this._duration=a,this._delay=l,this._finalStyles=y,this._specialStyles=w,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=h||"linear",this.totalTime=a+l,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new aF(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(r=>{"offset"!=r&&(e[r]=t?this._finalStyles[r]:Mx(this.element,r))})}this.currentSnapshot=e}}class fF extends qf{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=yP(t)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class QP{constructor(){this._count=0}validateStyleProperty(e){return bx(e)}matchesElement(e,t){return Cx(e,t)}containsElement(e,t){return Ix(e,t)}query(e,t,r){return Tx(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,r){r=r.map(y=>yP(y));let a=`@keyframes ${t} {\n`,l="";r.forEach(y=>{l=" ";const w=parseFloat(y.offset);a+=`${l}${100*w}% {\n`,l+=" ",Object.keys(y).forEach(T=>{const R=y[T];switch(T){case"offset":return;case"easing":return void(R&&(a+=`${l}animation-timing-function: ${R};\n`));default:return void(a+=`${l}${T}: ${R};\n`)}}),a+=`${l}}\n`}),a+="}\n";const h=document.createElement("style");return h.textContent=a,h}animate(e,t,r,a,l,h=[],y){const w=h.filter(xe=>xe instanceof ZP),T={};TP(r,a)&&w.forEach(xe=>{let Xe=xe.currentSnapshot;Object.keys(Xe).forEach(at=>T[at]=Xe[at])});const R=function(n){let e={};return n&&(Array.isArray(n)?n:[n]).forEach(r=>{Object.keys(r).forEach(a=>{"offset"==a||"easing"==a||(e[a]=r[a])})}),e}(t=DP(e,t,T));if(0==r)return new fF(e,R);const M="gen_css_kf_"+this._count++,$=this.buildKeyframeElement(e,M,t);(function(n){var e;const t=null===(e=n.getRootNode)||void 0===e?void 0:e.call(n);return"undefined"!=typeof ShadowRoot&&t instanceof ShadowRoot?t:document.head})(e).appendChild($);const ee=HP(e,t),ye=new ZP(e,t,M,r,a,l,R,ee);return ye.onDestroy(()=>function(n){n.parentNode.removeChild(n)}($)),ye}}class XP{constructor(e,t,r,a){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:Mx(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class _F{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(e1().toString()),this._cssKeyframesDriver=new QP}validateStyleProperty(e){return bx(e)}matchesElement(e,t){return Cx(e,t)}containsElement(e,t){return Ix(e,t)}query(e,t,r){return Tx(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,r,a,l,h=[],y){if(!y&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,r,a,l,h);const R={duration:r,delay:a,fill:0==a?"both":"forwards"};l&&(R.easing=l);const M={},$=h.filter(ee=>ee instanceof XP);TP(r,a)&&$.forEach(ee=>{let ye=ee.currentSnapshot;Object.keys(ye).forEach(xe=>M[xe]=ye[xe])});const q=HP(e,t=DP(e,t=t.map(ee=>ip(ee,!1)),M));return new XP(e,t,R,q)}}function e1(){return dP()&&Element.prototype.animate||{}}let EF=(()=>{class n extends Bw{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:p.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const a=Array.isArray(t)?$w(t):t;return t1(this._renderer,null,r,"register",[a]),new wF(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(fe))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class wF extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new bF(this._id,e,t||{},this._renderer)}}class bF{constructor(e,t,r,a){this.id=e,this.element=t,this._renderer=a,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return t1(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function t1(n,e,t,r,a){return n.setProperty(e,`@@${t}:${r}`,a)}const n1="@.disabled";let CF=(()=>{class n{constructor(t,r,a){this.delegate=t,this.engine=r,this._zone=a,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(l,h)=>{h&&h.parentNode(l)&&h.removeChild(l.parentNode,l)}}createRenderer(t,r){const l=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let R=this._rendererCache.get(l);return R||(R=new r1("",l,this.engine),this._rendererCache.set(l,R)),R}const h=r.id,y=r.id+"-"+this._currentId;this._currentId++,this.engine.register(y,t);const w=R=>{Array.isArray(R)?R.forEach(w):this.engine.registerTrigger(h,y,t,R.name,R)};return r.data.animation.forEach(w),new IF(this,y,l,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,a){t>=0&&t<this._microtaskId?this._zone.run(()=>r(a)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(l=>{const[h,y]=l;h(y)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,a]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(p.FYo),p.LFG(GD),p.LFG(p.R0b))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();class r1{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?a=>t.destroyNode(a):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,a=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,a)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,a){this.delegate.setAttribute(e,t,r,a)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,a){this.delegate.setStyle(e,t,r,a)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==n1?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class IF extends r1{constructor(e,t,r,a){super(t,r,a),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==n1?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const a=function(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let l=t.substr(1),h="";return"@"!=l.charAt(0)&&([l,h]=function(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(l)),this.engine.listen(this.namespaceId,a,l,h,y=>{this.factory.scheduleListenerCallback(y._data||-1,r,y)})}return this.delegate.listen(e,t,r)}}let AF=(()=>{class n extends GD{constructor(t,r,a){super(t.body,r,a)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(p.LFG(fe),p.LFG(Dx),p.LFG(Vx))},n.\u0275prov=p.Yz7({token:n,factory:n.\u0275fac}),n})();const i1=new p.OlP("AnimationModuleType"),s1=[{provide:Bw,useClass:EF},{provide:Vx,useFactory:function(){return new Pk}},{provide:GD,useClass:AF},{provide:p.FYo,useFactory:function(n,e,t){return new CF(n,e,t)},deps:[es,GD,p.R0b]}],o1=[{provide:Dx,useFactory:function(){return"function"==typeof e1()?new _F:new QP}},{provide:i1,useValue:"BrowserAnimations"},...s1],a1=[{provide:Dx,useClass:_P},{provide:i1,useValue:"NoopAnimations"},...s1];let xF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?a1:o1}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n}),n.\u0275inj=p.cJS({providers:o1,imports:[Ro]}),n})(),MF=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-navbar"]],decls:4,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],[1,"container-fluid"],[1,"navbar-brand","mb-0","h1"]],template:function(t,r){1&t&&(p.TgZ(0,"nav",0),p.TgZ(1,"div",1),p.TgZ(2,"span",2),p._uU(3,"App Empleados - Firebase"),p.qZA(),p.qZA(),p.qZA())},styles:[""]}),n})(),OF=(()=>{class n{constructor(){this.title="empleados"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=p.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&(p._UZ(0,"app-navbar"),p._UZ(1,"router-outlet"))},directives:[MF,W_],styles:[""]}),n})();const u1_firebase={apiKey:"AIzaSyCZzxyFGpnrG0e6ukVx4zOhRF6llmJ4UaQ",authDomain:"empleadosangular-7909e.firebaseapp.com",projectId:"empleadosangular-7909e",storageBucket:"empleadosangular-7909e.appspot.com",messagingSenderId:"656068293164",appId:"1:656068293164:web:85b41a1ae266627e8dd789"};let PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=p.oAB({type:n,bootstrap:[OF]}),n.\u0275inj=p.cJS({providers:[],imports:[[Ro,ak,Hn.hO.initializeApp(u1_firebase),Vw,lP,pT.forRoot(),xF]]}),n})();(0,p.G48)(),El().bootstrapModule(PF).catch(n=>console.error(n))},3394:(Je,be,L)=>{"use strict";L.d(be,{Z:()=>Ce});var p=L(3854),X=L(3910),k=L(8026),ce=L(5422);class re{constructor(K,_e){this._delegate=K,this.firebase=_e,(0,k._addComponent)(K,new X.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,k.deleteApp)(this._delegate)))}_getService(K,_e=k._DEFAULT_ENTRY_NAME){var me;this._delegate.checkDestroyed();const ge=this._delegate.container.getProvider(K);return!ge.isInitialized()&&"EXPLICIT"===(null===(me=ge.getComponent())||void 0===me?void 0:me.instantiationMode)&&ge.initialize(),ge.getImmediate({identifier:_e})}_removeServiceInstance(K,_e=k._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(_e)}_addComponent(K){(0,k._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,k._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const fe=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function te(){const pe=function(pe){const K={},_e={__esModule:!0,initializeApp:function(vt,_n={}){const wt=k.initializeApp(vt,_n);if((0,p.r3)(K,wt.name))return K[wt.name];const It=new pe(wt,_e);return K[wt.name]=It,It},app:ge,registerVersion:k.registerVersion,setLogLevel:k.setLogLevel,onLog:k.onLog,apps:null,SDK_VERSION:k.SDK_VERSION,INTERNAL:{registerComponent:function(vt){const _n=vt.name,wt=_n.replace("-compat","");if(k._registerComponent(vt)&&"PUBLIC"===vt.type){const It=(gt=ge())=>{if("function"!=typeof gt[wt])throw fe.create("invalid-app-argument",{appName:_n});return gt[wt]()};void 0!==vt.serviceProps&&(0,p.ZB)(It,vt.serviceProps),_e[wt]=It,pe.prototype[wt]=function(...gt){return this._getService.bind(this,_n).apply(this,vt.multipleInstances?gt:[])}}return"PUBLIC"===vt.type?_e[wt]:null},removeApp:function(vt){delete K[vt]},useAsService:function(vt,_n){return"serverAuth"===_n?null:_n},modularAPIs:k}};function ge(vt){if(!(0,p.r3)(K,vt=vt||k._DEFAULT_ENTRY_NAME))throw fe.create("no-app",{appName:vt});return K[vt]}return _e.default=_e,Object.defineProperty(_e,"apps",{get:function(){return Object.keys(K).map(vt=>K[vt])}}),ge.App=pe,_e}(re);return pe.INTERNAL=Object.assign(Object.assign({},pe.INTERNAL),{createFirebaseNamespace:te,extendNamespace:function(_e){(0,p.ZB)(pe,_e)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),pe}(),V=new ce.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){V.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const pe=self.firebase.SDK_VERSION;pe&&pe.indexOf("LITE")>=0&&V.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=F;(0,k.registerVersion)("@firebase/app-compat","0.1.7",undefined)},8026:(Je,be,L)=>{"use strict";L.r(be),L.d(be,{FirebaseError:()=>ce.ZR,SDK_VERSION:()=>Ka,_DEFAULT_ENTRY_NAME:()=>go,_addComponent:()=>gs,_addOrOverwriteComponent:()=>Vs,_apps:()=>Vn,_clearComponents:()=>nr,_components:()=>Ls,_getProvider:()=>hn,_registerComponent:()=>ms,_removeServiceInstance:()=>Wt,deleteApp:()=>gr,getApp:()=>Dr,getApps:()=>De,initializeApp:()=>Pr,onLog:()=>Lt,registerVersion:()=>Oi,setLogLevel:()=>Yr});var p=L(8239),X=L(3910),k=L(5422),ce=L(3854);class re{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Ht=>{if(function(nt){const Ae=nt.getComponent();return"VERSION"===(null==Ae?void 0:Ae.type)}(Ht)){const an=Ht.getImmediate();return`${an.library}/${an.version}`}return null}).filter(Ht=>Ht).join(" ")}}const fe="@firebase/app",te=new k.Yd("@firebase/app"),go="[DEFAULT]",tl={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Vn=new Map,Ls=new Map;function gs(nt,Ae){try{nt.container.addComponent(Ae)}catch(Ht){te.debug(`Component ${Ae.name} failed to register with FirebaseApp ${nt.name}`,Ht)}}function Vs(nt,Ae){nt.container.addOrOverwriteComponent(Ae)}function ms(nt){const Ae=nt.name;if(Ls.has(Ae))return te.debug(`There were multiple attempts to register component ${Ae}.`),!1;Ls.set(Ae,nt);for(const Ht of Vn.values())gs(Ht,nt);return!0}function hn(nt,Ae){return nt.container.getProvider(Ae)}function Wt(nt,Ae,Ht=go){hn(nt,Ae).clearInstance(Ht)}function nr(){Ls.clear()}const $t=new ce.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class St{constructor(Ae,Ht,an){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Ht),this._name=Ht.name,this._automaticDataCollectionEnabled=Ht.automaticDataCollectionEnabled,this._container=an,this.container.addComponent(new X.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw $t.create("app-deleted",{appName:this._name})}}const Ka="9.3.0";function Pr(nt,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const Ht=Object.assign({name:go,automaticDataCollectionEnabled:!1},Ae),an=Ht.name;if("string"!=typeof an||!an)throw $t.create("bad-app-name",{appName:String(an)});const vn=Vn.get(an);if(vn){if((0,ce.vZ)(nt,vn.options)&&(0,ce.vZ)(Ht,vn.config))return vn;throw $t.create("duplicate-app",{appName:an})}const Vt=new X.H0(an);for(const qe of Ls.values())Vt.addComponent(qe);const Ze=new St(nt,Ht,Vt);return Vn.set(an,Ze),Ze}function Dr(nt=go){const Ae=Vn.get(nt);if(!Ae)throw $t.create("no-app",{appName:nt});return Ae}function De(){return Array.from(Vn.values())}function gr(nt){return Un.apply(this,arguments)}function Un(){return(Un=(0,p.Z)(function*(nt){const Ae=nt.name;Vn.has(Ae)&&(Vn.delete(Ae),yield Promise.all(nt.container.getProviders().map(Ht=>Ht.delete())),nt.isDeleted=!0)})).apply(this,arguments)}function Oi(nt,Ae,Ht){var an;let vn=null!==(an=tl[nt])&&void 0!==an?an:nt;Ht&&(vn+=`-${Ht}`);const Vt=vn.match(/\s|\//),Ze=Ae.match(/\s|\//);if(Vt||Ze){const qe=[`Unable to register library "${vn}" with version "${Ae}":`];return Vt&&qe.push(`library name "${vn}" contains illegal characters (whitespace or "/")`),Vt&&Ze&&qe.push("and"),Ze&&qe.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void te.warn(qe.join(" "))}ms(new X.wA(`${vn}-version`,()=>({library:vn,version:Ae}),"VERSION"))}function Lt(nt,Ae){if(null!==nt&&"function"!=typeof nt)throw $t.create("invalid-log-argument");(0,k.Am)(nt,Ae)}function Yr(nt){(0,k.Ub)(nt)}ms(new X.wA("platform-logger",Ae=>new re(Ae),"PRIVATE")),Oi(fe,"0.7.6",""),Oi(fe,"0.7.6","esm2017"),Oi("fire-js","")},3910:(Je,be,L)=>{"use strict";L.d(be,{wA:()=>k,H0:()=>le});var p=L(8239),X=L(3854);class k{constructor(F,V,Q){this.name=F,this.instanceFactory=V,this.type=Q,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ce="[DEFAULT]";class re{constructor(F,V){this.name=F,this.container=V,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const V=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(V)){const Q=new X.BH;if(this.instancesDeferred.set(V,Q),this.isInitialized(V)||this.shouldAutoInitialize())try{const Z=this.getOrInitializeService({instanceIdentifier:V});Z&&Q.resolve(Z)}catch(Z){}}return this.instancesDeferred.get(V).promise}getImmediate(F){var V;const Q=this.normalizeInstanceIdentifier(null==F?void 0:F.identifier),Z=null!==(V=null==F?void 0:F.optional)&&void 0!==V&&V;if(!this.isInitialized(Q)&&!this.shouldAutoInitialize()){if(Z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Q})}catch(ue){if(Z)return null;throw ue}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if("EAGER"===F.instantiationMode)try{this.getOrInitializeService({instanceIdentifier:ce})}catch(V){}for(const[V,Q]of this.instancesDeferred.entries()){const Z=this.normalizeInstanceIdentifier(V);try{const ue=this.getOrInitializeService({instanceIdentifier:Z});Q.resolve(ue)}catch(ue){}}}}clearInstance(F=ce){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,p.Z)(function*(){const V=Array.from(F.instances.values());yield Promise.all([...V.filter(Q=>"INTERNAL"in Q).map(Q=>Q.INTERNAL.delete()),...V.filter(Q=>"_delete"in Q).map(Q=>Q._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ce){return this.instances.has(F)}getOptions(F=ce){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:V={}}=F,Q=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(Q))throw Error(`${this.name}(${Q}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Z=this.getOrInitializeService({instanceIdentifier:Q,options:V});for(const[ue,Ce]of this.instancesDeferred.entries())Q===this.normalizeInstanceIdentifier(ue)&&Ce.resolve(Z);return Z}onInit(F,V){var Q;const Z=this.normalizeInstanceIdentifier(V),ue=null!==(Q=this.onInitCallbacks.get(Z))&&void 0!==Q?Q:new Set;ue.add(F),this.onInitCallbacks.set(Z,ue);const Ce=this.instances.get(Z);return Ce&&F(Ce,Z),()=>{ue.delete(F)}}invokeOnInitCallbacks(F,V){const Q=this.onInitCallbacks.get(V);if(Q)for(const Z of Q)try{Z(F,V)}catch(ue){}}getOrInitializeService({instanceIdentifier:F,options:V={}}){let Q=this.instances.get(F);if(!Q&&this.component&&(Q=this.component.instanceFactory(this.container,{instanceIdentifier:(te=F,te===ce?void 0:te),options:V}),this.instances.set(F,Q),this.instancesOptions.set(F,V),this.invokeOnInitCallbacks(Q,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,Q)}catch(Z){}var te;return Q||null}normalizeInstanceIdentifier(F=ce){return this.component?this.component.multipleInstances?F:ce:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class le{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const V=this.getProvider(F.name);if(V.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);V.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const V=new re(F,this);return this.providers.set(F,V),V}getProviders(){return Array.from(this.providers.values())}}},5422:(Je,be,L)=>{"use strict";L.d(be,{in:()=>X,Yd:()=>fe,Ub:()=>le,Am:()=>te});const p=[];var X=(()=>{return(F=X||(X={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",X;var F})();const k={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},ce=X.INFO,re={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},ie=(F,V,...Q)=>{if(V<F.logLevel)return;const Z=(new Date).toISOString(),ue=re[V];if(!ue)throw new Error(`Attempted to log a message with an invalid logType (value: ${V})`);console[ue](`[${Z}]  ${F.name}:`,...Q)};class fe{constructor(V){this.name=V,this._logLevel=ce,this._logHandler=ie,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(V){if(!(V in X))throw new TypeError(`Invalid value "${V}" assigned to \`logLevel\``);this._logLevel=V}setLogLevel(V){this._logLevel="string"==typeof V?k[V]:V}get logHandler(){return this._logHandler}set logHandler(V){if("function"!=typeof V)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=V}get userLogHandler(){return this._userLogHandler}set userLogHandler(V){this._userLogHandler=V}debug(...V){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...V),this._logHandler(this,X.DEBUG,...V)}log(...V){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...V),this._logHandler(this,X.VERBOSE,...V)}info(...V){this._userLogHandler&&this._userLogHandler(this,X.INFO,...V),this._logHandler(this,X.INFO,...V)}warn(...V){this._userLogHandler&&this._userLogHandler(this,X.WARN,...V),this._logHandler(this,X.WARN,...V)}error(...V){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...V),this._logHandler(this,X.ERROR,...V)}}function le(F){p.forEach(V=>{V.setLogLevel(F)})}function te(F,V){for(const Q of p){let Z=null;V&&V.level&&(Z=k[V.level]),Q.userLogHandler=null===F?null:(ue,Ce,...pe)=>{const K=pe.map(_e=>{if(null==_e)return null;if("string"==typeof _e)return _e;if("number"==typeof _e||"boolean"==typeof _e)return _e.toString();if(_e instanceof Error)return _e.message;try{return JSON.stringify(_e)}catch(me){return null}}).filter(_e=>_e).join(" ");Ce>=(null!=Z?Z:ue.logLevel)&&F({level:X[Ce].toLowerCase(),message:K,args:pe,type:ue.name})}}}},8239:(Je,be,L)=>{"use strict";function p(k,ce,re,ie,fe,le,te){try{var F=k[le](te),V=F.value}catch(Q){return void re(Q)}F.done?ce(V):Promise.resolve(V).then(ie,fe)}function X(k){return function(){var ce=this,re=arguments;return new Promise(function(ie,fe){var le=k.apply(ce,re);function te(V){p(le,ie,fe,te,F,"next",V)}function F(V){p(le,ie,fe,te,F,"throw",V)}te(void 0)})}}L.d(be,{Z:()=>X})}},Je=>{Je(Je.s=6564)}]);